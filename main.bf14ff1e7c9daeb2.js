(self.webpackChunkPortfolio=self.webpackChunkPortfolio||[]).push([[179],{519:(pe,E,K)=>{"use strict";function _(e){return"function"==typeof e}function L(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const te=L(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Q(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ne{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(_(r))try{r()}catch(s){t=s instanceof te?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{C(s)}catch(o){t=t??[],o instanceof te?t=[...t,...o.errors]:t.push(o)}}if(t)throw new te(t)}}add(t){var n;if(t&&t!==this)if(this.closed)C(t);else{if(t instanceof ne){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Q(n,t)}remove(t){const{_finalizers:n}=this;n&&Q(n,t),t instanceof ne&&t._removeParent(this)}}ne.EMPTY=(()=>{const e=new ne;return e.closed=!0,e})();const F=ne.EMPTY;function f(e){return e instanceof ne||e&&"closed"in e&&_(e.remove)&&_(e.add)&&_(e.unsubscribe)}function C(e){_(e)?e():e.unsubscribe()}const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},v={setTimeout(e,t,...n){const{delegate:r}=v;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=v;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function x(e){v.setTimeout(()=>{const{onUnhandledError:t}=h;if(!t)throw e;t(e)})}function b(){}const y=I("C",void 0,void 0);function I(e,t,n){return{kind:e,value:t,error:n}}let T=null;function A(e){if(h.useDeprecatedSynchronousErrorHandling){const t=!T;if(t&&(T={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=T;if(T=null,n)throw r}}else e()}class p extends ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,f(t)&&t.add(this)):this.destination=k}static create(t,n,r){return new Y(t,n,r)}next(t){this.isStopped?ie(function O(e){return I("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ie(function m(e){return I("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ie(y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const M=Function.prototype.bind;function H(e,t){return M.call(e,t)}class G{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){W(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){W(r)}else W(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){W(n)}}}class Y extends p{constructor(t,n,r){let i;if(super(),_(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&h.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&H(t.next,s),error:t.error&&H(t.error,s),complete:t.complete&&H(t.complete,s)}):i=t}this.destination=new G(i)}}function W(e){h.useDeprecatedSynchronousErrorHandling?function c(e){h.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=e)}(e):x(e)}function ie(e,t){const{onStoppedNotification:n}=h;n&&v.setTimeout(()=>n(e,t))}const k={closed:!0,next:b,error:function le(e){throw e},complete:b},z="function"==typeof Symbol&&Symbol.observable||"@@observable";function X(e){return e}function B(e){return 0===e.length?X:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let D=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function j(e){return e&&e instanceof p||function w(e){return e&&_(e.next)&&_(e.error)&&_(e.complete)}(e)&&f(e)}(n)?n:new Y(n,r,i);return A(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=g(r))((i,s)=>{const o=new Y({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[z](){return this}pipe(...n){return B(n)(this)}toPromise(n){return new(n=g(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function g(e){var t;return null!==(t=e??h.Promise)&&void 0!==t?t:Promise}const R=L(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let d=(()=>{class e extends D{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new S(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new R}next(n){A(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){A(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){A(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?F:(this.currentObservers=null,s.push(n),new ne(()=>{this.currentObservers=null,Q(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new D;return n.source=this,n}}return e.create=(t,n)=>new S(t,n),e})();class S extends d{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:F}}function N(e){return _(e?.lift)}function U(e){return t=>{if(N(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(e,t,n,r,i){return new ee(e,t,n,r,i)}class ee extends p{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function J(e,t){return U((n,r)=>{let i=0;n.subscribe(q(r,s=>{r.next(e.call(t,s,i++))}))})}function at(e){return this instanceof at?(this.v=e,this):new at(e)}function Ii(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function et(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const In=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Rn(e){return _(e?.then)}function Bt(e){return _(e[z])}function Gn(e){return Symbol.asyncIterator&&_(e?.[Symbol.asyncIterator])}function qn(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kt=function Ri(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oi(e){return _(e?.[kt])}function ai(e){return function An(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(Z){r[Z]&&(i[Z]=function(re){return new Promise(function(fe,ye){s.push([Z,re,fe,ye])>1||a(Z,re)})})}function a(Z,re){try{!function l(Z){Z.value instanceof at?Promise.resolve(Z.value.v).then(u,P):$(s[0][2],Z)}(r[Z](re))}catch(fe){$(s[0][3],fe)}}function u(Z){a("next",Z)}function P(Z){a("throw",Z)}function $(Z,re){Z(re),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield at(n.read());if(i)return yield at(void 0);yield yield at(r)}}finally{n.releaseLock()}})}function Oi(e){return _(e?.getReader)}function Yt(e){if(e instanceof D)return e;if(null!=e){if(Bt(e))return function li(e){return new D(t=>{const n=e[z]();if(_(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(In(e))return function sn(e){return new D(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Rn(e))return function ci(e){return new D(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,x)})}(e);if(Gn(e))return Tf(e);if(oi(e))return function zs(e){return new D(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Oi(e))return function NC(e){return Tf(ai(e))}(e)}throw qn(e)}function Tf(e){return new D(t=>{(function FC(e,t){var n,r,i,s;return function Oe(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(P){try{u(r.next(P))}catch($){o($)}}function l(P){try{u(r.throw(P))}catch($){o($)}}function u(P){P.done?s(P.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(P.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ii(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function br(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Gt(e,t,n=1/0){return _(t)?Gt((r,i)=>J((s,o)=>t(r,s,i,o))(Yt(e(r,i))),n):("number"==typeof t&&(n=t),U((r,i)=>function jC(e,t,n,r,i,s,o,a){const l=[];let u=0,P=0,$=!1;const Z=()=>{$&&!l.length&&!u&&t.complete()},re=ye=>u<r?fe(ye):l.push(ye),fe=ye=>{s&&t.next(ye),u++;let Ee=!1;Yt(n(ye,P++)).subscribe(q(t,De=>{i?.(De),s?re(De):t.next(De)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(u--;l.length&&u<r;){const De=l.shift();o?br(t,o,()=>fe(De)):fe(De)}Z()}catch(De){t.error(De)}}))};return e.subscribe(q(t,re,()=>{$=!0,Z()})),()=>{a?.()}}(r,i,e,n)))}function ki(e=1/0){return Gt(X,e)}const or=new D(e=>e.complete());function Mc(e){return e[e.length-1]}function Ws(e){return function VC(e){return e&&_(e.schedule)}(Mc(e))?e.pop():void 0}function xf(e,t=0){return U((n,r)=>{n.subscribe(q(r,i=>br(r,e,()=>r.next(i),t),()=>br(r,e,()=>r.complete(),t),i=>br(r,e,()=>r.error(i),t)))})}function If(e,t=0){return U((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Rf(e,t){if(!e)throw new Error("Iterable cannot be null");return new D(n=>{br(n,t,()=>{const r=e[Symbol.asyncIterator]();br(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ht(e,t){return t?function YC(e,t){if(null!=e){if(Bt(e))return function $C(e,t){return Yt(e).pipe(If(t),xf(t))}(e,t);if(In(e))return function WC(e,t){return new D(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Rn(e))return function zC(e,t){return Yt(e).pipe(If(t),xf(t))}(e,t);if(Gn(e))return Rf(e,t);if(oi(e))return function GC(e,t){return new D(n=>{let r;return br(n,t,()=>{r=e[kt](),br(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>_(r?.return)&&r.return()})}(e,t);if(Oi(e))return function qC(e,t){return Rf(ai(e),t)}(e,t)}throw qn(e)}(e,t):Yt(e)}class On extends d{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Ge(...e){return Ht(e,Ws(e))}function Of(e={}){const{connector:t=(()=>new d),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,u=0,P=!1,$=!1;const Z=()=>{a?.unsubscribe(),a=void 0},re=()=>{Z(),o=l=void 0,P=$=!1},fe=()=>{const ye=o;re(),ye?.unsubscribe()};return U((ye,Ee)=>{u++,!$&&!P&&Z();const De=l=l??t();Ee.add(()=>{u--,0===u&&!$&&!P&&(a=Pc(fe,i))}),De.subscribe(Ee),!o&&u>0&&(o=new Y({next:be=>De.next(be),error:be=>{$=!0,Z(),a=Pc(re,n,be),De.error(be)},complete:()=>{P=!0,Z(),a=Pc(re,r),De.complete()}}),Yt(ye).subscribe(o))})(s)}}function Pc(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Y({next:()=>{r.unsubscribe(),e()}});return Yt(t(...n)).subscribe(r)}function ar(e,t){return U((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(q(r,l=>{i?.unsubscribe();let u=0;const P=s++;Yt(e(l,P)).subscribe(i=q(r,$=>r.next(t?t(l,$,P,u++):$),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function QC(e,t){return e===t}function ft(e){for(let t in e)if(e[t]===ft)return t;throw Error("Could not find renamed property on target object.")}function $t(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map($t).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Tc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ZC=ft({__forward_ref__:ft});function xc(e){return e.__forward_ref__=xc,e.toString=function(){return $t(this())},e}function We(e){return Ic(e)?e():e}function Ic(e){return"function"==typeof e&&e.hasOwnProperty(ZC)&&e.__forward_ref__===xc}function Rc(e){return e&&!!e.\u0275providers}const kf="https://g.co/ng/security#xss";class Me extends Error{constructor(t,n){super(function ma(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function qe(e){return"string"==typeof e?e:null==e?"":String(e)}function Oc(e,t){throw new Me(-201,!1)}function kn(e,t){null==e&&function He(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ve(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Cr(e){return{providers:e.providers||[],imports:e.imports||[]}}function va(e){return Lf(e,_a)||Lf(e,Nf)}function Lf(e,t){return e.hasOwnProperty(t)?e[t]:null}function ya(e){return e&&(e.hasOwnProperty(kc)||e.hasOwnProperty(ow))?e[kc]:null}const _a=ft({\u0275prov:ft}),kc=ft({\u0275inj:ft}),Nf=ft({ngInjectableDef:ft}),ow=ft({ngInjectorDef:ft});var tt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(tt||{});let Lc;function mn(e){const t=Lc;return Lc=e,t}function jf(e,t,n){const r=va(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&tt.Optional?null:void 0!==t?t:void Oc($t(e))}const Ct=globalThis,Gs={},Vc="__NG_DI_FLAG__",ba="ngTempTokenPath",cw=/\n/gm,Vf="__source";let Li;function $r(e){const t=Li;return Li=e,t}function hw(e,t=tt.Default){if(void 0===Li)throw new Me(-203,!1);return null===Li?jf(e,void 0,t):Li.get(e,t&tt.Optional?null:void 0,t)}function Be(e,t=tt.Default){return(function Ff(){return Lc}()||hw)(We(e),t)}function Ie(e,t=tt.Default){return Be(e,Ca(t))}function Ca(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Uc(e){const t=[];for(let n=0;n<e.length;n++){const r=We(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Me(900,!1);let i,s=tt.Default;for(let o=0;o<r.length;o++){const a=r[o],l=fw(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(Be(i,s))}else t.push(Be(r))}return t}function qs(e,t){return e[Vc]=t,e.prototype[Vc]=t,e}function fw(e){return e[Vc]}function wr(e){return{toString:e}.toString()}var wa=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(wa||{}),Yn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Yn||{});const lr={},lt=[],Ea=ft({\u0275cmp:ft}),Hc=ft({\u0275dir:ft}),$c=ft({\u0275pipe:ft}),Hf=ft({\u0275mod:ft}),Er=ft({\u0275fac:ft}),Ys=ft({__NG_ELEMENT_ID__:ft}),$f=ft({__NG_ENV_ID__:ft});function zf(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}function zc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];Gf(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function Wf(e){return 3===e||4===e||6===e}function Gf(e){return 64===e.charCodeAt(0)}function Xs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||qf(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function qf(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const Yf="ng-template";function mw(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(n&&"class"===s&&-1!==zf(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Xf(e){return 4===e.type&&e.value!==Yf}function vw(e,t,n){return t===(4!==e.type||n?e.value:Yf)}function yw(e,t,n){let r=4;const i=e.attrs||[],s=function Cw(e){for(let t=0;t<e.length;t++)if(Wf(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!vw(e,l,n)||""===l&&1===t.length){if(Xn(r))return!1;o=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!mw(e.attrs,u,n)){if(Xn(r))return!1;o=!0}continue}const $=_w(8&r?"class":l,i,Xf(e),n);if(-1===$){if(Xn(r))return!1;o=!0;continue}if(""!==u){let Z;Z=$>s?"":i[$+1].toLowerCase();const re=8&r?Z:null;if(re&&-1!==zf(re,u,0)||2&r&&u!==Z){if(Xn(r))return!1;o=!0}}}}else{if(!o&&!Xn(r)&&!Xn(l))return!1;if(o&&Xn(l))continue;o=!1,r=l|1&r}}return Xn(r)||o}function Xn(e){return 0==(1&e)}function _w(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function ww(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Kf(e,t,n=!1){for(let r=0;r<t.length;r++)if(yw(e,t[r],n))return!0;return!1}function Qf(e,t){return e?":not("+t.trim()+")":t}function Aw(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xn(o)&&(t+=Qf(s,i),i=""),r=o,s=s||!Xn(r);n++}return""!==i&&(t+=Qf(s,i)),t}function zr(e){return wr(()=>{const t=Jf(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===wa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Yn.Emulated,styles:e.styles||lt,_:null,schemas:e.schemas||null,tView:null,id:""};ep(n);const r=e.dependencies;return n.directiveDefs=Aa(r,!1),n.pipeDefs=Aa(r,!0),n.id=function Rw(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Pw(e){return it(e)||Xt(e)}function Tw(e){return null!==e}function Wr(e){return wr(()=>({type:e.type,bootstrap:e.bootstrap||lt,declarations:e.declarations||lt,imports:e.imports||lt,exports:e.exports||lt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Zf(e,t){if(null==e)return lr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function qt(e){return wr(()=>{const t=Jf(e);return ep(t),t})}function it(e){return e[Ea]||null}function Xt(e){return e[Hc]||null}function on(e){return e[$c]||null}function Dn(e,t){const n=e[Hf]||null;if(!n&&!0===t)throw new Error(`Type ${$t(e)} does not have '\u0275mod' property.`);return n}function Jf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||lr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||lt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zf(e.inputs,t),outputs:Zf(e.outputs)}}function ep(e){e.features?.forEach(t=>t(e))}function Aa(e,t){if(!e)return null;const n=t?on:Pw;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Tw)}const Tt=0,Te=1,Qe=2,St=3,Kn=4,Ks=5,Jt=6,Fi=7,Lt=8,Gr=9,ji=10,Ye=11,Qs=12,tp=13,Bi=14,Nt=15,Zs=16,Vi=17,cr=18,Js=19,np=20,qr=21,Ar=22,eo=23,to=24,nt=25,Wc=1,rp=2,ur=7,Ui=9,Kt=11;function yn(e){return Array.isArray(e)&&"object"==typeof e[Wc]}function an(e){return Array.isArray(e)&&!0===e[Wc]}function Gc(e){return 0!=(4&e.flags)}function di(e){return e.componentOffset>-1}function Da(e){return 1==(1&e.flags)}function Qn(e){return!!e.template}function qc(e){return 0!=(512&e[Qe])}function hi(e,t){return e.hasOwnProperty(Er)?e[Er]:null}let Qt=null,Ma=!1;function Ln(e){const t=Qt;return Qt=e,t}const op={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function lp(e){if(!ro(e)||e.dirty){if(!e.producerMustRecompute(e)&&!dp(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function up(e){e.dirty=!0,function cp(e){if(void 0===e.liveConsumerNode)return;const t=Ma;Ma=!0;try{for(const n of e.liveConsumerNode)n.dirty||up(n)}finally{Ma=t}}(e),e.consumerMarkedDirty?.(e)}function Xc(e){return e&&(e.nextProducerIndex=0),Ln(e)}function Kc(e,t){if(Ln(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ro(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Pa(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function dp(e){Hi(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(lp(n),r!==n.version))return!0}return!1}function hp(e){if(Hi(e),ro(e))for(let t=0;t<e.producerNode.length;t++)Pa(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Pa(e,t){if(function pp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Hi(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Pa(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Hi(i),i.producerIndexOfThis[r]=t}}function ro(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Hi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let gp=null;const _p=()=>{},Ww=(()=>({...op,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:_p}))();class Gw{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xr(){return bp}function bp(e){return e.type.prototype.ngOnChanges&&(e.setInput=Yw),qw}function qw(){const e=wp(this),t=e?.current;if(t){const n=e.previous;if(n===lr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Yw(e,t,n,r){const i=this.declaredInputs[n],s=wp(e)||function Xw(e,t){return e[Cp]=t}(e,{previous:lr,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Gw(l&&l.currentValue,t,a===lr),e[r]=t}Xr.ngInherit=!0;const Cp="__ngSimpleChanges__";function wp(e){return e[Cp]||null}const dr=function(e,t,n){};function wt(e){for(;Array.isArray(e);)e=e[Tt];return e}function _n(e,t){return wt(t[e.index])}function Sp(e,t){return e.data[t]}function Mn(e,t){const n=t[e];return yn(n)?n:n[Tt]}function Kr(e,t){return null==t?null:e[t]}function Dp(e){e[Vi]=0}function tE(e){1024&e[Qe]||(e[Qe]|=1024,Pp(e,1))}function Mp(e){1024&e[Qe]&&(e[Qe]&=-1025,Pp(e,-1))}function Pp(e,t){let n=e[St];if(null===n)return;n[Ks]+=t;let r=n;for(n=n[St];null!==n&&(1===t&&1===r[Ks]||-1===t&&0===r[Ks]);)n[Ks]+=t,r=n,n=n[St]}const $e={lFrame:Bp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ip(){return $e.bindingsEnabled}function we(){return $e.lFrame.lView}function st(){return $e.lFrame.tView}function fi(e){return $e.lFrame.contextLView=e,e[Lt]}function pi(e){return $e.lFrame.contextLView=null,e}function Zt(){let e=Rp();for(;null!==e&&64===e.type;)e=e.parent;return e}function Rp(){return $e.lFrame.currentTNode}function hr(e,t){const n=$e.lFrame;n.currentTNode=e,n.isParent=t}function tu(){return $e.lFrame.isParent}function nu(){$e.lFrame.isParent=!1}function Wi(){return $e.lFrame.bindingIndex++}function fE(e,t){const n=$e.lFrame;n.bindingIndex=n.bindingRootIndex=e,ru(t)}function ru(e){$e.lFrame.currentDirectiveIndex=e}function Np(){return $e.lFrame.currentQueryIndex}function su(e){$e.lFrame.currentQueryIndex=e}function gE(e){const t=e[Te];return 2===t.type?t.declTNode:1===t.type?e[Jt]:null}function Fp(e,t,n){if(n&tt.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&tt.Host||(i=gE(s),null===i||(s=s[Bi],10&i.type))););if(null===i)return!1;t=i,e=s}const r=$e.lFrame=jp();return r.currentTNode=t,r.lView=e,!0}function ou(e){const t=jp(),n=e[Te];$e.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function jp(){const e=$e.lFrame,t=null===e?null:e.child;return null===t?Bp(e):t}function Bp(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Vp(){const e=$e.lFrame;return $e.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Up=Vp;function au(){const e=Vp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function cn(){return $e.lFrame.selectedIndex}function gi(e){$e.lFrame.selectedIndex=e}function Mt(){const e=$e.lFrame;return Sp(e.tView,e.selectedIndex)}let Wp=!0;function xa(){return Wp}function Qr(e){Wp=e}function Ia(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:P}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=P&&(e.destroyHooks??=[]).push(n,P)}}function Ra(e,t,n){Gp(e,t,3,n)}function Oa(e,t,n,r){(3&e[Qe])===n&&Gp(e,t,n,r)}function lu(e,t){let n=e[Qe];(3&n)===t&&(n&=8191,n+=1,e[Qe]=n)}function Gp(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&e[Vi]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[Vi]+=65536),(a<s||-1==s)&&(CE(e,n,t,l),e[Vi]=(4294901760&e[Vi])+l+2),l++}function qp(e,t){dr(4,e,t);const n=Ln(null);try{t.call(e)}finally{Ln(n),dr(5,e,t)}}function CE(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];i?e[Qe]>>13<e[Vi]>>16&&(3&e[Qe])===t&&(e[Qe]+=8192,qp(a,s)):qp(a,s)}const Gi=-1;class so{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function uu(e){return e!==Gi}function oo(e){return 32767&e}function ao(e,t){let n=function SE(e){return e>>16}(e),r=t;for(;n>0;)r=r[Bi],n--;return r}let du=!0;function ka(e){const t=du;return du=e,t}const Yp=255,Xp=5;let DE=0;const fr={};function La(e,t){const n=Kp(e,t);if(-1!==n)return n;const r=t[Te];r.firstCreatePass&&(e.injectorIndex=t.length,hu(r.data,e),hu(t,null),hu(r.blueprint,null));const i=Na(e,t),s=e.injectorIndex;if(uu(i)){const o=oo(i),a=ao(i,t),l=a[Te].data;for(let u=0;u<8;u++)t[s+u]=a[o+u]|l[o+u]}return t[s+8]=i,s}function hu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Kp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Na(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=ig(i),null===r)return Gi;if(n++,i=i[Bi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Gi}function fu(e,t,n){!function ME(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ys)&&(r=n[Ys]),null==r&&(r=n[Ys]=DE++);const i=r&Yp;t.data[e+(i>>Xp)]|=1<<i}(e,t,n)}function Qp(e,t,n){if(n&tt.Optional||void 0!==e)return e;Oc()}function Zp(e,t,n,r){if(n&tt.Optional&&void 0===r&&(r=null),!(n&(tt.Self|tt.Host))){const i=e[Gr],s=mn(void 0);try{return i?i.get(t,r,n&tt.Optional):jf(t,r,n&tt.Optional)}finally{mn(s)}}return Qp(r,0,n)}function Jp(e,t,n,r=tt.Default,i){if(null!==e){if(2048&t[Qe]&&!(r&tt.Self)){const o=function OE(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[Qe]&&!(512&o[Qe]);){const a=eg(s,o,n,r|tt.Self,fr);if(a!==fr)return a;let l=s.parent;if(!l){const u=o[np];if(u){const P=u.get(n,fr,r);if(P!==fr)return P}l=ig(o),o=o[Bi]}s=l}return i}(e,t,n,r,fr);if(o!==fr)return o}const s=eg(e,t,n,r,fr);if(s!==fr)return s}return Zp(t,n,r,i)}function eg(e,t,n,r,i){const s=function xE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ys)?e[Ys]:void 0;return"number"==typeof t?t>=0?t&Yp:RE:t}(n);if("function"==typeof s){if(!Fp(t,e,r))return r&tt.Host?Qp(i,0,r):Zp(t,n,r,i);try{let o;if(o=s(r),null!=o||r&tt.Optional)return o;Oc()}finally{Up()}}else if("number"==typeof s){let o=null,a=Kp(e,t),l=Gi,u=r&tt.Host?t[Nt][Jt]:null;for((-1===a||r&tt.SkipSelf)&&(l=-1===a?Na(e,t):t[a+8],l!==Gi&&ng(r,!1)?(o=t[Te],a=oo(l),t=ao(l,t)):a=-1);-1!==a;){const P=t[Te];if(tg(s,a,P.data)){const $=TE(a,t,n,o,r,u);if($!==fr)return $}l=t[a+8],l!==Gi&&ng(r,t[Te].data[a+8]===u)&&tg(s,a,t)?(o=P,a=oo(l),t=ao(l,t)):a=-1}}return i}function TE(e,t,n,r,i,s){const o=t[Te],a=o.data[e+8],P=Fa(a,o,n,null==r?di(a)&&du:r!=o&&0!=(3&a.type),i&tt.Host&&s===a);return null!==P?mi(t,o,P,a):fr}function Fa(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,P=s>>20,Z=i?a+P:e.directiveEnd;for(let re=r?a:a+P;re<Z;re++){const fe=o[re];if(re<l&&n===fe||re>=l&&fe.type===n)return re}if(i){const re=o[l];if(re&&Qn(re)&&re.type===n)return l}return null}function mi(e,t,n,r){let i=e[n];const s=t.data;if(function wE(e){return e instanceof so}(i)){const o=i;o.resolving&&function JC(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Me(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ht(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():qe(e)}(s[n]));const a=ka(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?mn(o.injectImpl):null;Fp(e,r,tt.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function bE(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=bp(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==u&&mn(u),ka(a),o.resolving=!1,Up()}}return i}function tg(e,t,n){return!!(n[t+(e>>Xp)]&1<<e)}function ng(e,t){return!(e&tt.Self||e&tt.Host&&t)}class un{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Jp(this._tNode,this._lView,t,Ca(r),n)}}function RE(){return new un(Zt(),we())}function pu(e){return Ic(e)?()=>{const t=pu(We(e));return t&&t()}:hi(e)}function ig(e){const t=e[Te],n=t.type;return 2===n?t.declTNode:1===n?e[Jt]:null}const Yi="__parameters__";function Ki(e,t,n){return wr(()=>{const r=function gu(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,P){const $=l.hasOwnProperty(Yi)?l[Yi]:Object.defineProperty(l,Yi,{value:[]})[Yi];for(;$.length<=P;)$.push(null);return($[P]=$[P]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Zi(e,t){e.forEach(n=>Array.isArray(n)?Zi(n,t):t(n))}function og(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ba(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Ua=qs(Ki("Optional"),8),Ha=qs(Ki("SkipSelf"),4);function qa(e){return 128==(128&e.flags)}var Zr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Zr||{});const aA=/^>|^->|<!--|-->|--!>|<!-$/g,lA=/(<|>)/g,cA="\u200b$1\u200b";const Cu=new Map;let uA=0;const Eu="__ngContext__";function en(e,t){yn(t)?(e[Eu]=t[Js],function hA(e){Cu.set(e[Js],e)}(t)):e[Eu]=t}let Au;function Su(e,t){return Au(e,t)}function po(e){const t=e[St];return an(t)?t[St]:t}function Mg(e){return Tg(e[Qs])}function Pg(e){return Tg(e[Kn])}function Tg(e){for(;null!==e&&!an(e);)e=e[Kn];return e}function ns(e,t,n,r,i){if(null!=r){let s,o=!1;an(r)?s=r:yn(r)&&(o=!0,r=r[Tt]);const a=wt(r);0===e&&null!==n?null==i?Og(t,n,a):vi(t,n,a,i||null,!0):1===e&&null!==n?vi(t,n,a,i||null,!0):2===e?function el(e,t,n){const r=Za(e,t);r&&function IA(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function kA(e,t,n,r,i){const s=n[ur];s!==wt(n)&&ns(t,e,r,s,i);for(let a=Kt;a<n.length;a++){const l=n[a];mo(l[Te],l,e,t,r,s)}}(t,e,s,n,i)}}function Du(e,t){return e.createComment(function _g(e){return e.replace(aA,t=>t.replace(lA,cA))}(t))}function Ka(e,t,n){return e.createElement(t,n)}function Ig(e,t){const n=e[Ui],r=n.indexOf(t);Mp(t),n.splice(r,1)}function Qa(e,t){if(e.length<=Kt)return;const n=Kt+t,r=e[n];if(r){const i=r[Zs];null!==i&&i!==e&&Ig(i,r),t>0&&(e[n-1][Kn]=r[Kn]);const s=Ba(e,Kt+t);!function EA(e,t){mo(e,t,t[Ye],2,null,null),t[Tt]=null,t[Jt]=null}(r[Te],r);const o=s[cr];null!==o&&o.detachView(s[Te]),r[St]=null,r[Kn]=null,r[Qe]&=-129}return r}function Mu(e,t){if(!(256&t[Qe])){const n=t[Ye];t[eo]&&hp(t[eo]),t[to]&&hp(t[to]),n.destroyNode&&mo(e,t,n,3,null,null),function DA(e){let t=e[Qs];if(!t)return Pu(e[Te],e);for(;t;){let n=null;if(yn(t))n=t[Qs];else{const r=t[Kt];r&&(n=r)}if(!n){for(;t&&!t[Kn]&&t!==e;)yn(t)&&Pu(t[Te],t),t=t[St];null===t&&(t=e),yn(t)&&Pu(t[Te],t),n=t&&t[Kn]}t=n}}(t)}}function Pu(e,t){if(!(256&t[Qe])){t[Qe]&=-129,t[Qe]|=256,function xA(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof so)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];dr(4,a,l);try{l.call(a)}finally{dr(5,a,l)}}else{dr(4,i,s);try{s.call(i)}finally{dr(5,i,s)}}}}}(e,t),function TA(e,t){const n=e.cleanup,r=t[Fi];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Fi]=null);const i=t[qr];if(null!==i){t[qr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[Te].type&&t[Ye].destroy();const n=t[Zs];if(null!==n&&an(t[St])){n!==t[St]&&Ig(n,t);const r=t[cr];null!==r&&r.detachView(e)}!function fA(e){Cu.delete(e[Js])}(t)}}function Tu(e,t,n){return function Rg(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Tt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Yn.None||s===Yn.Emulated)return null}return _n(r,n)}}(e,t.parent,n)}function vi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Og(e,t,n){e.appendChild(t,n)}function kg(e,t,n,r,i){null!==r?vi(e,t,n,r,i):Og(e,t,n)}function Za(e,t){return e.parentNode(t)}let xu,ku,Fg=function Ng(e,t,n){return 40&e.type?_n(e,n):null};function Ja(e,t,n,r){const i=Tu(e,r,t),s=t[Ye],a=function Lg(e,t,n){return Fg(e,t,n)}(r.parent||t[Jt],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)kg(s,i,n[l],a,!1);else kg(s,i,n,a,!1);void 0!==xu&&xu(s,r,t,n,i)}function go(e,t){if(null!==t){const n=t.type;if(3&n)return _n(t,e);if(4&n)return Iu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return go(e,r);{const i=e[t.index];return an(i)?Iu(-1,i):wt(i)}}if(32&n)return Su(t,e)()||wt(e[t.index]);{const r=Bg(e,t);return null!==r?Array.isArray(r)?r[0]:go(po(e[Nt]),r):go(e,t.next)}}return null}function Bg(e,t){return null!==t?e[Nt][Jt].projection[t.projection]:null}function Iu(e,t){const n=Kt+e+1;if(n<t.length){const r=t[n],i=r[Te].firstChild;if(null!==i)return go(r,i)}return t[ur]}function Ru(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&en(wt(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Ru(e,t,n.child,r,i,s,!1),ns(t,e,i,a,s);else if(32&l){const u=Su(n,r);let P;for(;P=u();)ns(t,e,i,P,s);ns(t,e,i,a,s)}else 16&l?Ug(e,t,r,n,i,s):ns(t,e,i,a,s);n=o?n.projectionNext:n.next}}function mo(e,t,n,r,i,s){Ru(n,r,e.firstChild,t,i,s,!1)}function Ug(e,t,n,r,i,s){const o=n[Nt],l=o[Jt].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)ns(t,e,i,l[u],s);else{let u=l;const P=o[St];qa(r)&&(u.flags|=128),Ru(e,t,u,P,i,s,!0)}}function Hg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function $g(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&zc(e,t,r),null!==i&&Hg(e,t,i),null!==s&&function NA(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class qg{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kf})`}}const KA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ss=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ss||{});function Zn(e){const t=function _o(){const e=we();return e&&e[ji].sanitizer}();return t?t.sanitize(ss.URL,e)||"":function vo(e,t){const n=function GA(e){return e instanceof qg&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${kf})`)}return n===t}(e,"URL")?function Jr(e){return e instanceof qg?e.changingThisBreaksApplicationSecurity:e}(e):function Nu(e){return(e=String(e)).match(KA)?e:"unsafe:"+e}(qe(e))}class Fe{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ve({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const bo=new Fe("ENVIRONMENT_INITIALIZER"),nm=new Fe("INJECTOR",-1),rm=new Fe("INJECTOR_DEF_TYPES");class Vu{get(t,n=Gs){if(n===Gs){const r=new Error(`NullInjectorError: No provider for ${$t(t)}!`);throw r.name="NullInjectorError",r}return n}}function cS(...e){return{\u0275providers:sm(0,e),\u0275fromNgModule:!0}}function sm(e,...t){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Zi(t,o=>{const a=o;il(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&om(i,s),n}function om(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Uu(i,s=>{t(s,r)})}}function il(e,t,n,r){if(!(e=We(e)))return!1;let i=null,s=ya(e);const o=!s&&it(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=ya(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)il(u,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Zi(s.imports,P=>{il(P,t,n,r)&&(u||=[],u.push(P))})}finally{}void 0!==u&&om(u,t)}if(!a){const u=hi(i)||(()=>new i);t({provide:i,useFactory:u,deps:lt},i),t({provide:rm,useValue:i,multi:!0},i),t({provide:bo,useValue:()=>Be(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const u=e;Uu(l,P=>{t(P,u)})}}}return i!==e&&void 0!==e.providers}function Uu(e,t){for(let n of e)Rc(n)&&(n=n.\u0275providers),Array.isArray(n)?Uu(n,t):t(n)}const uS=ft({provide:String,useValue:ft});function Hu(e){return null!==e&&"object"==typeof e&&uS in e}function yi(e){return"function"==typeof e}const $u=new Fe("Set Injector scope."),sl={},hS={};let zu;function ol(){return void 0===zu&&(zu=new Vu),zu}class Fn{}class al extends Fn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gu(t,o=>this.processProvider(o)),this.records.set(nm,os(void 0,this)),i.has("environment")&&this.records.set(Fn,os(void 0,this));const s=this.records.get($u);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rm.multi,lt,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=$r(this),r=mn(void 0);try{return t()}finally{$r(n),mn(r)}}get(t,n=Gs,r=tt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty($f))return t[$f](this);r=Ca(r);const s=$r(this),o=mn(void 0);try{if(!(r&tt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function vS(e){return"function"==typeof e||"object"==typeof e&&e instanceof Fe}(t)&&va(t);l=u&&this.injectableDefInScope(u)?os(Wu(t),sl):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&tt.Self?ol():this.parent).get(t,n=r&tt.Optional&&n===Gs?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ba]=a[ba]||[]).unshift($t(t)),s)throw a;return function pw(e,t,n,r){const i=e[ba];throw t[Vf]&&i.unshift(t[Vf]),e.message=function gw(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=$t(t);if(Array.isArray(t))i=t.map($t).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):$t(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(cw,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[ba]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{mn(o),$r(s)}}resolveInjectorInitializers(){const t=$r(this),n=mn(void 0);try{const i=this.get(bo.multi,lt,tt.Self);for(const s of i)s()}finally{$r(t),mn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push($t(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(t){let n=yi(t=We(t))?t:We(t&&t.provide);const r=function pS(e){return Hu(e)?os(void 0,e.useValue):os(function cm(e,t,n){let r;if(yi(e)){const i=We(e);return hi(i)||Wu(i)}if(Hu(e))r=()=>We(e.useValue);else if(function lm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Uc(e.deps||[]));else if(function am(e){return!(!e||!e.useExisting)}(e))r=()=>Be(We(e.useExisting));else{const i=We(e&&(e.useClass||e.provide));if(!function gS(e){return!!e.deps}(e))return hi(i)||Wu(i);r=()=>new i(...Uc(e.deps))}return r}(e),sl)}(t);if(yi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=os(void 0,sl,!0),i.factory=()=>Uc(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===sl&&(n.value=hS,n.value=n.factory()),"object"==typeof n.value&&n.value&&function mS(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=We(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Wu(e){const t=va(e),n=null!==t?t.factory:hi(e);if(null!==n)return n;if(e instanceof Fe)throw new Me(204,!1);if(e instanceof Function)return function fS(e){const t=e.length;if(t>0)throw function uo(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Me(204,!1);const n=function sw(e){return e&&(e[_a]||e[Nf])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Me(204,!1)}function os(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Gu(e,t){for(const n of e)Array.isArray(n)?Gu(n,t):n&&Rc(n)?Gu(n.\u0275providers,t):t(n)}const ll=new Fe("AppId",{providedIn:"root",factory:()=>yS}),yS="ng",um=new Fe("Platform Initializer"),as=new Fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dm=new Fe("CSP nonce",{providedIn:"root",factory:()=>function is(){if(void 0!==ku)return ku;if(typeof document<"u")return document;throw new Me(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let hm=(e,t,n)=>null;function ed(e,t,n=!1){return hm(e,t,n)}class PS{}class gm{}class xS{resolveComponentFactory(t){throw function TS(e){const t=Error(`No component factory found for ${$t(e)}.`);return t.ngComponent=e,t}(t)}}let pl=(()=>{class e{static#e=this.NULL=new xS}return e})();function IS(){return us(Zt(),we())}function us(e,t){return new jn(_n(e,t))}let jn=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=IS}return e})();function RS(e){return e instanceof jn?e.nativeElement:e}class vm{}let gl=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function OS(){const e=we(),n=Mn(Zt().index,e);return(yn(n)?n:e)[Ye]}()}return e})(),kS=(()=>{class e{static#e=this.\u0275prov=Ve({token:e,providedIn:"root",factory:()=>null})}return e})();class ml{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const LS=new ml("16.2.8"),rd={};function Cm(e,t=null,n=null,r){const i=wm(e,t,n,r);return i.resolveInjectorInitializers(),i}function wm(e,t=null,n=null,r,i=new Set){const s=[n||lt,cS(e)];return r=r||("object"==typeof e?void 0:$t(e)),new al(s,t||ol(),r||null,i)}let Bn=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Gs;static#t=this.NULL=new Vu;static create(n,r){if(Array.isArray(n))return Cm({name:""},r,n,"");{const i=n.name??"";return Cm({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Ve({token:e,providedIn:"any",factory:()=>Be(nm)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function sd(e){return e.ngOriginalError}class Pr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&sd(t);for(;n&&sd(n);)n=sd(n);return n||null}}function ad(e){return t=>{setTimeout(e,void 0,t)}}const xt=class HS extends d{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=ad(s),i&&(i=ad(i)),o&&(o=ad(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof ne&&t.add(a),a}};function Am(...e){}class yt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xt(!1),this.onMicrotaskEmpty=new xt(!1),this.onStable=new xt(!1),this.onError=new xt(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $S(){const e="function"==typeof Ct.requestAnimationFrame;let t=Ct[e?"requestAnimationFrame":"setTimeout"],n=Ct[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function GS(e){const t=()=>{!function WS(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ct,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,cd(e),e.isCheckStableRunning=!0,ld(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),cd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function YS(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return Sm(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Dm(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return Sm(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Dm(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,cd(e),ld(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yt.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(yt.isInAngularZone())throw new Me(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,zS,Am,Am);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const zS={};function ld(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Sm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Dm(e){e._nesting--,ld(e)}class qS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xt,this.onMicrotaskEmpty=new xt,this.onStable=new xt,this.onError=new xt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const Mm=new Fe("",{providedIn:"root",factory:Pm});function Pm(){const e=Ie(yt);let t=!0;return function XC(...e){const t=Ws(e),n=function HC(e,t){return"number"==typeof Mc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Yt(r[0]):ki(n)(Ht(r,t)):or}(new D(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new D(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{yt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const o=e.onUnstable.subscribe(()=>{yt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Of()))}function Tm(e){return e.ownerDocument}function Tr(e){return e instanceof Function?e():e}let ud=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ve({token:e,providedIn:"root",factory:()=>new e})}return e})();function Eo(e){for(;e;){e[Qe]|=64;const t=po(e);if(qc(e)&&!t)return e;e=t}return null}const km=new Fe("",{providedIn:"root",factory:()=>!1});let yl=null;function jm(e,t){return e[t]??Um()}function Bm(e,t){const n=Um();n.producerNode?.length&&(e[t]=yl,n.lView=e,yl=Vm())}const rD={...op,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Eo(e.lView)},lView:null};function Vm(){return Object.create(rD)}function Um(){return yl??=Vm(),yl}const Xe={};function _t(e){Hm(st(),we(),cn()+e,!1)}function Hm(e,t,n,r){if(!r)if(3==(3&t[Qe])){const s=e.preOrderCheckHooks;null!==s&&Ra(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Oa(t,s,0,n)}gi(n)}function Le(e,t=tt.Default){const n=we();return null===n?Be(e,t):Jp(Zt(),n,We(e),t)}function _l(e,t,n,r,i,s,o,a,l,u,P){const $=t.blueprint.slice();return $[Tt]=i,$[Qe]=140|r,(null!==u||e&&2048&e[Qe])&&($[Qe]|=2048),Dp($),$[St]=$[Bi]=e,$[Lt]=n,$[ji]=o||e&&e[ji],$[Ye]=a||e&&e[Ye],$[Gr]=l||e&&e[Gr]||null,$[Jt]=s,$[Js]=function dA(){return uA++}(),$[Ar]=P,$[np]=u,$[Nt]=2==t.type?e[Nt]:$,$}function fs(e,t,n,r,i){let s=e.data[t];if(null===s)s=function dd(e,t,n,r,i){const s=Rp(),o=tu(),l=e.data[t]=function dD(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return function zi(){return null!==$e.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,r,i),function hE(){return $e.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function io(){const e=$e.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return hr(s,!0),s}function Ao(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function zm(e,t,n,r,i){const s=jm(t,eo),o=cn(),a=2&r;try{gi(-1),a&&t.length>nt&&Hm(e,t,nt,!1),dr(a?2:0,i);const u=a?s:null,P=Xc(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{Kc(u,P)}}finally{a&&null===t[eo]&&Bm(t,eo),gi(o),dr(a?3:1,i)}}function hd(e,t,n){if(Gc(t)){const r=Ln(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Ln(r)}}}function fd(e,t,n){Ip()&&(function yD(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;di(n)&&function SD(e,t,n){const r=_n(t,e),i=Wm(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=bl(e,_l(e,i,null,o,r,t,null,e[ji].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||La(n,t),en(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],u=mi(t,e,a,n);en(u,t),null!==o&&DD(0,a-i,u,l,0,o),Qn(l)&&(Mn(n.index,t)[Lt]=mi(t,e,a,n))}}(e,t,n,_n(n,t)),64==(64&n.flags)&&Km(e,t,n))}function pd(e,t,n=_n){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Wm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function gd(e,t,n,r,i,s,o,a,l,u,P){const $=nt+r,Z=$+i,re=function sD(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Xe);return n}($,Z),fe="function"==typeof u?u():u;return re[Te]={type:e,blueprint:re,template:n,queries:null,viewQuery:a,declTNode:t,data:re.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:fe,incompleteFirstPass:!1,ssrId:P}}let Gm=e=>null;function qm(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?Ym(n,t,i,s):r.hasOwnProperty(i)&&Ym(n,t,r[i],s)}return n}function Ym(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function md(e,t,n,r){if(Ip()){const i=null===r?null:{"":-1},s=function bD(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Kf(t,o.selectors,!1))if(r||(r=[]),Qn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),vd(e,t,a.length)}else r.unshift(o),vd(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Xm(e,t,n,o,i,a),i&&function CD(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new Me(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Xs(n.mergedAttrs,n.attrs)}function Xm(e,t,n,r,i,s){for(let u=0;u<r.length;u++)fu(La(n,t),e,r[u].type);!function ED(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const P=r[u];P.providersResolver&&P.providersResolver(P)}let o=!1,a=!1,l=Ao(e,t,r.length,null);for(let u=0;u<r.length;u++){const P=r[u];n.mergedAttrs=Xs(n.mergedAttrs,P.hostAttrs),AD(e,n,t,l,P),wD(l,P,i),null!==P.contentQueries&&(n.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(n.flags|=64);const $=P.type.prototype;!o&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&($.ngOnChanges||$.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function hD(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,u=null;for(let P=t.directiveStart;P<i;P++){const $=s[P],Z=n?n.get($):null,fe=Z?Z.outputs:null;l=qm($.inputs,P,l,Z?Z.inputs:null),u=qm($.outputs,P,u,fe);const ye=null===l||null===o||Xf(t)?null:MD(l,P,o);a.push(ye)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,s)}function Km(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function pE(){return $e.lFrame.currentDirectiveIndex}();try{gi(s);for(let a=r;a<i;a++){const l=e.data[a],u=t[a];ru(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&_D(l,u)}}finally{gi(-1),ru(o)}}function _D(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function vd(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function wD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Qn(t)&&(n[""]=e)}}function AD(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=hi(i.type)),o=new so(s,Qn(i),Le);e.blueprint[r]=o,n[r]=o,function mD(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function vD(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,Ao(e,n,i.hostVars,Xe),i)}function pr(e,t,n,r,i,s){const o=_n(e,t);!function yd(e,t,n,r,i,s,o){if(null==s)e.removeAttribute(t,i,n);else{const a=null==o?qe(s):o(s,r||"",i);e.setAttribute(t,i,a,n)}}(t[Ye],o,s,e.value,n,r,i)}function DD(e,t,n,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)Qm(r,n,o[a++],o[a++],o[a++])}function Qm(e,t,n,r,i){const s=Ln(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Ln(s)}}function MD(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Zm(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Jm(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=e.data[s];su(n[r]),o.contentQueries(2,t[s],s)}}}function bl(e,t){return e[Qs]?e[tp][Kn]=t:e[Qs]=t,e[tp]=t,t}function _d(e,t,n){su(0);const r=Ln(null);try{t(e,n)}finally{Ln(r)}}function ev(e){return e[Fi]||(e[Fi]=[])}function tv(e){return e.cleanup||(e.cleanup=[])}function rv(e,t){const n=e[Gr],r=n?n.get(Pr,null):null;r&&r.handleError(t)}function bd(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];Qm(e.data[o],t[o],r,a,i)}}function xr(e,t,n){const r=function Ta(e,t){return wt(t[e])}(t,e);!function xg(e,t,n){e.setValue(t,n)}(e[Ye],r,n)}function PD(e,t){const n=Mn(t,e),r=n[Te];!function TD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Tt];null!==i&&null===n[Ar]&&(n[Ar]=ed(i,n[Gr])),Cd(r,n,n[Lt])}function Cd(e,t,n){ou(t);try{const r=e.viewQuery;null!==r&&_d(1,r,n);const i=e.template;null!==i&&zm(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Jm(e,t),e.staticViewQueries&&_d(2,e.viewQuery,n);const s=e.components;null!==s&&function xD(e,t){for(let n=0;n<t.length;n++)PD(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Qe]&=-5,au()}}let iv=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function zw(e,t,n){const r=Object.create(Ww);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>up(r),run:()=>{if(r.dirty=!1,r.hasRun&&!dp(r))return;r.hasRun=!0;const o=Xc(r);try{r.cleanupFn(),r.cleanupFn=_p,r.fn(i)}finally{Kc(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ve({token:e,providedIn:"root",factory:()=>new e})}return e})();function Cl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=Tc(i,a):2==s&&(r=Tc(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function So(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(wt(s)),an(s)&&sv(s,r);const o=n.type;if(8&o)So(e,t,n.child,r);else if(32&o){const a=Su(n,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Bg(t,n);if(Array.isArray(a))r.push(...a);else{const l=po(t[Nt]);So(l[Te],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function sv(e,t){for(let n=Kt;n<e.length;n++){const r=e[n],i=r[Te].firstChild;null!==i&&So(r[Te],r,i,t)}e[ur]!==e[Tt]&&t.push(e[ur])}function wl(e,t,n,r=!0){const i=t[ji],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{ov(e,t,e.template,n)}catch(l){throw r&&rv(t,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function ov(e,t,n,r){const i=t[Qe];if(256!=(256&i)){t[ji].effectManager?.flush(),ou(t);try{Dp(t),function kp(e){return $e.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&zm(e,t,n,2,r);const o=3==(3&i);if(o){const u=e.preOrderCheckHooks;null!==u&&Ra(t,u,null)}else{const u=e.preOrderHooks;null!==u&&Oa(t,u,0,null),lu(t,0)}if(function OD(e){for(let t=Mg(e);null!==t;t=Pg(t)){if(!t[rp])continue;const n=t[Ui];for(let r=0;r<n.length;r++){tE(n[r])}}}(t),av(t,2),null!==e.contentQueries&&Jm(e,t),o){const u=e.contentCheckHooks;null!==u&&Ra(t,u)}else{const u=e.contentHooks;null!==u&&Oa(t,u,1),lu(t,1)}!function iD(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=jm(t,to);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)gi(~s);else{const o=s,a=n[++i],l=n[++i];fE(a,o),r.dirty=!1;const u=Xc(r);try{l(2,t[o])}finally{Kc(r,u)}}}}finally{null===t[to]&&Bm(t,to),gi(-1)}}(e,t);const a=e.components;null!==a&&cv(t,a,0);const l=e.viewQuery;if(null!==l&&_d(2,l,r),o){const u=e.viewCheckHooks;null!==u&&Ra(t,u)}else{const u=e.viewHooks;null!==u&&Oa(t,u,2),lu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Qe]&=-73,Mp(t)}finally{au()}}}function av(e,t){for(let n=Mg(e);null!==n;n=Pg(n))for(let r=Kt;r<n.length;r++)lv(n[r],t)}function kD(e,t,n){lv(Mn(t,e),n)}function lv(e,t){if(!function Jw(e){return 128==(128&e[Qe])}(e))return;const n=e[Te],r=e[Qe];if(80&r&&0===t||1024&r||2===t)ov(n,e,n.template,e[Lt]);else if(e[Ks]>0){av(e,1);const i=n.components;null!==i&&cv(e,i,1)}}function cv(e,t,n){for(let r=0;r<t.length;r++)kD(e,t[r],n)}class Do{get rootNodes(){const t=this._lView,n=t[Te];return So(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lt]}set context(t){this._lView[Lt]=t}get destroyed(){return 256==(256&this._lView[Qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[St];if(an(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Qa(t,r),Ba(n,r))}this._attachedToViewContainer=!1}Mu(this._lView[Te],this._lView)}onDestroy(t){!function Tp(e,t){if(256==(256&e[Qe]))throw new Me(911,!1);null===e[qr]&&(e[qr]=[]),e[qr].push(t)}(this._lView,t)}markForCheck(){Eo(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qe]&=-129}reattach(){this._lView[Qe]|=128}detectChanges(){wl(this._lView[Te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function SA(e,t){mo(e,t,t[Ye],2,null,null)}(this._lView[Te],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=t}}class LD extends Do{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;wl(t[Te],t,t[Lt],!1)}checkNoChanges(){}get context(){return null}}class uv extends pl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=it(t);return new Mo(n,this.ngModule)}}function dv(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class FD{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ca(r);const i=this.injector.get(t,rd,r);return i!==rd||n===rd?i:this.parentInjector.get(t,n,r)}}class Mo extends gm{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=dv(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return dv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Sw(e){return e.map(Aw).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof Fn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new FD(t,s):t,a=o.get(vm,null);if(null===a)throw new Me(407,!1);const $={rendererFactory:a,sanitizer:o.get(kS,null),effectManager:o.get(iv,null),afterRenderEventManager:o.get(ud,null)},Z=a.createRenderer(null,this.componentDef),re=this.componentDef.selectors[0][0]||"div",fe=r?function oD(e,t,n,r){const s=r.get(km,!1)||n===Yn.ShadowDom,o=e.selectRootElement(t,s);return function aD(e){Gm(e)}(o),o}(Z,r,this.componentDef.encapsulation,o):Ka(Z,re,function ND(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(re)),De=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let be=null;null!==fe&&(be=ed(fe,o,!0));const Ne=gd(0,null,null,1,0,null,null,null,null,null,null),ze=_l(null,Ne,null,De,null,null,$,Z,o,null,be);let rt,En;ou(ze);try{const Hr=this.componentDef;let Hs,Pf=null;Hr.findHostDirectiveDefs?(Hs=[],Pf=new Map,Hr.findHostDirectiveDefs(Hr,Hs,Pf),Hs.push(Hr)):Hs=[Hr];const IN=function BD(e,t){const n=e[Te],r=nt;return e[r]=t,fs(n,r,2,"#host",null)}(ze,fe),RN=function VD(e,t,n,r,i,s,o){const a=i[Te];!function UD(e,t,n,r){for(const i of e)t.mergedAttrs=Xs(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Cl(t,t.mergedAttrs,!0),null!==n&&$g(r,n,t))}(r,e,t,o);let l=null;null!==t&&(l=ed(t,i[Gr]));const u=s.rendererFactory.createRenderer(t,n);let P=16;n.signals?P=4096:n.onPush&&(P=64);const $=_l(i,Wm(n),null,P,i[e.index],e,s,u,null,null,l);return a.firstCreatePass&&vd(a,e,r.length-1),bl(i,$),i[e.index]=$}(IN,fe,Hr,Hs,ze,$,Z);En=Sp(Ne,nt),fe&&function $D(e,t,n,r){if(r)zc(e,n,["ng-version",LS.full]);else{const{attrs:i,classes:s}=function Dw(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!Xn(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&zc(e,n,i),s&&s.length>0&&Hg(e,n,s.join(" "))}}(Z,Hr,fe,r),void 0!==n&&function zD(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(En,this.ngContentSelectors,n),rt=function HD(e,t,n,r,i,s){const o=Zt(),a=i[Te],l=_n(o,i);Xm(a,i,o,n,null,r);for(let P=0;P<n.length;P++)en(mi(i,a,o.directiveStart+P,o),i);Km(a,i,o),l&&en(l,i);const u=mi(i,a,o.directiveStart+o.componentOffset,o);if(e[Lt]=i[Lt]=u,null!==s)for(const P of s)P(u,t);return hd(a,o,e),u}(RN,Hr,Hs,Pf,ze,[WD]),Cd(Ne,ze,null)}finally{au()}return new jD(this.componentType,rt,us(En,ze),ze,En)}}class jD extends PS{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new LD(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;bd(s[Te],s,i,t,n),this.previousInputValues.set(t,n),Eo(Mn(this._tNode.index,s))}}get injector(){return new un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function WD(){const e=Zt();Ia(we()[Te],e)}function Al(e){return!!wd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function wd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function tn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function _i(e,t,n,r){const i=tn(e,t,n);return tn(e,t+1,r)||i}function To(e,t,n,r){const i=we();return tn(i,Wi(),t)&&(st(),pr(Mt(),i,e,t,n,r)),To}function bi(e,t,n,r,i,s,o,a){const l=we(),u=st(),P=e+nt,$=u.firstCreatePass?function bM(e,t,n,r,i,s,o,a,l){const u=t.consts,P=fs(t,e,4,o||null,Kr(u,a));md(t,n,P,Kr(u,l)),Ia(t,P);const $=P.tView=gd(2,P,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,P),$.queries=t.queries.embeddedTView(P)),P}(P,u,l,t,n,r,i,s,o):u.data[P];hr($,!1);const Z=xv(u,l,$,e);xa()&&Ja(u,l,Z,$),en(Z,l),bl(l,l[P]=Zm(Z,l,Z,$)),Da($)&&fd(u,l,$),null!=o&&pd(l,$,a)}let xv=function Iv(e,t,n,r){return Qr(!0),t[Ye].createComment("")};function It(e,t,n){const r=we();return tn(r,Wi(),t)&&function Tn(e,t,n,r,i,s,o,a){const l=_n(t,n);let P,u=t.inputs;!a&&null!=u&&(P=u[r])?(bd(e,n,P,r,i),di(t)&&function pD(e,t){const n=Mn(t,e);16&n[Qe]||(n[Qe]|=64)}(n,t.index)):3&t.type&&(r=function fD(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}(st(),Mt(),r,e,t,r[Ye],n,!1),It}function Pd(e,t,n,r,i){const o=i?"class":"style";bd(e,n,t.inputs[o],o,r)}function Re(e,t,n,r){const i=we(),s=st(),o=nt+e,a=i[Ye],l=s.firstCreatePass?function SM(e,t,n,r,i,s){const o=t.consts,l=fs(t,e,2,r,Kr(o,i));return md(t,n,l,Kr(o,s)),null!==l.attrs&&Cl(l,l.attrs,!1),null!==l.mergedAttrs&&Cl(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,n,r):s.data[o],u=Rv(s,i,l,a,t,e);i[o]=u;const P=Da(l);return hr(l,!0),$g(a,u,l),32!=(32&l.flags)&&xa()&&Ja(s,i,u,l),0===function rE(){return $e.lFrame.elementDepthCount}()&&en(u,i),function iE(){$e.lFrame.elementDepthCount++}(),P&&(fd(s,i,l),hd(s,l,i)),null!==r&&pd(i,l),Re}function je(){let e=Zt();tu()?nu():(e=e.parent,hr(e,!1));const t=e;(function oE(e){return $e.skipHydrationRootTNode===e})(t)&&function uE(){$e.skipHydrationRootTNode=null}(),function sE(){$e.lFrame.elementDepthCount--}();const n=st();return n.firstCreatePass&&(Ia(n,e),Gc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function EE(e){return 0!=(8&e.flags)}(t)&&Pd(n,t,we(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function AE(e){return 0!=(16&e.flags)}(t)&&Pd(n,t,we(),t.stylesWithoutHost,!1),je}function Ft(e,t,n,r){return Re(e,t,n,r),je(),Ft}let Rv=(e,t,n,r,i,s)=>(Qr(!0),Ka(r,i,function zp(){return $e.lFrame.currentNamespace}()));function Ir(e,t,n){const r=we(),i=st(),s=e+nt,o=i.firstCreatePass?function PM(e,t,n,r,i){const s=t.consts,o=Kr(s,r),a=fs(t,e,8,"ng-container",o);return null!==o&&Cl(a,o,!0),md(t,n,a,Kr(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];hr(o,!0);const a=kv(i,r,o,e);return r[s]=a,xa()&&Ja(i,r,a,o),en(a,r),Da(o)&&(fd(i,r,o),hd(i,o,r)),null!=n&&pd(r,o),Ir}function Rr(){let e=Zt();const t=st();return tu()?nu():(e=e.parent,hr(e,!1)),t.firstCreatePass&&(Ia(t,e),Gc(e)&&t.queries.elementEnd(e)),Rr}let kv=(e,t,n,r)=>(Qr(!0),Du(t[Ye],""));function Td(){return we()}function Tl(e){return!!e&&"function"==typeof e.then}function Lv(e){return!!e&&"function"==typeof e.subscribe}function dn(e,t,n,r){const i=we(),s=st(),o=Zt();return function Fv(e,t,n,r,i,s,o){const a=Da(r),u=e.firstCreatePass&&tv(e),P=t[Lt],$=ev(t);let Z=!0;if(3&r.type||o){const ye=_n(r,t),Ee=o?o(ye):ye,De=$.length,be=o?ze=>o(wt(ze[r.index])):r.index;let Ne=null;if(!o&&a&&(Ne=function IM(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[Fi],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=s,Ne.__ngLastListenerFn__=s,Z=!1;else{s=Bv(r,t,P,s,!1);const ze=n.listen(Ee,i,s);$.push(s,ze),u&&u.push(i,be,De,De+1)}}else s=Bv(r,t,P,s,!1);const re=r.outputs;let fe;if(Z&&null!==re&&(fe=re[i])){const ye=fe.length;if(ye)for(let Ee=0;Ee<ye;Ee+=2){const rt=t[fe[Ee]][fe[Ee+1]].subscribe(s),En=$.length;$.push(s,rt),u&&u.push(i,r.index,En,-(En+1))}}}(s,i,i[Ye],o,e,t,r),dn}function jv(e,t,n,r){try{return dr(6,t,n),!1!==n(r)}catch(i){return rv(e,i),!1}finally{dr(7,t,n)}}function Bv(e,t,n,r,i){return function s(o){if(o===Function)return r;Eo(e.componentOffset>-1?Mn(e.index,t):t);let l=jv(t,n,r,o),u=s.__ngNextListenerFn__;for(;u;)l=jv(t,n,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function Or(e=1){return function mE(e){return($e.lFrame.contextLView=function vE(e,t){for(;e>0;)t=t[Bi],e--;return t}(e,$e.lFrame.contextLView))[Lt]}(e)}function Ze(e,t=""){const n=we(),r=st(),i=e+nt,s=r.firstCreatePass?fs(r,i,1,t,null):r.data[i],o=uy(r,n,s,t,e);n[i]=o,xa()&&Ja(r,n,o,s),hr(s,!1)}let uy=(e,t,n,r,i)=>(Qr(!0),function Xa(e,t){return e.createText(t)}(t[Ye],r));function As(e){return Ld("",e,""),As}function Ld(e,t,n){const r=we(),i=function gs(e,t,n,r){return tn(e,Wi(),n)?t+qe(n)+r:Xe}(r,e,t,n);return i!==Xe&&xr(r,cn(),i),Ld}const Ds="en-US";let Ry=Ds;class Ei{}class i_{}class Hd extends Ei{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uv(this);const i=Dn(t);this._bootstrapComponents=Tr(i.bootstrap),this._r3Injector=wm(t,n,[{provide:Ei,useValue:this},{provide:pl,useValue:this.componentFactoryResolver},...r],$t(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $d extends i_{constructor(t){super(),this.moduleType=t}create(t){return new Hd(this.moduleType,t,[])}}class s_ extends Ei{constructor(t){super(),this.componentFactoryResolver=new uv(this),this.instance=null;const n=new al([...t.providers,{provide:Ei,useValue:this},{provide:pl,useValue:this.componentFactoryResolver}],t.parent||ol(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function zd(e,t,n=null){return new s_({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let MT=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=sm(0,n.type),i=r.length>0?zd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ve({token:e,providedIn:"environment",factory:()=>new e(Be(Fn))})}return e})();function o_(e){e.getStandaloneInjector=t=>t.get(MT).getOrCreateStandaloneInjector(e)}function Gd(e,t,n,r,i,s,o){return function m_(e,t,n,r,i,s,o,a,l){const u=t+n;return function Vn(e,t,n,r,i,s){const o=_i(e,t,n,r);return _i(e,t+2,i,s)||o}(e,u,i,s,o,a)?function gr(e,t,n){return e[t]=n}(e,u+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):function Bo(e,t){const n=e[t];return n===Xe?void 0:n}(e,u+4)}(we(),function ln(){const e=$e.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r,i,s,o)}function ZT(){return this._results[Symbol.iterator]()}class qd{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new xt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=qd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=ZT)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Nn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function jE(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ex(e,t,n,r=!0){const i=t[Te];if(function MA(e,t,n,r){const i=Kt+r,s=n.length;r>0&&(n[i-1][Kn]=t),r<s-Kt?(t[Kn]=n[i],og(n,Kt+r,t)):(n.push(t),t[Kn]=null),t[St]=n;const o=t[Zs];null!==o&&n!==o&&function PA(e,t){const n=e[Ui];t[Nt]!==t[St][St][Nt]&&(e[rp]=!0),null===n?e[Ui]=[t]:n.push(t)}(o,t);const a=t[cr];null!==a&&a.insertView(e),t[Qe]|=128}(i,t,e,n),r){const s=Iu(n,e),o=t[Ye],a=Za(o,e[ur]);null!==a&&function AA(e,t,n,r,i,s){r[Tt]=i,r[Jt]=t,mo(e,r,n,1,i,s)}(i,e[Jt],o,t,a,s)}}let kr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=rx}return e})();const tx=kr,nx=class extends tx{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function JT(e,t,n,r){const i=t.tView,a=_l(e,i,n,4096&e[Qe]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Zs]=e[t.index];const u=e[cr];return null!==u&&(a[cr]=u.createEmbeddedView(i)),Cd(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Do(i)}};function rx(){return Nl(Zt(),we())}function Nl(e,t){return 4&e.type?new nx(t,e,us(e,t)):null}let tr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=cx}return e})();function cx(){return A_(Zt(),we())}const ux=tr,w_=class extends ux{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return us(this._hostTNode,this._hostLView)}get injector(){return new un(this._hostTNode,this._hostLView)}get parentInjector(){const t=Na(this._hostTNode,this._hostLView);if(uu(t)){const n=ao(t,this._hostLView),r=oo(t);return new un(n[Te].data[r+8],n)}return new un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=E_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,s){const o=t&&!function co(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const ye=n||{};a=ye.index,r=ye.injector,i=ye.projectableNodes,s=ye.environmentInjector||ye.ngModuleRef}const l=o?t:new Mo(it(t)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const Ee=(o?u:this.parentInjector).get(Fn,null);Ee&&(s=Ee)}it(l.componentType??{});const re=l.create(u,i,null,s);return this.insertImpl(re.hostView,a,false),re}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function eE(e){return an(e[St])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const u=i[St],P=new w_(u,u[Jt],u[St]);P.detach(P.indexOf(t))}}const o=this._adjustIndex(n),a=this._lContainer;return ex(a,i,o,!r),t.attachToViewContainerRef(),og(Yd(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=E_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Qa(this._lContainer,n);r&&(Ba(Yd(this._lContainer),n),Mu(r[Te],r))}detach(t){const n=this._adjustIndex(t,-1),r=Qa(this._lContainer,n);return r&&null!=Ba(Yd(this._lContainer),n)?new Do(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function E_(e){return e[8]}function Yd(e){return e[8]||(e[8]=[])}function A_(e,t){let n;const r=t[e.index];return an(r)?n=r:(n=Zm(r,t,null,e),t[e.index]=n,bl(t,n)),S_(n,t,e,r),new w_(n,e,t)}let S_=function D_(e,t,n,r){if(e[ur])return;let i;i=8&n.type?wt(r):function dx(e,t){const n=e[Ye],r=n.createComment(""),i=_n(t,e);return vi(n,Za(n,i),r,function RA(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[ur]=i};class Xd{constructor(t){this.queryList=t,this.matches=null}clone(){return new Xd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Kd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==R_(t,n).matches&&this.queries[n].setDirty()}}class M_{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Qd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Qd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Zd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Zd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,px(n,s)),this.matchTNodeWithReadOption(t,n,Fa(n,t,s,!1,!1))}else r===kr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Fa(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===jn||i===tr||i===kr&&4&n.type)this.addMatch(n.index,-2);else{const s=Fa(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function px(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function mx(e,t,n,r){return-1===n?function gx(e,t){return 11&e.type?us(e,t):4&e.type?Nl(e,t):null}(t,e):-2===n?function vx(e,t,n){return n===jn?us(t,e):n===kr?Nl(t,e):n===tr?A_(t,e):void 0}(e,t,r):mi(e,e[Te],n,t)}function P_(e,t,n,r){const i=t[cr].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:mx(t,s[u],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function Jd(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=P_(e,t,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],P=t[-l];for(let $=Kt;$<P.length;$++){const Z=P[$];Z[Zs]===Z[St]&&Jd(Z[Te],Z,u,r)}if(null!==P[Ui]){const $=P[Ui];for(let Z=0;Z<$.length;Z++){const re=$[Z];Jd(re[Te],re,u,r)}}}}}return r}function Uo(e){const t=we(),n=st(),r=Np();su(r+1);const i=R_(n,r);if(e.dirty&&function Zw(e){return 4==(4&e[Qe])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Jd(n,t,r,[]):P_(n,t,i,r);e.reset(s,RS),e.notifyOnChanges()}return!0}return!1}function jl(e,t,n){const r=st();r.firstCreatePass&&(function I_(e,t,n){null===e.queries&&(e.queries=new Qd),e.queries.track(new Zd(t,n))}(r,new M_(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function x_(e,t,n){const r=new qd(4==(4&n));(function uD(e,t,n,r){const i=ev(t);i.push(n),e.firstCreatePass&&tv(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[cr]&&(t[cr]=new Kd),t[cr].queries.push(new Xd(r))}(r,we(),t)}function Ho(){return function yx(e,t){return e[cr].queries[t].queryList}(we(),Np())}function R_(e,t){return e.queries.getByIndex(t)}const sh=new Fe("Application Initializer");let oh=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Ie(sh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Tl(s))n.push(s);else if(Lv(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),X_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Lr=new Fe("LocaleId",{providedIn:"root",factory:()=>Ie(Lr,tt.Optional|tt.SkipSelf)||function Ux(){return typeof $localize<"u"&&$localize.locale||Ds}()});let K_=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new On(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class zx{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Q_=(()=>{class e{compileModuleSync(n){return new $d(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Tr(Dn(n).declarations).reduce((o,a)=>{const l=it(a);return l&&o.push(new Mo(l)),o},[]);return new zx(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const t0=new Fe(""),Ul=new Fe("");let dh,ch=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dh||(function uI(e){dh=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(Be(yt),Be(uh),Be(Ul))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})(),uh=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return dh?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ti=null;const n0=new Fe("AllowMultipleToken"),hh=new Fe("PlatformDestroyListeners"),fh=new Fe("appBootstrapListener");class s0{constructor(t,n){this.name=t,this.token=n}}function a0(e,t,n=[]){const r=`Platform: ${t}`,i=new Fe(r);return(s=[])=>{let o=ph();if(!o||o.injector.get(n0,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function fI(e){if(ti&&!ti.get(n0,!1))throw new Me(400,!1);(function r0(){!function Bw(e){gp=e}(()=>{throw new Me(600,!1)})})(),ti=e;const t=e.get(c0);(function o0(e){e.get(um,null)?.forEach(n=>n())})(e)}(function l0(e=[],t){return Bn.create({name:t,providers:[{provide:$u,useValue:"platform"},{provide:hh,useValue:new Set([()=>ti=null])},...e]})}(a,r))}return function gI(e){const t=ph();if(!t)throw new Me(401,!1);return t}()}}function ph(){return ti?.get(c0)??null}let c0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function mI(e="zone.js",t){return"noop"===e?new qS:"zone.js"===e?new yt(t):e}(r?.ngZone,function u0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function DT(e,t,n){return new Hd(e,t,n)}(n.moduleType,this.injector,function g0(e){return[{provide:yt,useFactory:e},{provide:bo,multi:!0,useFactory:()=>{const t=Ie(yI,{optional:!0});return()=>t.initialize()}},{provide:p0,useFactory:vI},{provide:Mm,useFactory:Pm}]}(()=>i)),o=s.injector.get(Pr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Hl(this._modules,s),a.unsubscribe()})}),function d0(e,t,n){try{const r=n();return Tl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(oh);return a.runInitializers(),a.donePromise.then(()=>(function Oy(e){kn(e,"Expected localeId to be defined"),"string"==typeof e&&(Ry=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Lr,Ds)||Ds),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=h0({},r);return function dI(e,t,n){const r=new $d(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ts);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Me(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(hh,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Bn))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function h0(e,t){return Array.isArray(t)?t.reduce(h0,e):{...e,...t}}let Ts=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ie(p0),this.zoneIsStable=Ie(Mm),this.componentTypes=[],this.components=[],this.isStable=Ie(K_).hasPendingTasks.pipe(ar(n=>n?Ge(!1):this.zoneIsStable),function KC(e,t=X){return e=e??QC,U((n,r)=>{let i,s=!0;n.subscribe(q(r,o=>{const a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Of()),this._injector=Ie(Fn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof gm;if(!this._injector.get(oh).done)throw!i&&function Ni(e){const t=it(e)||Xt(e)||on(e);return null!==t&&t.standalone}(n),new Me(405,!1);let o;o=i?n:this._injector.get(pl).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function hI(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Ei),u=o.create(Bn.NULL,[],r||o.selector,a),P=u.location.nativeElement,$=u.injector.get(t0,null);return $?.registerApplication(P),u.onDestroy(()=>{this.detachView(u.hostView),Hl(this.components,u),$?.unregisterApplication(P)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Hl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(fh,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Me(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const p0=new Fe("",{providedIn:"root",factory:()=>Ie(Pr).handleError.bind(void 0)});function vI(){const e=Ie(yt),t=Ie(Pr);return n=>e.runOutsideAngular(()=>t.handleError(n))}let yI=(()=>{class e{constructor(){this.zone=Ie(yt),this.applicationRef=Ie(Ts)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let gh=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=bI}return e})();function bI(e){return function CI(e,t,n){if(di(e)&&!n){const r=Mn(e.index,t);return new Do(r,r)}return 47&e.type?new Do(t[Nt],t):null}(Zt(),we(),16==(16&e))}class _0{constructor(){}supports(t){return Al(t)}create(t){return new MI(t)}}const DI=(e,t)=>t;class MI{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||DI}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<C0(r,i,s)?n:r,a=C0(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,P=l-i;if(u!=P){for(let Z=0;Z<u;Z++){const re=Z<s.length?s[Z]:s[Z]=0,fe=re+Z;P<=fe&&fe<u&&(s[Z]=re+1)}s[o.previousIndex]=P-u}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Al(t))throw new Me(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function nM(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new PI(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new b0),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new b0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class PI{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TI{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class b0{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new TI,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function C0(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class w0{constructor(){}supports(t){return t instanceof Map||wd(t)}create(){return new xI}}class xI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||wd(t)))throw new Me(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new II(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class II{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function E0(){return new Wl([new _0])}let Wl=(()=>{class e{static#e=this.\u0275prov=Ve({token:e,providedIn:"root",factory:E0});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||E0()),deps:[[e,new Ha,new Ua]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Me(901,!1)}}return e})();function A0(){return new Wo([new w0])}let Wo=(()=>{class e{static#e=this.\u0275prov=Ve({token:e,providedIn:"root",factory:A0});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||A0()),deps:[[e,new Ha,new Ua]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Me(901,!1)}}return e})();const kI=a0(null,"core",[]);let LI=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Ts))};static#t=this.\u0275mod=Wr({type:e});static#n=this.\u0275inj=Cr({})}return e})(),wh=null;function xs(){return wh}class XI{}const Un=new Fe("DocumentToken");let Eh=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:function(){return Ie(QI)},providedIn:"platform"})}return e})();const KI=new Fe("Location Initialized");let QI=(()=>{class e extends Eh{constructor(){super(),this._doc=Ie(Un),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xs().getBaseHref(this._doc)}onPopState(n){const r=xs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=xs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Ah(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function O0(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Nr(e){return e&&"?"!==e[0]?"?"+e:e}let Si=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:function(){return Ie(L0)},providedIn:"root"})}return e})();const k0=new Fe("appBaseHref");let L0=(()=>{class e extends Si{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ie(Un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ah(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Nr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Nr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Eh),Be(k0,8))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ZI=(()=>{class e extends Si{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ah(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Nr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Nr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Eh),Be(k0,8))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})(),Sh=(()=>{class e{constructor(n){this._subject=new xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function t1(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(O0(N0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Nr(r))}normalize(n){return e.stripTrailingSlash(function e1(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,N0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Nr;static#t=this.joinWithSlash=Ah;static#n=this.stripTrailingSlash=O0;static#r=this.\u0275fac=function(r){return new(r||e)(Be(Si))};static#s=this.\u0275prov=Ve({token:e,factory:function(){return function JI(){return new Sh(Be(Si))}()},providedIn:"root"})}return e})();function N0(e){return e.replace(/\/index.html$/,"")}const Lh=/\s+/,W0=[];let G0=(()=>{class e{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=W0,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Lh):W0}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Lh):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Lh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(Le(Wl),Le(Wo),Le(jn),Le(gl))};static#t=this.\u0275dir=qt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class U1{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Y0=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new U1(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),X0(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{X0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Le(tr),Le(kr),Le(Wl))};static#t=this.\u0275dir=qt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function X0(e,t){e.context.$implicit=t.item}let pR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Wr({type:e});static#n=this.\u0275inj=Cr({})}return e})();function eb(e){return"server"===e}let yR=(()=>{class e{static#e=this.\u0275prov=Ve({token:e,providedIn:"root",factory:()=>new _R(Be(Un),window)})}return e})();class _R{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function bR(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zR extends XI{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hh extends zR{static makeCurrent(){!function YI(e){wh||(wh=e)}(new Hh)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function WR(){return Xo=Xo||document.querySelector("base"),Xo?Xo.getAttribute("href"):null}();return null==n?null:function GR(e){sc=sc||document.createElement("a"),sc.setAttribute("href",e);const t=sc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function B1(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let sc,Xo=null,YR=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();const $h=new Fe("EventManagerPlugins");let sb=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Me(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(Be($h),Be(yt))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();class ob{constructor(t){this._doc=t}}const zh="ng-app-id";let ab=(()=>{class e{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=eb(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${zh}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(zh),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(zh,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Un),Be(ll),Be(dm,8),Be(as))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();const Wh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gh=/%COMP%/g,ZR=new Fe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function cb(e,t){return t.map(n=>n.replace(Gh,e))}let ub=(()=>{class e{constructor(n,r,i,s,o,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=eb(a),this.defaultRenderer=new qh(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yn.ShadowDom&&(r={...r,encapsulation:Yn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof hb?i.applyToHost(n):i instanceof Yh&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,P=this.removeStylesOnCompDestroy,$=this.platformIsServer;switch(r.encapsulation){case Yn.Emulated:s=new hb(l,u,r,this.appId,P,o,a,$);break;case Yn.ShadowDom:return new nO(l,u,n,r,o,a,this.nonce,$);default:s=new Yh(l,u,r,P,o,a,$)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(Be(sb),Be(ab),Be(ll),Be(ZR),Be(Un),Be(as),Be(yt),Be(dm))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();class qh{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Wh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(db(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(db(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Me(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=Wh[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Wh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Zr.DashCase|Zr.Important)?t.style.setProperty(n,r,i&Zr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Zr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=xs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function db(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class nO extends qh{constructor(t,n,r,i,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=cb(i.id,i.styles);for(const P of u){const $=document.createElement("style");a&&$.setAttribute("nonce",a),$.textContent=P,this.shadowRoot.appendChild($)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yh extends qh{constructor(t,n,r,i,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?cb(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hb extends Yh{constructor(t,n,r,i,s,o,a,l){const u=i+"-"+r.id;super(t,n,r,s,o,a,l,u),this.contentAttr=function JR(e){return"_ngcontent-%COMP%".replace(Gh,e)}(u),this.hostAttr=function eO(e){return"_nghost-%COMP%".replace(Gh,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let rO=(()=>{class e extends ob{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Un))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();const fb=["alt","control","meta","shift"],iO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let oO=(()=>{class e extends ob{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),fb.forEach(u=>{const P=r.indexOf(u);P>-1&&(r.splice(P,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=iO[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),fb.forEach(o=>{o!==i&&(0,sO[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Un))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();const uO=a0(kI,"browser",[{provide:as,useValue:"browser"},{provide:um,useValue:function aO(){Hh.makeCurrent()},multi:!0},{provide:Un,useFactory:function cO(){return function VA(e){ku=e}(document),document},deps:[]}]),dO=new Fe(""),mb=[{provide:Ul,useClass:class qR{addToWindow(t){Ct.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Me(5103,!1);return s},Ct.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ct.getAllAngularRootElements=()=>t.getAllRootElements(),Ct.frameworkStabilizers||(Ct.frameworkStabilizers=[]),Ct.frameworkStabilizers.push(r=>{const i=Ct.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?xs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:t0,useClass:ch,deps:[yt,uh,Ul]},{provide:ch,useClass:ch,deps:[yt,uh,Ul]}],vb=[{provide:$u,useValue:"root"},{provide:Pr,useFactory:function lO(){return new Pr},deps:[]},{provide:$h,useClass:rO,multi:!0,deps:[Un,yt,as]},{provide:$h,useClass:oO,multi:!0,deps:[Un]},ub,ab,sb,{provide:vm,useExisting:ub},{provide:class CR{},useClass:YR,deps:[]},[]];let hO=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ll,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Be(dO,12))};static#t=this.\u0275mod=Wr({type:e});static#n=this.\u0275inj=Cr({providers:[...vb,...mb],imports:[pR,LI]})}return e})(),yb=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(Be(Un))};static#t=this.\u0275prov=Ve({token:e,factory:function(r){let i=null;return i=r?new r:function pO(){return new yb(Be(Un))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:bO}=Array,{getPrototypeOf:CO,prototype:wO,keys:EO}=Object;const{isArray:DO}=Array;function wb(e){return J(t=>function MO(e,t){return DO(t)?e(...t):e(t)}(e,t))}function Kh(...e){const t=Ws(e),n=function UC(e){return _(Mc(e))?e.pop():void 0}(e),{args:r,keys:i}=function AO(e){if(1===e.length){const t=e[0];if(bO(t))return{args:t,keys:null};if(function SO(e){return e&&"object"==typeof e&&CO(e)===wO}(t)){const n=EO(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Ht([],t);const s=new D(function TO(e,t,n=X){return r=>{Eb(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)Eb(t,()=>{const u=Ht(e[l],t);let P=!1;u.subscribe(q(r,$=>{s[l]=$,P||(P=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>function PO(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,o):X));return n?s.pipe(wb(n)):s}function Eb(e,t,n){e?br(n,e,t):t()}const oc=L(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Qh(...e){return function xO(){return ki(1)}()(Ht(e,Ws(e)))}function Ab(e){return new D(t=>{Yt(e()).subscribe(t)})}function Ko(e,t){const n=_(e)?e:()=>e,r=i=>i.error(n());return new D(t?i=>t.schedule(r,0,i):r)}function Zh(){return U((e,t)=>{let n=null;e._refCount++;const r=q(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class Sb extends D{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,N(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ne;const n=this.getSubject();t.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ne.EMPTY)}return t}refCount(){return Zh()(this)}}function Rs(e){return e<=0?()=>or:U((t,n)=>{let r=0;t.subscribe(q(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Br(e,t){return U((n,r)=>{let i=0;n.subscribe(q(r,s=>e.call(t,s,i++)&&r.next(s)))})}function ac(e){return U((t,n)=>{let r=!1;t.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Db(e=RO){return U((t,n)=>{let r=!1;t.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function RO(){return new oc}function Di(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Br((i,s)=>e(i,s,r)):X,Rs(1),n?ac(t):Db(()=>new oc))}function Qo(e,t){return _(t)?Gt(e,t,1):Gt(e,1)}function nn(e,t,n){const r=_(e)||t||n?{next:e,error:t,complete:n}:e;return r?U((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(q(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):X}function Mi(e){return U((t,n)=>{let s,r=null,i=!1;r=t.subscribe(q(n,void 0,void 0,o=>{s=Yt(e(o,Mi(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Jh(e){return e<=0?()=>or:U((t,n)=>{let r=[];t.subscribe(q(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ef(e){return U((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Pt(e){return U((t,n)=>{Yt(e).subscribe(q(n,()=>n.complete(),b)),!n.closed&&t.subscribe(n)})}const Je="primary",Zo=Symbol("RouteTitle");class FO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Os(e){return new FO(e)}function jO(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function yr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Mb(e[i],t[i]))return!1;return!0}function Mb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function Pb(e){return e.length>0?e[e.length-1]:null}function ri(e){return function _O(e){return!!e&&(e instanceof D||_(e.lift)&&_(e.subscribe))}(e)?e:Tl(e)?Ht(Promise.resolve(e)):Ge(e)}const VO={exact:function Ib(e,t,n){if(!Pi(e.segments,t.segments)||!lc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!Ib(e.children[r],t.children[r],n))return!1;return!0},subset:Rb},Tb={exact:function UO(e,t){return yr(e,t)},subset:function HO(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Mb(e[n],t[n]))},ignored:()=>!0};function xb(e,t,n){return VO[n.paths](e.root,t.root,n.matrixParams)&&Tb[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Rb(e,t,n){return Ob(e,t,t.segments,n)}function Ob(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Pi(i,n)||t.hasChildren()||!lc(i,n,r))}if(e.segments.length===n.length){if(!Pi(e.segments,n)||!lc(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!Rb(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Pi(e.segments,i)&&lc(e.segments,i,r)&&e.children[Je])&&Ob(e.children[Je],t,s,r)}}function lc(e,t,n){return t.every((r,i)=>Tb[n](e[i].parameters,r.parameters))}class ks{constructor(t=new pt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Os(this.queryParams)),this._queryParamMap}toString(){return WO.serialize(this)}}class pt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cc(this)}}class Jo{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Os(this.parameters)),this._parameterMap}toString(){return Nb(this)}}function Pi(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let ea=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:function(){return new tf},providedIn:"root"})}return e})();class tf{parse(t){const n=new nk(t);return new ks(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${ta(t.root,!0)}`,r=function YO(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${uc(n)}=${uc(i)}`).join("&"):`${uc(n)}=${uc(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function GO(e){return encodeURI(e)}(t.fragment)}`:""}`}}const WO=new tf;function cc(e){return e.segments.map(t=>Nb(t)).join("/")}function ta(e,t){if(!e.hasChildren())return cc(e);if(t){const n=e.children[Je]?ta(e.children[Je],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==Je&&r.push(`${i}:${ta(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function zO(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Je&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Je&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Je?[ta(e.children[Je],!1)]:[`${i}:${ta(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Je]?`${cc(e)}/${n[0]}`:`${cc(e)}/(${n.join("//")})`}}function kb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uc(e){return kb(e).replace(/%3B/gi,";")}function nf(e){return kb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dc(e){return decodeURIComponent(e)}function Lb(e){return dc(e.replace(/\+/g,"%20"))}function Nb(e){return`${nf(e.path)}${function qO(e){return Object.keys(e).map(t=>`;${nf(t)}=${nf(e[t])}`).join("")}(e.parameters)}`}const XO=/^[^\/()?;#]+/;function rf(e){const t=e.match(XO);return t?t[0]:""}const KO=/^[^\/()?;=#]+/,ZO=/^[^=?&#]+/,ek=/^[^&#]+/;class nk{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pt([],{}):new pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Je]=new pt(t,n)),r}parseSegment(){const t=rf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Me(4009,!1);return this.capture(t),new Jo(dc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function QO(e){const t=e.match(KO);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=rf(this.remaining);i&&(r=i,this.capture(r))}t[dc(n)]=dc(r)}parseQueryParam(t){const n=function JO(e){const t=e.match(ZO);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function tk(e){const t=e.match(ek);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Lb(n),s=Lb(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Me(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Je);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Je]:new pt([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Me(4011,!1)}}function Fb(e){return e.segments.length>0?new pt([],{[Je]:e}):e}function jb(e){const t={};for(const r of Object.keys(e.children)){const s=jb(e.children[r]);if(r===Je&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function rk(e){if(1===e.numberOfChildren&&e.children[Je]){const t=e.children[Je];return new pt(e.segments.concat(t.segments),t.children)}return e}(new pt(e.segments,t))}function Ti(e){return e instanceof ks}function Bb(e){let t;const i=Fb(function n(s){const o={};for(const l of s.children){const u=n(l);o[l.outlet]=u}const a=new pt(s.url,o);return s===e&&(t=a),a}(e.root));return t??i}function Vb(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return sf(i,i,i,n,r);const s=function sk(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Hb(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Hb(n,t,r)}(t);if(s.toRoot())return sf(i,i,new pt([],{}),n,r);const o=function ok(e,t,n){if(e.isAbsolute)return new fc(t,!0,0);if(!n)return new fc(t,!1,NaN);if(null===n.parent)return new fc(n,!0,0);const r=hc(e.commands[0])?0:1;return function ak(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Me(4005,!1);i=r.segments.length}return new fc(r,!1,i-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?ra(o.segmentGroup,o.index,s.commands):$b(o.segmentGroup,o.index,s.commands);return sf(i,o.segmentGroup,a,n,r)}function hc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function na(e){return"object"==typeof e&&null!=e&&e.outlets}function sf(e,t,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(P=>`${P}`):`${u}`}),o=e===t?n:Ub(e,t,n);const a=Fb(jb(o));return new ks(a,s,i)}function Ub(e,t,n){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===t?n:Ub(s,t,n)}),new pt(e.segments,r)}class Hb{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&hc(r[0]))throw new Me(4003,!1);const i=r.find(na);if(i&&i!==Pb(r))throw new Me(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fc{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function $b(e,t,n){if(e||(e=new pt([],{})),0===e.segments.length&&e.hasChildren())return ra(e,t,n);const r=function ck(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(na(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!Wb(l,u,o))return s;r+=2}else{if(!Wb(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new pt(e.segments.slice(0,r.pathIndex),{});return s.children[Je]=new pt(e.segments.slice(r.pathIndex),e.children),ra(s,0,i)}return r.match&&0===i.length?new pt(e.segments,{}):r.match&&!e.hasChildren()?af(e,t,n):r.match?ra(e,0,i):af(e,t,n)}function ra(e,t,n){if(0===n.length)return new pt(e.segments,{});{const r=function lk(e){return na(e[0])?e[0].outlets:{[Je]:e}}(n),i={};if(Object.keys(r).some(s=>s!==Je)&&e.children[Je]&&1===e.numberOfChildren&&0===e.children[Je].segments.length){const s=ra(e.children[Je],t,n);return new pt(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=$b(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new pt(e.segments,i)}}function af(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(na(s)){const l=uk(s.outlets);return new pt(r,l)}if(0===i&&hc(n[0])){r.push(new Jo(e.segments[t].path,zb(n[0]))),i++;continue}const o=na(s)?s.outlets[Je]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&hc(a)?(r.push(new Jo(o,zb(a))),i+=2):(r.push(new Jo(o,{})),i++)}return new pt(r,{})}function uk(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=af(new pt([],{}),0,r))}),t}function zb(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Wb(e,t,n){return e==n.path&&yr(t,n.parameters)}const ia="imperative";class _r{constructor(t,n){this.id=t,this.url=n}}class pc extends _r{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ii extends _r{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sa extends _r{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ls extends _r{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class gc extends _r{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gb extends _r{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dk extends _r{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hk extends _r{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fk extends _r{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pk extends _r{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gk{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mk{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vk{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yk{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _k{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bk{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qb{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lf{}class cf{constructor(t){this.url=t}}class Ck{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oa,this.attachRef=null}}let oa=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ck,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Yb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=uf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=uf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=df(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return df(t,this._root).map(n=>n.value)}}function uf(e,t){if(e===t.value)return t;for(const n of t.children){const r=uf(e,n);if(r)return r}return null}function df(e,t){if(e===t.value)return[t];for(const n of t.children){const r=df(e,n);if(r.length)return r.unshift(t),r}return[]}class Vr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ns(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class Xb extends Yb{constructor(t,n){super(t),this.snapshot=n,hf(this,t)}toString(){return this.snapshot.toString()}}function Kb(e,t){const n=function wk(e,t){const o=new mc([],{},{},"",{},Je,t,null,{});return new Zb("",new Vr(o,[]))}(0,t),r=new On([new Jo("",{})]),i=new On({}),s=new On({}),o=new On({}),a=new On(""),l=new Fs(r,i,o,a,s,Je,t,n.root);return l.snapshot=n.root,new Xb(new Vr(l,[]),n)}class Fs{constructor(t,n,r,i,s,o,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(u=>u[Zo]))??Ge(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(J(t=>Os(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(J(t=>Os(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qb(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Ek(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class mc{get title(){return this.data?.[Zo]}constructor(t,n,r,i,s,o,a,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Os(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Os(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zb extends Yb{constructor(t,n){super(n),this.url=t,hf(this,n)}toString(){return Jb(this._root)}}function hf(e,t){t.value._routerState=e,t.children.forEach(n=>hf(e,n))}function Jb(e){const t=e.children.length>0?` { ${e.children.map(Jb).join(", ")} } `:"";return`${e.value}${t}`}function ff(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,yr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),yr(t.params,n.params)||e.paramsSubject.next(n.params),function BO(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!yr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),yr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function pf(e,t){const n=yr(e.params,t.params)&&function $O(e,t){return Pi(e,t)&&e.every((n,r)=>yr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||pf(e.parent,t.parent))}let gf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Je,this.activateEvents=new xt,this.deactivateEvents=new xt,this.attachEvents=new xt,this.detachEvents=new xt,this.parentContexts=Ie(oa),this.location=Ie(tr),this.changeDetector=Ie(gh),this.environmentInjector=Ie(Fn),this.inputBinder=Ie(vc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Me(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Me(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Me(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Me(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ak(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=qt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xr]})}return e})();class Ak{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Fs?this.route:t===oa?this.childContexts:this.parent.get(t,n)}}const vc=new Fe("");let eC=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Kh([r.queryParams,r.params,r.data]).pipe(ar(([s,o,a],l)=>(a={...s,...o,...a},0===l?Ge(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function qI(e){const t=it(e);if(!t)return null;const n=new Mo(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();function aa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function Dk(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return aa(e,r,i);return aa(e,r)})}(e,t,n);return new Vr(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>aa(e,a)),o}}const r=function Mk(e){return new Fs(new On(e.url),new On(e.params),new On(e.queryParams),new On(e.fragment),new On(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>aa(e,s));return new Vr(r,i)}}const mf="ngNavigationCancelingError";function tC(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Ti(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=nC(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function nC(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[mf]=!0,r.cancellationCode=t,n&&(r.url=n),r}function rC(e){return e&&e[mf]}let iC=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=zr({type:e,selectors:[["ng-component"]],standalone:!0,features:[o_],decls:1,vars:0,template:function(r,i){1&r&&Ft(0,"router-outlet")},dependencies:[gf],encapsulation:2})}return e})();function vf(e){const t=e.children&&e.children.map(vf),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Je&&(n.component=iC),n}function ir(e){return e.outlet||Je}function la(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Lk{constructor(t,n,r,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),ff(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Ns(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Ns(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Ns(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Ns(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bk(s.value.snapshot))}),t.children.length&&this.forwardEvent(new yk(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(ff(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ff(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=la(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class sC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class yc{constructor(t,n){this.component=t,this.route=n}}function Nk(e,t,n){const r=e._root;return ca(r,t?t._root:null,n,[r.value])}function js(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function iw(e){return null!==va(e)}(e)?t.get(e):e:r}function ca(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ns(t);return e.children.forEach(o=>{(function jk(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Bk(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Pi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Pi(e.url,t.url)||!yr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pf(e,t)||!yr(e.queryParams,t.queryParams);default:return!pf(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new sC(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ca(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yc(a.outlet.component,o))}else o&&ua(t,a,i),i.canActivateChecks.push(new sC(r)),ca(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ua(a,n.getContext(o),i)),i}function ua(e,t,n){const r=Ns(e),i=e.value;Object.entries(r).forEach(([s,o])=>{ua(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new yc(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function da(e){return"function"==typeof e}function oC(e){return e instanceof oc||"EmptyError"===e?.name}const _c=Symbol("INITIAL_VALUE");function Bs(){return ar(e=>Kh(e.map(t=>t.pipe(Rs(1),function IO(...e){const t=Ws(e);return U((n,r)=>{(t?Qh(e,n,t):Qh(e,n)).subscribe(r)})}(_c)))).pipe(J(t=>{for(const n of t)if(!0!==n){if(n===_c)return _c;if(!1===n||n instanceof ks)return n}return!0}),Br(t=>t!==_c),Rs(1)))}function aC(e){return function V(...e){return B(e)}(nn(t=>{if(Ti(t))throw tC(0,t)}),J(t=>!0===t))}class bc{constructor(t){this.segmentGroup=t||null}}class lC{constructor(t){this.urlTree=t}}function Vs(e){return Ko(new bc(e))}function cC(e){return Ko(new lC(e))}class sL{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new Me(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ge(r);if(i.numberOfChildren>1||!i.children[Je])return Ko(new Me(4e3,!1));i=i.children[Je]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new ks(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,r,i)}),new pt(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Me(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const yf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oL(e,t,n,r,i){const s=_f(e,t,n);return s.matched?(r=function Tk(e,t){return e.providers&&!e._injector&&(e._injector=zd(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function nL(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Ge(i.map(o=>{const a=js(o,e);return ri(function Wk(e){return e&&da(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Bs(),aC()):Ge(!0)}(r,t,n).pipe(J(o=>!0===o?s:{...yf}))):Ge(s)}function _f(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...yf}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||jO)(n,e,t);if(!i)return{...yf};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function uC(e,t,n,r){return n.length>0&&function cL(e,t,n){return n.some(r=>Cc(e,t,r)&&ir(r)!==Je)}(e,n,r)?{segmentGroup:new pt(t,lL(r,new pt(n,e.children))),slicedSegments:[]}:0===n.length&&function uL(e,t,n){return n.some(r=>Cc(e,t,r))}(e,n,r)?{segmentGroup:new pt(e.segments,aL(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new pt(e.segments,e.children),slicedSegments:n}}function aL(e,t,n,r,i){const s={};for(const o of r)if(Cc(e,n,o)&&!i[ir(o)]){const a=new pt([],{});s[ir(o)]=a}return{...i,...s}}function lL(e,t){const n={};n[Je]=t;for(const r of e)if(""===r.path&&ir(r)!==Je){const i=new pt([],{});n[ir(r)]=i}return n}function Cc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class pL{constructor(t,n,r,i,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new sL(this.urlSerializer,this.urlTree)}noMatchError(t){return new Me(4002,!1)}recognize(){const t=uC(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Je).pipe(Mi(n=>{if(n instanceof lC)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof bc?this.noMatchError(n):n}),J(n=>{const r=new mc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Je,this.rootComponentType,null,{}),i=new Vr(r,n),s=new Zb("",i),o=function ik(e,t,n=null,r=null){return Vb(Bb(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Je).pipe(Mi(r=>{throw r instanceof bc?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=Qb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ht(i).pipe(Qo(s=>{const o=r.children[s],a=function Ok(e,t){const n=e.filter(r=>ir(r)===t);return n.push(...e.filter(r=>ir(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,o,s)}),function kO(e,t){return U(function OO(e,t,n,r,i){return(s,o)=>{let a=n,l=t,u=0;s.subscribe(q(o,P=>{const $=u++;l=a?e(l,P,$):(a=!0,P),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),ac(null),function LO(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Br((i,s)=>e(i,s,r)):X,Jh(1),n?ac(t):Db(()=>new oc))}(),Gt(s=>{if(null===s)return Vs(r);const o=dC(s);return function gL(e){e.sort((t,n)=>t.value.outlet===Je?-1:n.value.outlet===Je?1:t.value.outlet.localeCompare(n.value.outlet))}(o),Ge(o)}))}processSegment(t,n,r,i,s,o){return Ht(n).pipe(Qo(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,s,o).pipe(Mi(l=>{if(l instanceof bc)return Ge(null);throw l}))),Di(a=>!!a),Mi(a=>{if(oC(a))return function hL(e,t,n){return 0===t.length&&!e.children[n]}(r,i,s)?Ge([]):Vs(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,s,o,a){return function dL(e,t,n,r){return!!(ir(e)===r||r!==Je&&Cc(t,n,e))&&("**"===e.path||_f(t,e,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o):Vs(i):Vs(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?cC(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Gt(o=>{const a=new pt(o,{});return this.processSegment(t,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:P}=_f(n,i,s);if(!a)return Vs(n);const $=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,P);return i.redirectTo.startsWith("/")?cC($):this.applyRedirects.lineralizeSegments(i,$).pipe(Gt(Z=>this.processSegment(t,r,n,Z.concat(u),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?Pb(i).parameters:{};a=Ge({snapshot:new mc(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hC(r),ir(r),r.component??r._loadedComponent??null,r,fC(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=oL(n,r,i,t).pipe(J(({matched:l,consumedSegments:u,remainingSegments:P,parameters:$})=>l?{snapshot:new mc(u,$,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hC(r),ir(r),r.component??r._loadedComponent??null,r,fC(r)),consumedSegments:u,remainingSegments:P}:null));return a.pipe(ar(l=>null===l?Vs(n):this.getChildConfig(t=r._injector??t,r,i).pipe(ar(({routes:u})=>{const P=r._loadedInjector??t,{snapshot:$,consumedSegments:Z,remainingSegments:re}=l,{segmentGroup:fe,slicedSegments:ye}=uC(n,Z,re,u);if(0===ye.length&&fe.hasChildren())return this.processChildren(P,u,fe).pipe(J(De=>null===De?null:[new Vr($,De)]));if(0===u.length&&0===ye.length)return Ge([new Vr($,[])]);const Ee=ir(r)===s;return this.processSegment(P,u,fe,ye,Ee?Je:s,!0).pipe(J(De=>[new Vr($,De)]))}))))}getChildConfig(t,n,r){return n.children?Ge({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ge({routes:n._loadedRoutes,injector:n._loadedInjector}):function tL(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Ge(!0):Ge(i.map(o=>{const a=js(o,e);return ri(function Uk(e){return e&&da(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Bs(),aC())}(t,n,r).pipe(Gt(i=>i?this.configLoader.loadChildren(t,n).pipe(nn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function iL(e){return Ko(nC(!1,3))}())):Ge({routes:[],injector:t})}}function mL(e){const t=e.value.routeConfig;return t&&""===t.path}function dC(e){const t=[],n=new Set;for(const r of e){if(!mL(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=dC(r.children);t.push(new Vr(r.value,i))}return t.filter(r=>!n.has(r))}function hC(e){return e.data||{}}function fC(e){return e.resolve||{}}function pC(e){return"string"==typeof e.title||null===e.title}function bf(e){return ar(t=>{const n=e(t);return n?Ht(n).pipe(J(()=>t)):Ge(t)})}const Us=new Fe("ROUTES");let Cf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ie(Q_)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ge(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ri(n.loadComponent()).pipe(J(gC),nn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),ef(()=>{this.componentLoaders.delete(n)})),i=new Sb(r,()=>new d).pipe(Zh());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ge({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function EL(e,t,n,r){return ri(e.loadChildren()).pipe(J(gC),Gt(i=>i instanceof i_||Array.isArray(i)?Ge(i):Ht(t.compileModuleAsync(i))),J(i=>{r&&r(e);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Us,[],{optional:!0,self:!0}).flat()),{routes:o.map(vf),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ef(()=>{this.childrenLoaders.delete(r)})),o=new Sb(s,()=>new d).pipe(Zh());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gC(e){return function AL(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let wc=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new d,this.transitionAbortSubject=new d,this.configLoader=Ie(Cf),this.environmentInjector=Ie(Fn),this.urlSerializer=Ie(ea),this.rootContexts=Ie(oa),this.inputBindingEnabled=null!==Ie(vc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ge(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new mk(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new gk(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new On({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ia,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Br(s=>0!==s.id),J(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),ar(s=>{this.currentTransition=s;let o=!1,a=!1;return Ge(s).pipe(nn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ar(l=>{const u=l.currentBrowserUrl.toString(),P=!n.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!P&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const Z="";return this.events.next(new Ls(l.id,this.urlSerializer.serialize(l.rawUrl),Z,0)),l.resolve(null),or}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ge(l).pipe(ar(Z=>{const re=this.transitions?.getValue();return this.events.next(new pc(Z.id,this.urlSerializer.serialize(Z.extractedUrl),Z.source,Z.restoredState)),re!==this.transitions?.getValue()?or:Promise.resolve(Z)}),function vL(e,t,n,r,i,s){return Gt(o=>function fL(e,t,n,r,i,s,o="emptyOnly"){return new pL(e,t,n,r,i,o,s).recognize()}(e,t,n,r,o.extractedUrl,i,s).pipe(J(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),nn(Z=>{s.targetSnapshot=Z.targetSnapshot,s.urlAfterRedirects=Z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Z.urlAfterRedirects};const re=new Gb(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(re)}));if(P&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:Z,extractedUrl:re,source:fe,restoredState:ye,extras:Ee}=l,De=new pc(Z,this.urlSerializer.serialize(re),fe,ye);this.events.next(De);const be=Kb(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:be,urlAfterRedirects:re,extras:{...Ee,skipLocationChange:!1,replaceUrl:!1}},Ge(s)}{const Z="";return this.events.next(new Ls(l.id,this.urlSerializer.serialize(l.extractedUrl),Z,1)),l.resolve(null),or}}),nn(l=>{const u=new dk(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),J(l=>(this.currentTransition=s={...l,guards:Nk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function qk(e,t){return Gt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Ge({...n,guardsResult:!0}):function Yk(e,t,n,r){return Ht(e).pipe(Gt(i=>function eL(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ge(s.map(a=>{const l=la(t)??i,u=js(a,l);return ri(function zk(e){return e&&da(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):l.runInContext(()=>u(e,t,n,r))).pipe(Di())})).pipe(Bs()):Ge(!0)}(i.component,i.route,n,t,r)),Di(i=>!0!==i,!0))}(o,r,i,e).pipe(Gt(a=>a&&function Vk(e){return"boolean"==typeof e}(a)?function Xk(e,t,n,r){return Ht(t).pipe(Qo(i=>Qh(function Qk(e,t){return null!==e&&t&&t(new vk(e)),Ge(!0)}(i.route.parent,r),function Kk(e,t){return null!==e&&t&&t(new _k(e)),Ge(!0)}(i.route,r),function Jk(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Fk(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Ab(()=>Ge(o.guards.map(l=>{const u=la(o.node)??n,P=js(l,u);return ri(function $k(e){return e&&da(e.canActivateChild)}(P)?P.canActivateChild(r,e):u.runInContext(()=>P(r,e))).pipe(Di())})).pipe(Bs())));return Ge(s).pipe(Bs())}(e,i.path,n),function Zk(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ge(!0);const i=r.map(s=>Ab(()=>{const o=la(t)??n,a=js(s,o);return ri(function Hk(e){return e&&da(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(Di())}));return Ge(i).pipe(Bs())}(e,i.route,n))),Di(i=>!0!==i,!0))}(r,s,e,t):Ge(a)),J(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),nn(l=>{if(s.guardsResult=l.guardsResult,Ti(l.guardsResult))throw tC(0,l.guardsResult);const u=new hk(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Br(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),bf(l=>{if(l.guards.canActivateChecks.length)return Ge(l).pipe(nn(u=>{const P=new fk(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(P)}),ar(u=>{let P=!1;return Ge(u).pipe(function yL(e,t){return Gt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ge(n);let s=0;return Ht(i).pipe(Qo(o=>function _L(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!pC(i)&&(s[Zo]=i.title),function bL(e,t,n,r){const i=function CL(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Ge({});const s={};return Ht(i).pipe(Gt(o=>function wL(e,t,n,r){const i=la(t)??r,s=js(e,i);return ri(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[o],t,n,r).pipe(Di(),nn(a=>{s[o]=a}))),Jh(1),function NO(e){return J(()=>e)}(s),Mi(o=>oC(o)?or:Ko(o)))}(s,e,t,r).pipe(J(o=>(e._resolvedData=o,e.data=Qb(e,n).resolve,i&&pC(i)&&(e.data[Zo]=i.title),null)))}(o.route,r,e,t)),nn(()=>s++),Jh(1),Gt(o=>s===i.length?Ge(n):or))})}(n.paramsInheritanceStrategy,this.environmentInjector),nn({next:()=>P=!0,complete:()=>{P||this.cancelNavigationTransition(u,"",2)}}))}),nn(u=>{const P=new pk(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(P)}))}),bf(l=>{const u=P=>{const $=[];P.routeConfig?.loadComponent&&!P.routeConfig._loadedComponent&&$.push(this.configLoader.loadComponent(P.routeConfig).pipe(nn(Z=>{P.component=Z}),J(()=>{})));for(const Z of P.children)$.push(...u(Z));return $};return Kh(u(l.targetSnapshot.root)).pipe(ac(),Rs(1))}),bf(()=>this.afterPreactivation()),J(l=>{const u=function Sk(e,t,n){const r=aa(e,t._root,n?n._root:void 0);return new Xb(r,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},s}),nn(()=>{this.events.next(new lf)}),((e,t,n,r)=>J(i=>(new Lk(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Rs(1),nn({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ii(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Pt(this.transitionAbortSubject.pipe(nn(l=>{throw l}))),ef(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Mi(l=>{if(a=!0,rC(l))this.events.next(new sa(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Pk(e){return rC(e)&&Ti(e.url)}(l)?this.events.next(new cf(l.url)):s.resolve(!1);else{this.events.next(new gc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(u){s.reject(u)}}return or}))}))}cancelNavigationTransition(n,r,i){const s=new sa(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mC(e){return e!==ia}let vC=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Je);return r}getResolvedTitleForRoute(n){return n.data[Zo]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:function(){return Ie(SL)},providedIn:"root"})}return e})(),SL=(()=>{class e extends vC{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(Be(yb))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DL=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:function(){return Ie(PL)},providedIn:"root"})}return e})();class ML{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let PL=(()=>{class e extends ML{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function rg(e){return wr(()=>{const t=e.prototype.constructor,n=t[Er]||pu(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[Er]||pu(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(i||e)}}();static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ec=new Fe("",{providedIn:"root",factory:()=>({})});let TL=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:function(){return Ie(xL)},providedIn:"root"})}return e})(),xL=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ha=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ha||{});function yC(e,t){e.events.pipe(Br(n=>n instanceof ii||n instanceof sa||n instanceof gc||n instanceof Ls),J(n=>n instanceof ii||n instanceof Ls?ha.COMPLETE:n instanceof sa&&(0===n.code||1===n.code)?ha.REDIRECTING:ha.FAILED),Br(n=>n!==ha.REDIRECTING),Rs(1)).subscribe(()=>{t()})}function IL(e){throw e}function RL(e,t,n){return t.parse("/")}const OL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ie(X_),this.isNgZoneEnabled=!1,this._events=new d,this.options=Ie(Ec,{optional:!0})||{},this.pendingTasks=Ie(K_),this.errorHandler=this.options.errorHandler||IL,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||RL,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ie(TL),this.routeReuseStrategy=Ie(DL),this.titleStrategy=Ie(vC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ie(Us,{optional:!0})?.flat()??[],this.navigationTransitions=Ie(wc),this.urlSerializer=Ie(ea),this.location=Ie(Sh),this.componentInputBindingEnabled=!!Ie(vc,{optional:!0}),this.eventsSubscription=new ne,this.isNgZoneEnabled=Ie(yt)instanceof yt&&yt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ks,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Kb(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(_C(r)&&this._events.next(r));if(r instanceof pc)mC(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Ls)this.rawUrlTree=i.rawUrl;else if(r instanceof Gb){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof lf)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof sa)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof cf){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mC(i.source)};this.scheduleNavigation(s,ia,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof gc&&this.restoreHistory(i,!0),r instanceof ii&&(this.navigated=!0),_C(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ia,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(vf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let $,P=null;switch(a){case"merge":P={...this.currentUrlTree.queryParams,...s};break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=s||null}null!==P&&(P=this.removeEmptyProps(P));try{$=Bb(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),$=this.currentUrlTree.root}return Vb($,n,P,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ti(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ia,null,r)}navigate(n,r={skipLocationChange:!1}){return function LL(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Me(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...OL}:!1===r?{...kL}:r,Ti(n))return xb(this.currentUrlTree,n,i);const s=this.parseUrl(n);return xb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise(($,Z)=>{a=$,l=Z});const P=this.pendingTasks.add();return yC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(P))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch($=>Promise.reject($))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _C(e){return!(e instanceof lf||e instanceof cf)}class bC{}let jL=(()=>{class e{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Br(n=>n instanceof ii),Qo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=zd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ht(i).pipe(ki())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ge(null);const s=i.pipe(Gt(o=>null===o?Ge(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Ht([s,this.loader.loadComponent(r)]).pipe(ki()):s})}static#e=this.\u0275fac=function(r){return new(r||e)(Be(zn),Be(Q_),Be(Fn),Be(bC),Be(Cf))};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ef=new Fe("");let CC=(()=>{class e{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ii?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ls&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qb&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qb(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function $m(){throw new Error("invalid")}()};static#t=this.\u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})();function Ur(e,t){return{\u0275kind:e,\u0275providers:t}}function EC(){const e=Ie(Bn);return t=>{const n=e.get(Ts);if(t!==n.components[0])return;const r=e.get(zn),i=e.get(AC);1===e.get(Af)&&r.initialNavigation(),e.get(SC,null,tt.Optional)?.setUpPreloading(),e.get(Ef,null,tt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const AC=new Fe("",{factory:()=>new d}),Af=new Fe("",{providedIn:"root",factory:()=>1}),SC=new Fe("");function HL(e){return Ur(0,[{provide:SC,useExisting:jL},{provide:bC,useExisting:e}])}const DC=new Fe("ROUTER_FORROOT_GUARD"),zL=[Sh,{provide:ea,useClass:tf},zn,oa,{provide:Fs,useFactory:function wC(e){return e.routerState.root},deps:[zn]},Cf,[]];function WL(){return new s0("Router",zn)}let MC=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[zL,[],{provide:Us,multi:!0,useValue:n},{provide:DC,useFactory:XL,deps:[[zn,new Ua,new Ha]]},{provide:Ec,useValue:r||{}},r?.useHash?{provide:Si,useClass:ZI}:{provide:Si,useClass:L0},{provide:Ef,useFactory:()=>{const e=Ie(yR),t=Ie(yt),n=Ie(Ec),r=Ie(wc),i=Ie(ea);return n.scrollOffset&&e.setOffset(n.scrollOffset),new CC(i,r,e,t,n)}},r?.preloadingStrategy?HL(r.preloadingStrategy).\u0275providers:[],{provide:s0,multi:!0,useFactory:WL},r?.initialNavigation?KL(r):[],r?.bindToComponentInputs?Ur(8,[eC,{provide:vc,useExisting:eC}]).\u0275providers:[],[{provide:PC,useFactory:EC},{provide:fh,multi:!0,useExisting:PC}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Us,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Be(DC,8))};static#t=this.\u0275mod=Wr({type:e});static#n=this.\u0275inj=Cr({})}return e})();function XL(e){return"guarded"}function KL(e){return["disabled"===e.initialNavigation?Ur(3,[{provide:sh,multi:!0,useFactory:()=>{const t=Ie(zn);return()=>{t.setUpLocationChangeListener()}}},{provide:Af,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ur(2,[{provide:Af,useValue:0},{provide:sh,multi:!0,deps:[Bn],useFactory:t=>{const n=t.get(KI,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(zn),s=t.get(AC);yC(i,()=>{r(!0)}),t.get(wc).afterPreactivation=()=>(r(!0),s.closed?Ge(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const PC=new Fe(""),TC={html:{iconUrl:"../../assets/logos/html.png",class:"html"},css:{iconUrl:"../../assets/logos/css.png",class:"css"},scss:{iconUrl:"../../assets/logos/sass.png",class:"scss"},javascript:{iconUrl:"../../assets/logos/javascript.png",class:"js"},typescript:{iconUrl:"../../assets/logos/typescript-transp.png",class:"ts"},angular:{iconUrl:"../../assets/logos/angular.png",class:"ng"},react:{iconUrl:"../../assets/logos/react.png",class:"react"},wordpress:{iconUrl:"../../assets/logos/wordpress.png",class:"wordpress"},tailwind:{iconUrl:"../../assets/logos/tailwind.png",class:"tw"},bootstrap:{iconUrl:"../../assets/logos/bootstrap.png",class:"bs"},ngBootstrap:{iconUrl:"../../assets/logos/ng-bootstrap.png",class:"ng-bs"},ngMaterial:{iconUrl:"../../assets/logos/ng-material.png",class:"ng-material"},ngKolkov:{iconUrl:"../../assets/logos/ng-kolkov.png",class:"kolkov"},leaflet:{iconUrl:"../../assets/logos/leaflet.svg",class:"leaflet"},karma:{iconUrl:"../../assets/logos/karma.png",class:"karma"},jasmine:{iconUrl:"../../assets/logos/jasmine.png",class:"jasmine"},node:{iconUrl:"../../assets/logos/nodejs.png",class:"node"},nodeSvg:{iconUrl:"../../assets/logos/nodejs-horizontal.svg",class:"node-svg"},express:{iconUrl:"../../assets/logos/express-js-seeklogo.com.svg",class:"exp"},ec2:{iconUrl:"../../assets/logos/ec2.png",class:"ng-bs"},ec2Horizontal:{iconUrl:"../../assets/logos/EC2.jpg",class:"ng-bs"},aws:{iconUrl:"../../assets/logos/AWS.png",class:"aws"},awsWhite:{iconUrl:"../../assets/logos/aws-white.png",class:"hidden"},mysql:{iconUrl:"../../assets/logos/mysql.png",class:"mysql"},firebase:{iconUrl:"../../assets/logos/firebase.png",class:"firebase"}},xC=[{name:"Oceans Gardens",description:"Winning project of the NASA SpaceApps Challenge 2023 (Barcelona Event), built by my team Galactic Space Coders. It's a game that aims to raise awareness among children about the importance of taking care of the oceans.",url:"https://github.com/roger-mir-min/NasaSpaceAppsChallengeOceanGardens",imgUrl:"../assets/images/nasa-challenge.png",iconsUrl:[TC.angular.iconUrl,TC.typescript.iconUrl,TC.ngMaterial.iconUrl,TC.tailwind.iconUrl,TC.scss.iconUrl]},{name:"ITA Challenges",description:"Project I worked at as an internship at IT Academy (July 2023). It is a programming challenges website, aimed to be a useful tool for students at the academy. Still in progress.",url:"https://github.com/roger-mir-min/ita-challenges-frontend",imgUrl:"../assets/images/ITA-logo.jpeg",iconsUrl:[TC.angular.iconUrl,TC.typescript.iconUrl,TC.ngBootstrap.iconUrl,TC.jasmine.iconUrl,TC.karma.iconUrl,TC.mysql.iconUrl]}],Sf=[{name:"Activicat",description:"My main project (in progress). A website with exercises to practice Catalan. You can sign up as a student or teacher, or just practice.",url:"www.activicat.cat",imgUrl:"../assets/images/activicat.png",iconsUrl:[TC.angular.iconUrl,TC.ngBootstrap.iconUrl,TC.ngMaterial.iconUrl,TC.nodeSvg.iconUrl,TC.awsWhite.iconUrl,TC.mysql.iconUrl]},{name:"Crearse - Psicolog\xeda y arte",description:"Professional website for a psychologist. She can log as admin and modify almost all the text (+text format). For that I used Kolkov Angular Editor. Chore: Angular (full standalone, service workers), Tailwind, Firebase. I applied performance, SEO and accessibility criteria.",url:"crearse-a80cc.firebaseapp.com/",imgUrl:"../assets/images/crearse.png",iconsUrl:[TC.angular.iconUrl,TC.typescript.iconUrl,TC.tailwind.iconUrl,TC.ngKolkov.iconUrl]},{name:"El senyor de cada dia",description:"An app where you can create and store your own points of interest and routes in a map. Made with Leaflet and Angular: Angular Signals and Standalone Components :)",url:"https://roger-mir-min.github.io/elsenyorde/",imgUrl:"../assets/images/elsenyorde2.png",iconsUrl:[TC.angular.iconUrl,TC.typescript.iconUrl,TC.ngBootstrap.iconUrl,TC.leaflet.iconUrl]},{name:"Star Wars Starships",description:"An authentication process (localstorage) allows users to access informational cards about Star Wars movies, fetched from the APIs from https://swapi.dev/ and https://starwars-visualguide.com/#/)).",url:"https://roger-mir-min.github.io/ITAcademy-8-SW-Starships/",imgUrl:"../assets/images/sw.png",iconsUrl:[TC.angular.iconUrl,TC.typescript.iconUrl,TC.ngBootstrap.iconUrl]}],ZL=["addListener","removeListener"],JL=["addEventListener","removeEventListener"],eN=["on","off"];function Ot(e,t,n,r){if(_(n)&&(r=n,n=void 0),r)return Ot(e,t,n).pipe(wb(r));const[i,s]=function rN(e){return _(e.addEventListener)&&_(e.removeEventListener)}(e)?JL.map(o=>a=>e[o](t,a,n)):function tN(e){return _(e.addListener)&&_(e.removeListener)}(e)?ZL.map(IC(e,t)):function nN(e){return _(e.on)&&_(e.off)}(e)?eN.map(IC(e,t)):[];if(!i&&In(e))return Gt(o=>Ot(o,t,n))(Yt(e));if(!i)throw new TypeError("Invalid event target");return new D(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function IC(e,t){return n=>r=>e[n](t,r)}class iN extends ne{constructor(t,n){super()}schedule(t,n=0){return this}}const Ac={setInterval(e,t,...n){const{delegate:r}=Ac;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Ac;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},RC={now:()=>(RC.delegate||Date).now(),delegate:void 0};class fa{constructor(t,n=fa.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}fa.now=RC.now;const aN=new class oN extends fa{constructor(t,n=fa.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class sN extends iN{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return Ac.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Ac.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Q(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});var xi=K(627),Sc=K.t(xi,2),sr=K(16),cN=K.t(sr,2);const uN=["pdfViewerContainer"];function Df(e,t,n){e[t]=n}function pa(){return typeof window>"u"}pa()||Df(Sc,"verbosity",xi.VerbosityLevel.INFOS);var Dc=function(e){return e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e[e.ENHANCED=2]="ENHANCED",e}(Dc||{});let fN=(()=>{class e{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof Sc<"u"?`https://unpkg.com/pdfjs-dist@${xi.version}/cmaps/`:null;_imageResourcesPath=typeof Sc<"u"?`https://unpkg.com/pdfjs-dist@${xi.version}/web/images/`:void 0;_renderText=!0;_renderTextMode=Dc.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;resizeTimeout=null;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new d;afterLoadComplete=new xt;pageRendered=new xt;pageInitialized=new xt;textLayerRendered=new xt;onError=new xt;onProgress=new xt;pageChange=new xt(!0);src;set cMapsUrl(n){this._cMapsUrl=n}set page(n){const r=n=parseInt(n,10)||1;this._pdf&&(n=this.getValidPageNumber(n)),this._page=n,r!==n&&this.pageChange.emit(n)}set renderText(n){this._renderText=n}set renderTextMode(n){this._renderTextMode=n}set originalSize(n){this._originalSize=n}set showAll(n){this._showAll=n}set stickToPage(n){this._stickToPage=n}set zoom(n){n<=0||(this._zoom=n)}get zoom(){return this._zoom}set zoomScale(n){this._zoomScale=n}get zoomScale(){return this._zoomScale}set rotation(n){"number"==typeof n&&n%90==0?this._rotation=n:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(n){this._externalLinkTarget=n}set autoresize(n){this._canAutoResize=!!n}set fitToPage(n){this._fitToPage=!!n}set showBorders(n){this._showBorders=!!n}static getLinkTarget(n){switch(n){case"blank":return sr.LinkTarget.BLANK;case"none":return sr.LinkTarget.NONE;case"self":return sr.LinkTarget.SELF;case"parent":return sr.LinkTarget.PARENT;case"top":return sr.LinkTarget.TOP}return null}constructor(n,r){if(this.element=n,this.ngZone=r,pa())return;let i;const s=xi.version;i=window[`pdfWorkerSrc${s}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.js`),Df(xi.GlobalWorkerOptions,"workerSrc",i)}ngAfterViewChecked(){if(this.isInitialized)return;const n=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=n?!1===this.isVisible&&null!=n&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(n){if(!pa()&&this.isVisible)if("src"in n)this.loadPDF();else if(this._pdf){if("renderText"in n?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:Dc.DISABLED,this.resetPdfDocument()):"showAll"in n&&(this.setupViewer(),this.resetPdfDocument()),"page"in n){const{page:r}=n;if(r.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){Ht(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Pt(this.destroy$)).subscribe({next:n=>{const r=this._rotation+n.rotate,i=n.getViewport({scale:this._zoom,rotation:r}).width*e.CSS_UNITS;let s=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&i>this.pdfViewerContainer.nativeElement.clientWidth){const a=n.getViewport({scale:1,rotation:r});s=this.getScale(a.width,a.height),o=!this._stickToPage}this.pdfViewer._setScale(s,o)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const n=e.getLinkTarget(this._externalLinkTarget);return n?{externalLinkTarget:n}:{}}initEventBus(){this.eventBus=function dN(e,t){const n=new e.EventBus;return function hN(e,t){Ot(e,"documentload").pipe(Pt(t)).subscribe(()=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(n)}),Ot(e,"pagerendered").pipe(Pt(t)).subscribe(({pageNumber:n,cssTransform:r,source:i})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:n,cssTransform:r}),i.div.dispatchEvent(s)}),Ot(e,"textlayerrendered").pipe(Pt(t)).subscribe(({pageNumber:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:n}),r.textLayerDiv.dispatchEvent(i)}),Ot(e,"pagechanging").pipe(Pt(t)).subscribe(({pageNumber:n,source:r})=>{const i=document.createEvent("UIEvents");i.initEvent("pagechanging",!0,!0),i.pageNumber=n,r.container.dispatchEvent(i)}),Ot(e,"pagesinit").pipe(Pt(t)).subscribe(({source:n})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesinit",!0,!0,null),n.container.dispatchEvent(r)}),Ot(e,"pagesloaded").pipe(Pt(t)).subscribe(({pagesCount:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesloaded",!0,!0,{pagesCount:n}),r.container.dispatchEvent(i)}),Ot(e,"scalechange").pipe(Pt(t)).subscribe(({scale:n,presetValue:r,source:i})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=n,s.presetValue=r,i.container.dispatchEvent(s)}),Ot(e,"updateviewarea").pipe(Pt(t)).subscribe(({location:n,source:r})=>{const i=document.createEvent("UIEvents");i.initEvent("updateviewarea",!0,!0),i.location=n,r.container.dispatchEvent(i)}),Ot(e,"find").pipe(Pt(t)).subscribe(({source:n,type:r,query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l})=>{if(n===window)return;const u=document.createEvent("CustomEvent");u.initCustomEvent("find"+r,!0,!0,{query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l}),window.dispatchEvent(u)}),Ot(e,"attachmentsloaded").pipe(Pt(t)).subscribe(({attachmentsCount:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:n}),r.container.dispatchEvent(i)}),Ot(e,"sidebarviewchanged").pipe(Pt(t)).subscribe(({view:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("sidebarviewchanged",!0,!0,{view:n}),r.outerContainer.dispatchEvent(i)}),Ot(e,"pagemode").pipe(Pt(t)).subscribe(({mode:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagemode",!0,!0,{mode:n}),r.pdfViewer.container.dispatchEvent(i)}),Ot(e,"namedaction").pipe(Pt(t)).subscribe(({action:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("namedaction",!0,!0,{action:n}),r.pdfViewer.container.dispatchEvent(i)}),Ot(e,"presentationmodechanged").pipe(Pt(t)).subscribe(({active:n,switchInProgress:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("presentationmodechanged",!0,!0,{active:n,switchInProgress:r}),window.dispatchEvent(i)}),Ot(e,"outlineloaded").pipe(Pt(t)).subscribe(({outlineCount:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("outlineloaded",!0,!0,{outlineCount:n}),r.container.dispatchEvent(i)})}(n,t),n}(cN,this.destroy$),Ot(this.eventBus,"pagerendered").pipe(Pt(this.destroy$)).subscribe(n=>{this.pageRendered.emit(n)}),Ot(this.eventBus,"pagesinit").pipe(Pt(this.destroy$)).subscribe(n=>{this.pageInitialized.emit(n)}),Ot(this.eventBus,"pagechanging").pipe(Pt(this.destroy$)).subscribe(({pageNumber:n})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=n,this.pageChange.emit(n)},100)}),Ot(this.eventBus,"textlayerrendered").pipe(Pt(this.destroy$)).subscribe(n=>{this.textLayerRendered.emit(n)})}initPDFServices(){this.pdfLinkService=new sr.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new sr.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:Dc.DISABLED,findController:this.pdfFindController,l10n:new sr.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath}}setupViewer(){Df(Sc,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new sr.PDFViewer(this.getPDFOptions()):new sr.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(n){return n<1?1:n>this._pdf.numPages?this._pdf.numPages:n}getDocumentParams(){const n=typeof this.src;if(!this._cMapsUrl)return this.src;const r={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===n?r.url=this.src:"object"===n&&(void 0!==this.src.byteLength?r.data=this.src:Object.assign(r,this.src)),r}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=xi.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=r=>{this.onProgress.emit(r)};const n=this.src;Ht(this.loadingTask.promise).pipe(Pt(this.destroy$)).subscribe({next:r=>{this._pdf=r,this.lastLoaded=n,this.afterLoadComplete.emit(r),this.resetPdfDocument(),this.update()},error:r=>{this.lastLoaded=null,this.onError.emit(r)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(n,r){const i=this._showBorders?2*e.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-i,o=this.pdfViewerContainer.nativeElement.clientHeight-i;if(0===o||0===r||0===s||0===n)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(o/r,s/n);break;case"page-height":a=o/r;break;default:a=s/n}return this._zoom*a/e.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){pa()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){pa()||this.ngZone.runOutsideAngular(()=>{Ot(window,"resize").pipe(function lN(e,t=aN){return U((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function l(){const u=o+e,P=t.now();if(P<u)return i=this.schedule(void 0,u-P),void r.add(i);a()}n.subscribe(q(r,u=>{s=u,o=t.now(),i||(i=t.schedule(l,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(100),Br(()=>this._canAutoResize&&!!this._pdf),Pt(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(r){return new(r||e)(Le(jn),Le(yt))};static \u0275cmp=zr({type:e,selectors:[["pdf-viewer"]],viewQuery:function(r,i){if(1&r&&jl(uN,5),2&r){let s;Uo(s=Ho())&&(i.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[Xr],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(r,i){1&r&&(Re(0,"div",0,1),Ft(2,"div",2),je())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})}return e})(),pN=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wr({type:e});static \u0275inj=Cr({})}return e})(),OC=(()=>{class e{constructor(n){this.el=n,this.cvSrc="../../../assets/docs/CV-EN-roger-mir-min.pdf",this.element=n.nativeElement}ngOnInit(){document.body.appendChild(this.element),this.element.addEventListener("click",n=>{"cv-modal"===n.target.className&&this.close()})}ngOnDestroy(){this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("cv-modal-open")}close(){this.element.style.display="none",document.body.classList.remove("cv-modal-open")}static#e=this.\u0275fac=function(r){return new(r||e)(Le(jn))};static#t=this.\u0275cmp=zr({type:e,selectors:[["app-modal"]],decls:4,vars:3,consts:[[1,"cv-modal"],[1,"relative","cv-modal-body","rounded","shadow-md"],[1,"mx-auto",2,"width","960px","height","1200px",3,"src","render-text","original-size"],["src","../../../../assets/icons/icon-cross.png","alt","cross-icon",1,"absolute","top-3","right-3","hover:scale-125","cursor-pointer",3,"click"]],template:function(r,i){1&r&&(Re(0,"div",0)(1,"div",1),Ft(2,"pdf-viewer",2),Re(3,"img",3),dn("click",function(){return i.close()}),je()()()),2&r&&(_t(2),It("src",i.cvSrc)("render-text",!0)("original-size",!1))},dependencies:[fN],styles:["[_nghost-%COMP%]{display:none;background-color:#00f;top:0;bottom:0;cursor:crosshair}.cv-modal[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:10000;background-color:#000000bf;padding:40px}.cv-modal-body[_ngcontent-%COMP%]{padding:30px;background:#fff}"]})}return e})();var gN=K(402),kC=K.n(gN);let Mf=(()=>{class e{constructor(){this.sections=new Map}scroll(n){this.sections.get(n).scroll()}register(n){this.sections.set(n.id,n)}remove(n){this.sections.delete(n.id)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=qt({type:e,selectors:[["","appScrollManager",""]]})}return e})(),mN=(()=>{class e{constructor(n,r){this.host=n,this.manager=r}ngOnInit(){this.manager.register(this)}ngOnDestroy(){this.manager.remove(this)}scroll(){this.host.nativeElement.scrollIntoView({behavior:"smooth"})}static#e=this.\u0275fac=function(r){return new(r||e)(Le(jn),Le(Mf))};static#t=this.\u0275dir=qt({type:e,selectors:[["","appScrollSection",""]],inputs:{id:["appScrollSection","id"]}})}return e})();function vN(e,t){if(1&e&&(Ir(0),Re(1,"div",33),Ft(2,"img",34),je(),Rr()),2&e){const n=t.$implicit;_t(1),It("ngClass",n.class),_t(1),It("src",n.iconUrl,Zn)}}function yN(e,t){if(1&e&&(Ir(0),Re(1,"div",33),Ft(2,"img",34),je(),Rr()),2&e){const n=t.$implicit;_t(1),It("ngClass",n.class),_t(1),It("src",n.iconUrl,Zn)}}function _N(e,t){if(1&e&&(Ir(0),Ft(1,"img",40),Rr()),2&e){const n=t.$implicit;_t(1),It("src",n,Zn)}}function bN(e,t){if(1&e){const n=Td();Ir(0),Re(1,"div",35),dn("mouseover",function(){const s=fi(n).index;return pi(Or().selectProject(s))}),Ft(2,"img",36),Re(3,"div",37)(4,"h3"),Ze(5),je(),Re(6,"p"),Ze(7),je(),Re(8,"div",38),bi(9,_N,2,1,"ng-container",16),je(),Re(10,"a",39),dn("mouseover",function(){return fi(n),pi(Or().hoverCvLink("card-button"))})("mouseleave",function(){return fi(n),pi(Or().hoverCvLink("card-button"))}),Ze(11,"View project"),je()()(),Rr()}if(2&e){const n=t.$implicit,r=t.index,i=Or();_t(1),To("data-aos-delay",i.aosDelay(r)),_t(1),It("src",n.imgUrl,Zn),_t(3),As(n.name),_t(2),As(n.description),_t(2),It("ngForOf",n.iconsUrl),_t(1),It("href",n.url,Zn)}}function CN(e,t){if(1&e&&(Ir(0),Ft(1,"img",40),Rr()),2&e){const n=t.$implicit;_t(1),It("src",n,Zn)}}function wN(e,t){if(1&e){const n=Td();Ir(0),Re(1,"div",41),dn("mouseover",function(){const s=fi(n).index;return pi(Or().selectProject(s))}),Ft(2,"img",36),Re(3,"div",37)(4,"h3"),Ze(5),je(),Re(6,"p"),Ze(7),je(),Re(8,"div",42),bi(9,CN,2,1,"ng-container",16),je(),Re(10,"a",39),dn("mouseover",function(){return fi(n),pi(Or().hoverCvLink("card-button"))})("mouseleave",function(){return fi(n),pi(Or().hoverCvLink("card-button"))}),Ze(11,"View project"),je()()(),Rr()}if(2&e){const n=t.$implicit,r=t.index,i=Or();_t(1),To("data-aos-delay",i.aosDelay(r)),_t(1),It("src",n.imgUrl,Zn),_t(3),As(n.name),_t(2),As(n.description),_t(2),It("ngForOf",n.iconsUrl),_t(1),It("href",n.url,Zn)}}const LC=function(e,t,n,r){return{downloadHover:e,openHover:t,contactHover:n,cardButtonHover:r}},EN=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{class e{selectProject(n){this.selectedProject=this.indivProjects[n]}constructor(n){this.elRef=n,this.indivProjects=Sf,this.collabProjects=xC,this.icons=Object.values(TC),this.cvSrc="../../assets/docs/CV-EN-roger-mir-min.pdf",this.downloadCvLinkIsHovered=!1,this.openCvLinkIsHovered=!1,this.contactLinkIsHovered=!1,this.cardButtonIsHovered=!1,this.selectedProject=Sf[0]}ngOnInit(){kC().init(),window.addEventListener("load",kC().refresh);const n=this.elRef.nativeElement.querySelector(".cursor-dot"),r=this.elRef.nativeElement.querySelector(".cursor-outline");window.addEventListener("mousemove",function(i){const s=i.clientX,o=i.clientY;n.style.left=`${s}px`,n.style.top=`${o}px`,r.style.left=`${s}px`,r.style.top=`${o}px`,r.animate({left:`${s}px`,top:`${o}px`},{duration:500,fill:"forwards"})})}hoverCvLink(n){"downloadCv"===n?this.downloadCvLinkIsHovered=!this.downloadCvLinkIsHovered:"openCv"===n?this.openCvLinkIsHovered=!this.openCvLinkIsHovered:"contact"===n?this.contactLinkIsHovered=!this.contactLinkIsHovered:"card-button"===n&&(this.cardButtonIsHovered=!this.cardButtonIsHovered)}openCvModal(){this.modal.open()}aosDelay(n){const r=n+1;return r%3==0?300+450*(r/3-1):r%2==0?150+450*(r/2-1):450*(r-1)}static#e=this.\u0275fac=function(r){return new(r||e)(Le(jn))};static#t=this.\u0275cmp=zr({type:e,selectors:[["app-home"]],viewQuery:function(r,i){if(1&r&&jl(OC,5),2&r){let s;Uo(s=Ho())&&(i.modal=s.first)}},decls:66,vars:17,consts:[["appScrollSection","header",1,"header","p-7","md:p-12","md:pb-8"],[1,"header-top","text-center","flex","flex-col","lg:flex-row","justify-center","mb-6","md:mb-8"],[1,"text-bold"],[1,"slidingVertical","flex","w-full","lg:w-64","flex-row","items-center","justify-center"],[1,""],[1,"cursor-dot",3,"ngClass"],[1,"cursor-outline",3,"ngClass"],[1,"w-20","mx-auto"],[1,"mx-auto","w-full","md:w-3/6","text-center"],["appScrollSection","stack",1,"text-3xl","font-bold","mt-6","md:mt-8","mb-6"],[1,"text-justify","mb-6"],[1,"text-justify"],["download","CV-EN-roger-mir-min.pdf",3,"href","mouseover","mouseleave"],[3,"click","mouseover","mouseleave"],[1,"slider","my-10","w-full","md:w-3/6"],[1,"slide-track"],[4,"ngFor","ngForOf"],["appScrollSection","collab-projects",1,"projects","p-6","pb-10","md:p-14"],[1,"mb-5","text-center","md:text-start"],[1,"projects-grid"],["appScrollSection","indiv-projects",1,"projects","p-6","md:p-14"],["appScrollSection","contact",1,"contact","p-6","md:p-14"],[1,"mb-6","text-center","md:text-start"],[1,"flex","flex-col","gap-5","md:gap-0","md:flex-row"],["data-aos","fade-down-right","data-aos-duration","1500",1,"basis-1/3","text-center"],["src","../../assets/icons/envelope-at.svg",1,"w-9","mx-auto","mb-5"],["href","mailto:r.mir.min@gmail.com",3,"mouseover","mouseleave"],["data-aos","fade-down","data-aos-duration","1500",1,"basis-1/3","text-center","linkedin-icon"],["src","../../assets/icons/linkedin.svg",1,"w-9","mx-auto","mb-5"],["href","https://www.linkedin.com/in/roger-mir-min/","target","_blank",3,"mouseover","mouseleave"],["data-aos","fade-down-left","data-aos-duration","1500",1,"basis-1/3","text-center"],["src","../../assets/icons/github.svg",1,"w-9","mx-auto","mb-5"],["target","_blank","href","https://github.com/roger-mir-min",3,"mouseover","mouseleave"],[1,"slide",3,"ngClass"],[3,"src"],["data-aos","zoom-in","data-aos-duration","1000",1,"card",3,"mouseover"],["alt","",3,"src"],[1,"info"],[1,"icons","my-3","flex","gap-3"],["target","_blank",3,"href","mouseover","mouseleave"],[1,"h-6",3,"src"],["data-aos","fade-in","data-aos-duration","1500",1,"card",3,"mouseover"],[1,"icons","flex","gap-3"]],template:function(r,i){1&r&&(Re(0,"section",0)(1,"div",1)(2,"h1",2),Ze(3,"Hi! I am a"),je(),Re(4,"h2",3)(5,"span"),Ze(6,"passionate"),je(),Re(7,"span"),Ze(8,"hardworking"),je(),Re(9,"span"),Ze(10,"ever-evolving"),je(),Re(11,"span"),Ze(12,"solution-driven"),je(),Re(13,"span"),Ze(14,"team-oriented"),je()(),Re(15,"h2",4),Ze(16," Frontend developer"),je(),Ft(17,"div",5)(18,"div",6),je(),Ft(19,"hr",7),Re(20,"div",8)(21,"p",9),Ze(22,"Welcome to my portfolio"),je(),Re(23,"p",10),Ze(24,"I am a Frontend developer dedicated to crafting the ideal website for your needs. My designs are clean and visually appealing, with a strong focus on user experience. I prioritize performance, SEO and accessibility to ensure your website reaches its full potential. If you're seeking a straightforward website, I can handle both the backend and deployment processes. I bring experience with WordPress, Firebase, NodeJS, MySQL and AWS. "),je(),Re(25,"p",11),Ze(26," If you wish to learn more about me, you can "),Re(27,"a",12),dn("mouseover",function(){return i.hoverCvLink("downloadCv")})("mouseleave",function(){return i.hoverCvLink("downloadCv")}),Ze(28," download my CV "),je(),Ze(29," (or just "),Re(30,"a",13),dn("click",function(){return i.openCvModal()})("mouseover",function(){return i.hoverCvLink("openCv")})("mouseleave",function(){return i.hoverCvLink("openCv")}),Ze(31," open it "),je(),Ze(32,") and keep scrolling! "),je()(),Re(33,"div",14)(34,"div",15),bi(35,vN,3,2,"ng-container",16),bi(36,yN,3,2,"ng-container",16),je()()(),Ft(37,"hr",7),Re(38,"section",17)(39,"h2",18),Ze(40,"Collaborative projects"),je(),Re(41,"div",19),bi(42,bN,12,6,"ng-container",16),je()(),Ft(43,"hr",7),Re(44,"section",20)(45,"h2",18),Ze(46,"My projects"),je(),Re(47,"div",19),bi(48,wN,12,6,"ng-container",16),je()(),Re(49,"section",21)(50,"h2",22),Ze(51,"Contact"),je(),Re(52,"div",23)(53,"div",24),Ft(54,"img",25),Re(55,"a",26),dn("mouseover",function(){return i.hoverCvLink("contact")})("mouseleave",function(){return i.hoverCvLink("contact")}),Ze(56,"r.mir.min@gmail.com"),je()(),Re(57,"div",27),Ft(58,"img",28),Re(59,"a",29),dn("mouseover",function(){return i.hoverCvLink("contact")})("mouseleave",function(){return i.hoverCvLink("contact")}),Ze(60,"https://www.linkedin.com/in/roger-mir-min/"),je()(),Re(61,"div",30),Ft(62,"img",31),Re(63,"a",32),dn("mouseover",function(){return i.hoverCvLink("contact")})("mouseleave",function(){return i.hoverCvLink("contact")}),Ze(64,"https://github.com/roger-mir-min"),je()()()(),Ft(65,"app-modal")),2&r&&(_t(17),It("ngClass",Gd(7,LC,i.downloadCvLinkIsHovered,i.openCvLinkIsHovered,i.contactLinkIsHovered,i.cardButtonIsHovered)),_t(1),It("ngClass",Gd(12,LC,i.downloadCvLinkIsHovered,i.openCvLinkIsHovered,i.contactLinkIsHovered,i.cardButtonIsHovered)),_t(9),It("href",i.cvSrc,Zn),_t(8),It("ngForOf",i.icons),_t(1),It("ngForOf",i.icons),_t(6),It("ngForOf",i.collabProjects),_t(6),It("ngForOf",i.indivProjects))},dependencies:[G0,Y0,OC,mN],styles:['[_nghost-%COMP%]{cursor:none}a[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity));cursor:none}hr[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity));border-top-width:2px}.cursor-dot[_ngcontent-%COMP%], .cursor-outline[_ngcontent-%COMP%]{position:fixed;top:0;left:0;transform:translate(-50%,-50%);border-radius:50%;z-index:4;pointer-events:none;transition:.3s}.cursor-dot[_ngcontent-%COMP%]{width:5px;height:5px;background-color:#00f}.cursor-dot.downloadHover[_ngcontent-%COMP%], .cursor-dot.openHover[_ngcontent-%COMP%], .cursor-dot.contactHover[_ngcontent-%COMP%]{display:none}.cursor-dot.cardButtonHover[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_beating 1.5s linear infinite;transition:.3s}.cursor-outline[_ngcontent-%COMP%]{width:30px;height:30px;border:2px solid blue}.cursor-outline.downloadHover[_ngcontent-%COMP%], .cursor-outline.openHover[_ngcontent-%COMP%], .cursor-outline.contactHover[_ngcontent-%COMP%]{border-radius:0%;background-size:contain;border:none;color:#00f;transform:scale(1.5);transition:.3s}.cursor-outline.downloadHover[_ngcontent-%COMP%]{background-image:url(doc-icon.43a93522b0896da7.png)}.cursor-outline.openHover[_ngcontent-%COMP%]{background-image:url(modal-icon.4e07dea3c8bbe53b.png)}.cursor-outline.contactHover[_ngcontent-%COMP%]{background-image:url(paper-plane.fdf4a5150dc5c40e.png)}.cursor-outline.cardButtonHover[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_beating 1.5s linear infinite;transition:.3s}@keyframes _ngcontent-%COMP%_beating{0%{border:2px solid white}50%{border:4px solid black}to{border:2px solid white}}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover ~ .cursor-outline[_ngcontent-%COMP%]{transform:scale(3);transition:.3s}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover ~ .cursor-dot[_ngcontent-%COMP%]{display:none;transition:.3s}.header[_ngcontent-%COMP%]{margin-top:70.548px;min-height:500px}.sentence[_ngcontent-%COMP%]{margin-right:20px}.sentence-2[_ngcontent-%COMP%]{margin-left:270px}.slidingVertical[_ngcontent-%COMP%]{height:48.588px;position:relative}.slidingVertical[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity));width:250px;animation:_ngcontent-%COMP%_topToBottom 10s linear infinite 0s;-ms-animation:topToBottom 10s linear infinite 0s;-webkit-animation:_ngcontent-%COMP%_topToBottom 10s linear infinite 0s;opacity:0;overflow:hidden;position:absolute}.slidingVertical[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:2s!important;-ms-animation-delay:2s!important;-webkit-animation-delay:2s!important}.slidingVertical[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:4s!important;-ms-animation-delay:4s!important;-webkit-animation-delay:4s!important}.slidingVertical[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){animation-delay:6s!important;-ms-animation-delay:6s!important;-webkit-animation-delay:6s!important}.slidingVertical[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){animation-delay:8s!important;-ms-animation-delay:8s!important;-webkit-animation-delay:8s!important}@keyframes _ngcontent-%COMP%_topToBottom{0%{opacity:0}5%{opacity:0;transform:translateY(-50px)}10%{opacity:1;transform:translateY(0)}25%{opacity:1;transform:translateY(0)}30%{opacity:0;transform:translateY(50px)}80%{opacity:0}to{opacity:0}}@keyframes _ngcontent-%COMP%_scroll{0%{transform:translate(0)}to{transform:translate(-2160px)}}.slider[_ngcontent-%COMP%]{background:white;box-shadow:0 10px 20px -5px #00000020;height:100px;margin-right:auto;margin-left:auto;overflow:hidden;position:relative}.slider[_ngcontent-%COMP%]:before, .slider[_ngcontent-%COMP%]:after{background:linear-gradient(to right,rgb(255,255,255) 0%,rgba(255,255,255,0) 100%);content:"";height:100px;position:absolute;width:200px;z-index:2}.slider[_ngcontent-%COMP%]:after{right:0;top:0;transform:rotate(180deg)}.slider[_ngcontent-%COMP%]:before{left:0;top:0}.slider[_ngcontent-%COMP%]   .slide-track[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scroll 20s linear infinite;transition:.5s;display:flex;justify-content:space-between;width:4320px}.slider[_ngcontent-%COMP%]   .slide-track[_ngcontent-%COMP%]:hover{animation-play-state:paused}.slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{height:100px;display:flex;justify-content:center;align-items:center}.slider[_ngcontent-%COMP%]   .slide.leaflet[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]   .slide.ng-bs[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]   .slide.kolkov[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]   .slide.node-svg[_ngcontent-%COMP%]{display:none}.slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(360px,1fr));grid-auto-rows:1fr;gap:2rem}.card[_ngcontent-%COMP%]{border-radius:15px;padding:1.5rem;background:white;position:relative;display:flex;justify-content:end;transition:.4s ease-out;box-shadow:0 7px 10px #00000080}.card[_ngcontent-%COMP%]:hover{transform:translateY(20px)}.card[_ngcontent-%COMP%]:hover:before{opacity:1}.card[_ngcontent-%COMP%]:hover   .info[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;display:block;width:100%;height:100%;border-radius:15px;background:rgba(0,0,0,.8);z-index:2;transition:.5s;opacity:0}.card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;border-radius:15px}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{position:relative;z-index:3;color:#fff;opacity:0;transform:translateY(30px);transition:.5s}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:1px;font-size:15px;margin-top:8px}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem;padding:.6rem;outline:none;border:none;border-radius:3px;background:white;color:#000;font-weight:700;transition:.4s ease}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:rgb(30,64,175);color:#fff}@media screen and (max-width: 768px){.projects-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}.contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#00f}']})}return e})()},{path:"**",redirectTo:"/home",pathMatch:"full"}];let AN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Wr({type:e});static#n=this.\u0275inj=Cr({imports:[MC.forRoot(EN),MC]})}return e})(),SN=(()=>{class e{constructor(n){this.manager=n}scroll(){this.manager.scroll(this.id)}static#e=this.\u0275fac=function(r){return new(r||e)(Le(Mf))};static#t=this.\u0275dir=qt({type:e,selectors:[["","appScrollAnchor",""]],hostBindings:function(r,i){1&r&&dn("click",function(){return i.scroll()})},inputs:{id:["appScrollAnchor","id"]}})}return e})();const DN=["dropdown"];let MN=(()=>{class e{constructor(){this.indivProjects=Sf,this.collabProjects=xC}ngOnInit(){}onDocumentClick(n){const r=n.target;r&&this.dropdown.nativeElement!==r&&!this.dropdown.nativeElement.contains(r)&&this.dropdown.nativeElement.hasAttribute("open")&&this.dropdown.nativeElement.removeAttribute("open")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=zr({type:e,selectors:[["app-header"]],viewQuery:function(r,i){if(1&r&&jl(DN,5),2&r){let s;Uo(s=Ho())&&(i.dropdown=s.first)}},hostBindings:function(r,i){1&r&&dn("click",function(o){return i.onDocumentClick(o)},0,Tm)},decls:52,vars:0,consts:[[1,"navbar","bg-base-100"],[1,"navbar-start","w-full","lg:w-2/4"],[1,"dropdown"],["tabindex","0",1,"btn","btn-ghost","lg:hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],["tabindex","0",1,"menu","menu-sm","dropdown-content","mt-3","z-[1]","p-2","shadow","bg-base-100","rounded-box","w-52"],["appScrollAnchor","stack"],["appScrollAnchor","indiv-projects"],["appScrollAnchor","collab-projects"],["appScrollAnchor","about"],["appScrollAnchor","contact"],["appScrollAnchor","header"],[1,"shine","normal-case","ms-3","text-xl","text-acumin-wide","text-blau"],[1,"navbar-end","hidden","lg:flex","me-3"],[1,"menu","menu-horizontal","px-1","gap-5","items-stretch"],["tabindex","0"],["dropdown",""],["id","projects",1,"p-0"],[1,"p-2"]],template:function(r,i){1&r&&(Re(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),function Hp(){$e.lFrame.currentNamespace="svg"}(),Re(4,"svg",4),Ft(5,"path",5),je()(),function $p(){!function _E(){$e.lFrame.currentNamespace=null}()}(),Re(6,"ul",6)(7,"li")(8,"a",7),Ze(9,"Stack"),je()(),Re(10,"li")(11,"a"),Ze(12,"Projects"),je()(),Re(13,"li")(14,"a",8),Ze(15,"Individual projects"),je()(),Re(16,"li")(17,"a",9),Ze(18,"Collaborative projects"),je()(),Re(19,"li")(20,"a",10),Ze(21,"About me"),je()(),Re(22,"li")(23,"a",11),Ze(24,"Contact"),je()()()(),Re(25,"h3")(26,"a",12)(27,"div",13),Ze(28,"Roger Miret Minard"),je()()()(),Re(29,"div",14)(30,"ul",15)(31,"li")(32,"a",7),Ze(33,"Stack"),je()(),Re(34,"li",16)(35,"details",null,17)(37,"summary",18),Ze(38,"Projects"),je(),Re(39,"ul",19)(40,"li")(41,"a",8),Ze(42,"Individual Projects"),je()(),Re(43,"li")(44,"a",9),Ze(45,"Collaborative Projects"),je()()()()(),Re(46,"li")(47,"a",10),Ze(48,"About"),je()(),Re(49,"li")(50,"a",11),Ze(51,"Contact"),je()()()()())},dependencies:[SN],styles:['[_nghost-%COMP%]{display:block;position:fixed;width:100%;background-color:#fff;z-index:3;box-shadow:0 4px 6px -2px #0000001a}#projects[_ngcontent-%COMP%]:active{background-color:transparent;color:inherit}#projects[_ngcontent-%COMP%]:focus-visible{background-color:transparent;color:inherit}#projects[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity));font-weight:600}#projects[_ngcontent-%COMP%]:hover:after{font-weight:600}.menu-horizontal[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:not(.menu-title) > details[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{width:200px;padding:20px 20px 0}.menu-horizontal[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:not(.menu-title) > details[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:auto;padding-bottom:10px;align-items:flex-start}.menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:where(li:not(.menu-title) > *[_ngcontent-%COMP%]:not(ul):not(details):not(.menu-title)){background-image:linear-gradient(to right,rgb(30,64,175),rgb(30,64,175) 50%,#000 50%);background-size:200% 100%;background-position:-100%;display:inline-block;padding:5px 0;position:relative;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;transition:all .3s ease-in-out}ul.menu.dropdown-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{align-items:flex-start}.menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:where(li:not(.menu-title) > *[_ngcontent-%COMP%]:not(ul):not(details):not(.menu-title)):before{content:"";background:rgb(30,64,175);display:block;position:absolute;bottom:-3px;left:0;width:0;height:3px;transition:all .3s ease-in-out}[_ngcontent-%COMP%]:where(.menu   li[_ngcontent-%COMP%]:not(.menu-title):not(.disabled) > *[_ngcontent-%COMP%]:not(ul):not(details):not(.menu-title)):not(.active):hover, #projects[_ngcontent-%COMP%]:hover{cursor:none;background-color:transparent;outline:none;outline-offset:0cap}.menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:where(li:not(.menu-title) > *[_ngcontent-%COMP%]:not(ul):not(details):not(.menu-title)):hover{background-position:0}.menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:where(li:not(.menu-title) > *[_ngcontent-%COMP%]:not(ul):not(details):not(.menu-title)):hover:before{width:100%}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100%;padding:0}h3[_ngcontent-%COMP%]   .shine[_ngcontent-%COMP%]{position:relative;-webkit-mask-image:linear-gradient(-75deg,rgba(253,247,247,.6) 30%,#f3efef 50%,rgba(255,255,255,.6) 70%);-webkit-mask-size:200%;animation:_ngcontent-%COMP%_shine 2s linear infinite}@keyframes _ngcontent-%COMP%_shine{0%{-webkit-mask-position:150%;mask-position:150%}to{-webkit-mask-position:-50%;mask-position:-50%}}']})}return e})(),PN=(()=>{class e{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=zr({type:e,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"p-10","bg-black","text-[#F8F8F8]","text-center"],[1,"font-bold"]],template:function(r,i){1&r&&(Re(0,"footer",0)(1,"p",1),Ze(2," Roger Miret Minard "),je(),Re(3,"p"),Ze(4,"Copyright \xa9 2023 - All right reserved"),je()())},styles:["[_nghost-%COMP%]{margin-top:auto}"]})}return e})(),TN=(()=>{class e{constructor(){this.title="Portfolio"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=zr({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[["appScrollManager",""]],template:function(r,i){1&r&&(Re(0,"div",0),Ft(1,"app-header")(2,"router-outlet")(3,"app-footer"),je())},dependencies:[gf,MN,PN,Mf],styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}app-footer[_ngcontent-%COMP%]{margin-top:auto}"]})}return e})(),xN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Wr({type:e,bootstrap:[TN]});static#n=this.\u0275inj=Cr({imports:[hO,AN,pN]})}return e})();uO().bootstrapModule(xN).catch(e=>console.error(e))},402:function(pe){pe.exports=function(E){function K(L){if(_[L])return _[L].exports;var te=_[L]={exports:{},id:L,loaded:!1};return E[L].call(te.exports,te,te.exports,K),te.loaded=!0,te.exports}var _={};return K.m=E,K.c=_,K.p="dist/",K(0)}([function(E,K,_){"use strict";function L(ie){return ie&&ie.__esModule?ie:{default:ie}}var te=Object.assign||function(ie){for(var k=1;k<arguments.length;k++){var z=arguments[k];for(var X in z)Object.prototype.hasOwnProperty.call(z,X)&&(ie[X]=z[X])}return ie},ne=(L(_(1)),_(6)),F=L(ne),C=L(_(7)),v=L(_(8)),b=L(_(9)),m=L(_(10)),I=L(_(11)),A=L(_(14)),c=[],p=!1,M={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},H=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return c=(0,I.default)(c,M),(0,m.default)(c,M.once),c},G=function(){c=(0,A.default)(),H()};E.exports={init:function(ie){M=te(M,ie),c=(0,A.default)();var k=document.all&&!window.atob;return function(ie){return!0===ie||"mobile"===ie&&b.default.mobile()||"phone"===ie&&b.default.phone()||"tablet"===ie&&b.default.tablet()||"function"==typeof ie&&!0===ie()}(M.disable)||k?void c.forEach(function(ie,k){ie.node.removeAttribute("data-aos"),ie.node.removeAttribute("data-aos-easing"),ie.node.removeAttribute("data-aos-duration"),ie.node.removeAttribute("data-aos-delay")}):(M.disableMutationObserver||v.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),M.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",M.easing),document.querySelector("body").setAttribute("data-aos-duration",M.duration),document.querySelector("body").setAttribute("data-aos-delay",M.delay),"DOMContentLoaded"===M.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?H(!0):"load"===M.startEvent?window.addEventListener(M.startEvent,function(){H(!0)}):document.addEventListener(M.startEvent,function(){H(!0)}),window.addEventListener("resize",(0,C.default)(H,M.debounceDelay,!0)),window.addEventListener("orientationchange",(0,C.default)(H,M.debounceDelay,!0)),window.addEventListener("scroll",(0,F.default)(function(){(0,m.default)(c,M.once)},M.throttleDelay)),M.disableMutationObserver||v.default.ready("[data-aos]",G),c)},refresh:H,refreshHard:G}},function(E,K){},,,,,function(E,K){(function(_){"use strict";function L(W,le,ie){function k(se){var he=R,Ce=d;return R=d=void 0,ee=se,N=W.apply(Ce,he)}function V(se){var he=se-q;return void 0===q||he>=le||he<0||oe&&se-ee>=S}function B(){var se=Y();return V(se)?D(se):void(U=setTimeout(B,function X(se){var ve=le-(se-q);return oe?G(ve,S-(se-ee)):ve}(se)))}function D(se){return U=void 0,ae&&R?k(se):(R=d=void 0,N)}function j(){var se=Y(),he=V(se);if(R=arguments,d=this,q=se,he){if(void 0===U)return function z(se){return ee=se,U=setTimeout(B,le),J?k(se):N}(q);if(oe)return U=setTimeout(B,le),k(q)}return void 0===U&&(U=setTimeout(B,le)),N}var R,d,S,N,U,q,ee=0,J=!1,oe=!1,ae=!0;if("function"!=typeof W)throw new TypeError(h);return le=f(le)||0,Q(ie)&&(J=!!ie.leading,S=(oe="maxWait"in ie)?H(f(ie.maxWait)||0,le):S,ae="trailing"in ie?!!ie.trailing:ae),j.cancel=function g(){void 0!==U&&clearTimeout(U),ee=0,R=q=d=U=void 0},j.flush=function w(){return void 0===U?N:D(Y())},j}function Q(W){var le=typeof W>"u"?"undefined":C(W);return!!W&&("object"==le||"function"==le)}function F(W){return"symbol"==(typeof W>"u"?"undefined":C(W))||function ne(W){return!!W&&"object"==(typeof W>"u"?"undefined":C(W))}(W)&&M.call(W)==x}function f(W){if("number"==typeof W)return W;if(F(W))return v;if(Q(W)){var le="function"==typeof W.valueOf?W.valueOf():W;W=Q(le)?le+"":le}if("string"!=typeof W)return 0===W?W:+W;W=W.replace(b,"");var ie=m.test(W);return ie||O.test(W)?I(W.slice(2),ie?2:8):y.test(W)?v:+W}var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},h="Expected a function",v=NaN,x="[object Symbol]",b=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,O=/^0o[0-7]+$/i,I=parseInt,T="object"==(typeof _>"u"?"undefined":C(_))&&_&&_.Object===Object&&_,A="object"==(typeof self>"u"?"undefined":C(self))&&self&&self.Object===Object&&self,c=T||A||Function("return this")(),M=Object.prototype.toString,H=Math.max,G=Math.min,Y=function(){return c.Date.now()};E.exports=function te(W,le,ie){var k=!0,z=!0;if("function"!=typeof W)throw new TypeError(h);return Q(ie)&&(k="leading"in ie?!!ie.leading:k,z="trailing"in ie?!!ie.trailing:z),L(W,le,{leading:k,maxWait:le,trailing:z})}}).call(K,function(){return this}())},function(E,K){(function(_){"use strict";function te(Y){var W=typeof Y>"u"?"undefined":f(Y);return!!Y&&("object"==W||"function"==W)}function ne(Y){return"symbol"==(typeof Y>"u"?"undefined":f(Y))||function Q(Y){return!!Y&&"object"==(typeof Y>"u"?"undefined":f(Y))}(Y)&&p.call(Y)==v}function F(Y){if("number"==typeof Y)return Y;if(ne(Y))return h;if(te(Y)){var W="function"==typeof Y.valueOf?Y.valueOf():Y;Y=te(W)?W+"":W}if("string"!=typeof Y)return 0===Y?Y:+Y;Y=Y.replace(x,"");var le=y.test(Y);return le||m.test(Y)?O(Y.slice(2),le?2:8):b.test(Y)?h:+Y}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},C="Expected a function",h=NaN,v="[object Symbol]",x=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,m=/^0o[0-7]+$/i,O=parseInt,I="object"==(typeof _>"u"?"undefined":f(_))&&_&&_.Object===Object&&_,T="object"==(typeof self>"u"?"undefined":f(self))&&self&&self.Object===Object&&self,A=I||T||Function("return this")(),p=Object.prototype.toString,M=Math.max,H=Math.min,G=function(){return A.Date.now()};E.exports=function L(Y,W,le){function ie(ae){var se=j,he=R;return j=R=void 0,q=ae,S=Y.apply(he,se)}function X(ae){var se=ae-U;return void 0===U||se>=W||se<0||J&&ae-q>=d}function V(){var ae=G();return X(ae)?B(ae):void(N=setTimeout(V,function z(ae){var Ce=W-(ae-U);return J?H(Ce,d-(ae-q)):Ce}(ae)))}function B(ae){return N=void 0,oe&&j?ie(ae):(j=R=void 0,S)}function w(){var ae=G(),se=X(ae);if(j=arguments,R=this,U=ae,se){if(void 0===N)return function k(ae){return q=ae,N=setTimeout(V,W),ee?ie(ae):S}(U);if(J)return N=setTimeout(V,W),ie(U)}return void 0===N&&(N=setTimeout(V,W)),S}var j,R,d,S,N,U,q=0,ee=!1,J=!1,oe=!0;if("function"!=typeof Y)throw new TypeError(C);return W=F(W)||0,te(le)&&(ee=!!le.leading,d=(J="maxWait"in le)?M(F(le.maxWait)||0,W):d,oe="trailing"in le?!!le.trailing:oe),w.cancel=function D(){void 0!==N&&clearTimeout(N),q=0,j=U=R=N=void 0},w.flush=function g(){return void 0===N?S:B(G())},w}}).call(K,function(){return this}())},function(E,K){"use strict";function _(f){var C=void 0,h=void 0;for(C=0;C<f.length;C+=1)if((h=f[C]).dataset&&h.dataset.aos||h.children&&_(h.children))return!0;return!1}function L(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function ne(f){f&&f.forEach(function(C){var h=Array.prototype.slice.call(C.addedNodes),v=Array.prototype.slice.call(C.removedNodes);if(_(h.concat(v)))return F()})}Object.defineProperty(K,"__esModule",{value:!0});var F=function(){};K.default={isSupported:function te(){return!!L()},ready:function Q(f,C){var h=window.document,x=new(L())(ne);F=C,x.observe(h.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(E,K){"use strict";function L(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(K,"__esModule",{value:!0});var te=function(){function h(v,x){for(var b=0;b<x.length;b++){var y=x[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,x,b){return x&&h(v.prototype,x),b&&h(v,b),v}}(),Q=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,ne=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,F=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,C=function(){function h(){!function _(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,h)}return te(h,[{key:"phone",value:function(){var v=L();return!(!Q.test(v)&&!ne.test(v.substr(0,4)))}},{key:"mobile",value:function(){var v=L();return!(!F.test(v)&&!f.test(v.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),h}();K.default=new C},function(E,K){"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.default=function(te,Q){var ne=window.pageYOffset,F=window.innerHeight;te.forEach(function(f,C){!function(te,Q,ne){var F=te.node.getAttribute("data-aos-once");Q>te.position?te.node.classList.add("aos-animate"):typeof F<"u"&&("false"===F||!ne&&"true"!==F)&&te.node.classList.remove("aos-animate")}(f,F+ne,Q)})}},function(E,K,_){"use strict";Object.defineProperty(K,"__esModule",{value:!0});var Q=function L(F){return F&&F.__esModule?F:{default:F}}(_(12));K.default=function(F,f){return F.forEach(function(C,h){C.node.classList.add("aos-init"),C.position=(0,Q.default)(C.node,f.offset)}),F}},function(E,K,_){"use strict";Object.defineProperty(K,"__esModule",{value:!0});var Q=function L(F){return F&&F.__esModule?F:{default:F}}(_(13));K.default=function(F,f){var C=0,h=0,v=window.innerHeight,x={offset:F.getAttribute("data-aos-offset"),anchor:F.getAttribute("data-aos-anchor"),anchorPlacement:F.getAttribute("data-aos-anchor-placement")};switch(x.offset&&!isNaN(x.offset)&&(h=parseInt(x.offset)),x.anchor&&document.querySelectorAll(x.anchor)&&(F=document.querySelectorAll(x.anchor)[0]),C=(0,Q.default)(F).top,x.anchorPlacement){case"top-bottom":break;case"center-bottom":C+=F.offsetHeight/2;break;case"bottom-bottom":C+=F.offsetHeight;break;case"top-center":C+=v/2;break;case"bottom-center":C+=v/2+F.offsetHeight;break;case"center-center":C+=v/2+F.offsetHeight/2;break;case"top-top":C+=v;break;case"bottom-top":C+=F.offsetHeight+v;break;case"center-top":C+=F.offsetHeight/2+v}return x.anchorPlacement||x.offset||isNaN(f)||(h=f),C+h}},function(E,K){"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function(L){for(var te=0,Q=0;L&&!isNaN(L.offsetLeft)&&!isNaN(L.offsetTop);)te+=L.offsetLeft-("BODY"!=L.tagName?L.scrollLeft:0),Q+=L.offsetTop-("BODY"!=L.tagName?L.scrollTop:0),L=L.offsetParent;return{top:Q,left:te}}},function(E,K){"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.default=function(L){return L=L||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(L,function(te){return{node:te}})}}])},627:(module,__unused_webpack_exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__(156).default,K;globalThis,K=()=>(()=>{"use strict";var __webpack_modules__=[,(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.VerbosityLevel=E.Util=E.UnknownErrorException=E.UnexpectedResponseException=E.UNSUPPORTED_FEATURES=E.TextRenderingMode=E.StreamType=E.RenderingIntentFlag=E.PermissionFlag=E.PasswordResponses=E.PasswordException=E.PageActionEventType=E.OPS=E.MissingPDFException=E.LINE_FACTOR=E.LINE_DESCENT_FACTOR=E.InvalidPDFException=E.ImageKind=E.IDENTITY_MATRIX=E.FormatError=E.FontType=E.FeatureTest=E.FONT_IDENTITY_MATRIX=E.DocumentActionEventType=E.CMapCompressionType=E.BaseException=E.AnnotationType=E.AnnotationStateModelType=E.AnnotationReviewState=E.AnnotationReplyType=E.AnnotationMode=E.AnnotationMarkedState=E.AnnotationFlag=E.AnnotationFieldFlag=E.AnnotationEditorType=E.AnnotationEditorPrefix=E.AnnotationEditorParamsType=E.AnnotationBorderStyleType=E.AnnotationActionEventType=E.AbortException=void 0,E.arrayByteLength=Ae,E.arraysToBytes=function ce(_e){const ue=_e.length;if(1===ue&&_e[0]instanceof Uint8Array)return _e[0];let de=0;for(let dt=0;dt<ue;dt++)de+=Ae(_e[dt]);let Pe=0;const Ue=new Uint8Array(de);for(let dt=0;dt<ue;dt++){let ot=_e[dt];ot instanceof Uint8Array||(ot="string"==typeof ot?ve(ot):new Uint8Array(ot));const Wn=ot.byteLength;Ue.set(ot,Pe),Pe+=Wn}return Ue},E.assert=function R(_e,ue){_e||j(ue)},E.bytesToString=function Ce(_e){("object"!=typeof _e||null===_e||void 0===_e.length)&&j("Invalid argument for bytesToString");const ue=_e.length;if(ue<8192)return String.fromCharCode.apply(null,_e);const Pe=[];for(let Ue=0;Ue<ue;Ue+=8192){const dt=Math.min(Ue+8192,ue),ot=_e.subarray(Ue,dt);Pe.push(String.fromCharCode.apply(null,ot))}return Pe.join("")},E.createPromiseCapability=function Ut(){const _e=Object.create(null);let ue=!1;return Object.defineProperty(_e,"settled",{get:()=>ue}),_e.promise=new Promise(function(de,Pe){_e.resolve=function(Ue){ue=!0,de(Ue)},_e.reject=function(Ue){ue=!0,Pe(Ue)}}),_e},E.createValidAbsoluteUrl=function S(_e,ue=null,de=null){if(!_e)return null;try{if(de&&"string"==typeof _e){if(de.addDefaultProtocol&&_e.startsWith("www.")){const Ue=_e.match(/\./g);Ue&&Ue.length>=2&&(_e=`http://${_e}`)}if(de.tryConvertEncoding)try{_e=An(_e)}catch{}}const Pe=ue?new URL(_e,ue):new URL(_e);if(function d(_e){if(!_e)return!1;switch(_e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Pe))return Pe}catch{}return null},E.escapeString=function rn(_e){return _e.replace(/([()\\\n\r])/g,ue=>"\n"===ue?"\\n":"\r"===ue?"\\r":`\\${ue}`)},E.getModificationDate=function gn(_e=new Date){return[_e.getUTCFullYear().toString(),(_e.getUTCMonth()+1).toString().padStart(2,"0"),_e.getUTCDate().toString().padStart(2,"0"),_e.getUTCHours().toString().padStart(2,"0"),_e.getUTCMinutes().toString().padStart(2,"0"),_e.getUTCSeconds().toString().padStart(2,"0")].join("")},E.getVerbosityLevel=function D(){return V},E.info=function g(_e){V>=le.INFOS&&console.log(`Info: ${_e}`)},E.isArrayBuffer=function Ii(_e){return"object"==typeof _e&&null!==_e&&void 0!==_e.byteLength},E.isArrayEqual=function $s(_e,ue){if(_e.length!==ue.length)return!1;for(let de=0,Pe=_e.length;de<Pe;de++)if(_e[de]!==ue[de])return!1;return!0},E.isAscii=function Dt(_e){return/^[\x00-\x7F]*$/.test(_e)},E.objectFromMap=function ge(_e){const ue=Object.create(null);for(const[de,Pe]of _e)ue[de]=Pe;return ue},E.objectSize=function Se(_e){return Object.keys(_e).length},E.setVerbosityLevel=function B(_e){Number.isInteger(_e)&&(V=_e)},E.shadow=N,E.string32=function me(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,255&_e)},E.stringToBytes=ve,E.stringToPDFString=function vt(_e){if(_e[0]>="\xef"){let de;if("\xfe"===_e[0]&&"\xff"===_e[1]?de="utf-16be":"\xff"===_e[0]&&"\xfe"===_e[1]?de="utf-16le":"\xef"===_e[0]&&"\xbb"===_e[1]&&"\xbf"===_e[2]&&(de="utf-8"),de)try{const Pe=new TextDecoder(de,{fatal:!0}),Ue=ve(_e);return Pe.decode(Ue)}catch(Pe){w(`stringToPDFString: "${Pe}".`)}}const ue=[];for(let de=0,Pe=_e.length;de<Pe;de++){const Ue=gt[_e.charCodeAt(de)];ue.push(Ue?String.fromCharCode(Ue):_e.charAt(de))}return ue.join("")},E.stringToUTF16BEString=function at(_e){const ue=["\xfe\xff"];for(let de=0,Pe=_e.length;de<Pe;de++){const Ue=_e.charCodeAt(de);ue.push(String.fromCharCode(Ue>>8&255),String.fromCharCode(255&Ue))}return ue.join("")},E.stringToUTF8String=An,E.unreachable=j,E.utf8StringToString=function si(_e){return unescape(encodeURIComponent(_e))},E.warn=w,K(2),E.IDENTITY_MATRIX=[1,0,0,1,0,0],E.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],E.LINE_FACTOR=1.35,E.LINE_DESCENT_FACTOR=.35,E.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},E.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},E.AnnotationEditorPrefix="pdfjs_internal_editor_",E.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},E.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},E.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},E.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},E.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},E.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},E.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},E.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},E.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},E.AnnotationReplyType={GROUP:"Group",REPLY:"R"},E.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},E.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},E.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},E.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},E.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},E.PageActionEventType={O:"PageOpen",C:"PageClose"},E.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},E.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const le={ERRORS:0,WARNINGS:1,INFOS:5};E.VerbosityLevel=le,E.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},E.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},E.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},E.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let V=le.WARNINGS;function w(_e){V>=le.WARNINGS&&console.log(`Warning: ${_e}`)}function j(_e){throw new Error(_e)}function N(_e,ue,de){return Object.defineProperty(_e,ue,{value:de,enumerable:!0,configurable:!0,writable:!1}),de}const U=function(){function ue(de,Pe){this.constructor===ue&&j("Cannot initialize BaseException."),this.message=de,this.name=Pe}return ue.prototype=new Error,ue.constructor=ue,ue}();function ve(_e){"string"!=typeof _e&&j("Invalid argument for stringToBytes");const ue=_e.length,de=new Uint8Array(ue);for(let Pe=0;Pe<ue;++Pe)de[Pe]=255&_e.charCodeAt(Pe);return de}function Ae(_e){return void 0!==_e.length?_e.length:void 0!==_e.byteLength?_e.byteLength:void j("Invalid argument for arrayByteLength")}E.BaseException=U,E.PasswordException=class q extends U{constructor(ue,de){super(ue,"PasswordException"),this.code=de}},E.UnknownErrorException=class ee extends U{constructor(ue,de){super(ue,"UnknownErrorException"),this.details=de}},E.InvalidPDFException=class J extends U{constructor(ue){super(ue,"InvalidPDFException")}},E.MissingPDFException=class oe extends U{constructor(ue){super(ue,"MissingPDFException")}},E.UnexpectedResponseException=class ae extends U{constructor(ue,de){super(ue,"UnexpectedResponseException"),this.status=de}},E.FormatError=class se extends U{constructor(ue){super(ue,"FormatError")}},E.AbortException=class he extends U{constructor(ue){super(ue,"AbortException")}},E.FeatureTest=class xe{static get isLittleEndian(){return N(this,"isLittleEndian",function Oe(){const _e=new Uint8Array(4);return _e[0]=1,1===new Uint32Array(_e.buffer,0,1)[0]}())}static get isEvalSupported(){return N(this,"isEvalSupported",function ke(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return N(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const Ke=[...Array(256).keys()].map(_e=>_e.toString(16).padStart(2,"0"));class et{static makeHexColor(ue,de,Pe){return`#${Ke[ue]}${Ke[de]}${Ke[Pe]}`}static scaleMinMax(ue,de){let Pe;ue[0]?(ue[0]<0&&(Pe=de[0],de[0]=de[1],de[1]=Pe),de[0]*=ue[0],de[1]*=ue[0],ue[3]<0&&(Pe=de[2],de[2]=de[3],de[3]=Pe),de[2]*=ue[3],de[3]*=ue[3]):(Pe=de[0],de[0]=de[2],de[2]=Pe,Pe=de[1],de[1]=de[3],de[3]=Pe,ue[1]<0&&(Pe=de[2],de[2]=de[3],de[3]=Pe),de[2]*=ue[1],de[3]*=ue[1],ue[2]<0&&(Pe=de[0],de[0]=de[1],de[1]=Pe),de[0]*=ue[2],de[1]*=ue[2]),de[0]+=ue[4],de[1]+=ue[4],de[2]+=ue[5],de[3]+=ue[5]}static transform(ue,de){return[ue[0]*de[0]+ue[2]*de[1],ue[1]*de[0]+ue[3]*de[1],ue[0]*de[2]+ue[2]*de[3],ue[1]*de[2]+ue[3]*de[3],ue[0]*de[4]+ue[2]*de[5]+ue[4],ue[1]*de[4]+ue[3]*de[5]+ue[5]]}static applyTransform(ue,de){return[ue[0]*de[0]+ue[1]*de[2]+de[4],ue[0]*de[1]+ue[1]*de[3]+de[5]]}static applyInverseTransform(ue,de){const Pe=de[0]*de[3]-de[1]*de[2];return[(ue[0]*de[3]-ue[1]*de[2]+de[2]*de[5]-de[4]*de[3])/Pe,(-ue[0]*de[1]+ue[1]*de[0]+de[4]*de[1]-de[5]*de[0])/Pe]}static getAxialAlignedBoundingBox(ue,de){const Pe=et.applyTransform(ue,de),Ue=et.applyTransform(ue.slice(2,4),de),dt=et.applyTransform([ue[0],ue[3]],de),ot=et.applyTransform([ue[2],ue[1]],de);return[Math.min(Pe[0],Ue[0],dt[0],ot[0]),Math.min(Pe[1],Ue[1],dt[1],ot[1]),Math.max(Pe[0],Ue[0],dt[0],ot[0]),Math.max(Pe[1],Ue[1],dt[1],ot[1])]}static inverseTransform(ue){const de=ue[0]*ue[3]-ue[1]*ue[2];return[ue[3]/de,-ue[1]/de,-ue[2]/de,ue[0]/de,(ue[2]*ue[5]-ue[4]*ue[3])/de,(ue[4]*ue[1]-ue[5]*ue[0])/de]}static apply3dTransform(ue,de){return[ue[0]*de[0]+ue[1]*de[1]+ue[2]*de[2],ue[3]*de[0]+ue[4]*de[1]+ue[5]*de[2],ue[6]*de[0]+ue[7]*de[1]+ue[8]*de[2]]}static singularValueDecompose2dScale(ue){const de=[ue[0],ue[2],ue[1],ue[3]],Pe=ue[0]*de[0]+ue[1]*de[2],ot=ue[2]*de[1]+ue[3]*de[3],Wn=(Pe+ot)/2,In=Math.sqrt((Pe+ot)**2-4*(Pe*ot-(ue[2]*de[0]+ue[3]*de[2])*(ue[0]*de[1]+ue[1]*de[3])))/2,Bt=Wn-In||1;return[Math.sqrt(Wn+In||1),Math.sqrt(Bt)]}static normalizeRect(ue){const de=ue.slice(0);return ue[0]>ue[2]&&(de[0]=ue[2],de[2]=ue[0]),ue[1]>ue[3]&&(de[1]=ue[3],de[3]=ue[1]),de}static intersect(ue,de){const Pe=Math.max(Math.min(ue[0],ue[2]),Math.min(de[0],de[2])),Ue=Math.min(Math.max(ue[0],ue[2]),Math.max(de[0],de[2]));if(Pe>Ue)return null;const dt=Math.max(Math.min(ue[1],ue[3]),Math.min(de[1],de[3])),ot=Math.min(Math.max(ue[1],ue[3]),Math.max(de[1],de[3]));return dt>ot?null:[Pe,dt,Ue,ot]}static bezierBoundingBox(ue,de,Pe,Ue,dt,ot,Wn,In){const Rn=[],Bt=[[],[]];let Gn,qn,Ri,kt,oi,ai,Oi,Yt;for(let zs=0;zs<2;++zs)if(0===zs?(qn=6*ue-12*Pe+6*dt,Gn=-3*ue+9*Pe-9*dt+3*Wn,Ri=3*Pe-3*ue):(qn=6*de-12*Ue+6*ot,Gn=-3*de+9*Ue-9*ot+3*In,Ri=3*Ue-3*de),Math.abs(Gn)<1e-12){if(Math.abs(qn)<1e-12)continue;kt=-Ri/qn,0<kt&&kt<1&&Rn.push(kt)}else Oi=qn*qn-4*Ri*Gn,Yt=Math.sqrt(Oi),!(Oi<0)&&(oi=(-qn+Yt)/(2*Gn),0<oi&&oi<1&&Rn.push(oi),ai=(-qn-Yt)/(2*Gn),0<ai&&ai<1&&Rn.push(ai));let sn,li=Rn.length;const ci=li;for(;li--;)kt=Rn[li],sn=1-kt,Bt[0][li]=sn*sn*sn*ue+3*sn*sn*kt*Pe+3*sn*kt*kt*dt+kt*kt*kt*Wn,Bt[1][li]=sn*sn*sn*de+3*sn*sn*kt*Ue+3*sn*kt*kt*ot+kt*kt*kt*In;return Bt[0][ci]=ue,Bt[1][ci]=de,Bt[0][ci+1]=Wn,Bt[1][ci+1]=In,Bt[0].length=Bt[1].length=ci+2,[Math.min(...Bt[0]),Math.min(...Bt[1]),Math.max(...Bt[0]),Math.max(...Bt[1])]}}E.Util=et;const gt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function An(_e){return decodeURIComponent(escape(_e))}},(pe,E,K)=>{K(3)},(pe,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.isNodeJS=void 0;const K=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);E.isNodeJS=K},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:pe,NodeCMapReaderFactory:E,NodeStandardFontDataFactory:K}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=pe,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=E,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=K}function setPDFNetworkStreamFactory(pe){createPDFNetworkStream=pe}function getDocument(pe){const E=new PDFDocumentLoadingTask;let K;if("string"==typeof pe||pe instanceof URL)K={url:pe};else if((0,_util.isArrayBuffer)(pe))K={data:pe};else if(pe instanceof PDFDataRangeTransport)K={range:pe};else{if("object"!=typeof pe)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!pe.url&&!pe.data&&!pe.range)throw new Error("Invalid parameter object: need either .data, .range or .url");K=pe}const _=Object.create(null);let L=null,te=null;for(const ne in K){const F=K[ne];switch(ne){case"url":if(typeof window<"u")try{_[ne]=new URL(F,window.location).href;continue}catch(f){(0,_util.warn)(`Cannot create valid URL: "${f}".`)}else if("string"==typeof F||F instanceof URL){_[ne]=F.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":L=F;continue;case"worker":te=F;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&F instanceof Buffer)_[ne]=new Uint8Array(F);else{if(F instanceof Uint8Array)break;if("string"==typeof F)_[ne]=(0,_util.stringToBytes)(F);else if("object"!=typeof F||null===F||isNaN(F.length)){if(!(0,_util.isArrayBuffer)(F))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");_[ne]=new Uint8Array(F)}else _[ne]=new Uint8Array(F)}continue}_[ne]=F}if(_.CMapReaderFactory=_.CMapReaderFactory||DefaultCMapReaderFactory,_.StandardFontDataFactory=_.StandardFontDataFactory||DefaultStandardFontDataFactory,_.ignoreErrors=!0!==_.stopAtErrors,_.fontExtraProperties=!0===_.fontExtraProperties,_.pdfBug=!0===_.pdfBug,_.enableXfa=!0===_.enableXfa,(!Number.isInteger(_.rangeChunkSize)||_.rangeChunkSize<1)&&(_.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof _.docBaseUrl||(0,_display_utils.isDataScheme)(_.docBaseUrl))&&(_.docBaseUrl=null),(!Number.isInteger(_.maxImageSize)||_.maxImageSize<-1)&&(_.maxImageSize=-1),"string"!=typeof _.cMapUrl&&(_.cMapUrl=null),"string"!=typeof _.standardFontDataUrl&&(_.standardFontDataUrl=null),"boolean"!=typeof _.useWorkerFetch&&(_.useWorkerFetch=_.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&_.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof _.isEvalSupported&&(_.isEvalSupported=!0),"boolean"!=typeof _.disableFontFace&&(_.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof _.useSystemFonts&&(_.useSystemFonts=!_is_node.isNodeJS&&!_.disableFontFace),("object"!=typeof _.ownerDocument||null===_.ownerDocument)&&(_.ownerDocument=globalThis.document),"boolean"!=typeof _.disableRange&&(_.disableRange=!1),"boolean"!=typeof _.disableStream&&(_.disableStream=!1),"boolean"!=typeof _.disableAutoFetch&&(_.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(_.verbosity),!te){const ne={verbosity:_.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};te=ne.port?PDFWorker.fromPort(ne):new PDFWorker(ne),E._worker=te}const Q=E.docId;return te.promise.then(function(){if(E.destroyed)throw new Error("Loading aborted");const ne=_fetchDocument(te,_,L,Q),F=new Promise(function(f){let C;L?C=new _transport_stream.PDFDataTransportStream({length:_.length,initialData:_.initialData,progressiveDone:_.progressiveDone,contentDispositionFilename:_.contentDispositionFilename,disableRange:_.disableRange,disableStream:_.disableStream},L):_.data||(C=createPDFNetworkStream({url:_.url,length:_.length,httpHeaders:_.httpHeaders,withCredentials:_.withCredentials,rangeChunkSize:_.rangeChunkSize,disableRange:_.disableRange,disableStream:_.disableStream})),f(C)});return Promise.all([ne,F]).then(function([f,C]){if(E.destroyed)throw new Error("Loading aborted");const h=new _message_handler.MessageHandler(Q,f,te.port),v=new WorkerTransport(h,E,C,_);E._transport=v,h.send("Ready",null)})}).catch(E._capability.reject),E}function _fetchDocument(pe,E,K,_){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(pe,E,K,_){if(pe.destroyed)throw new Error("Worker was destroyed");K&&(E.length=K.length,E.initialData=K.initialData,E.progressiveDone=K.progressiveDone,E.contentDispositionFilename=K.contentDispositionFilename);const L=yield pe.messageHandler.sendWithPromise("GetDocRequest",{docId:_,apiVersion:"2.16.105",source:{data:E.data,url:E.url,password:E.password,disableAutoFetch:E.disableAutoFetch,rangeChunkSize:E.rangeChunkSize,length:E.length},maxImageSize:E.maxImageSize,disableFontFace:E.disableFontFace,docBaseUrl:E.docBaseUrl,ignoreErrors:E.ignoreErrors,isEvalSupported:E.isEvalSupported,fontExtraProperties:E.fontExtraProperties,enableXfa:E.enableXfa,useSystemFonts:E.useSystemFonts,cMapUrl:E.useWorkerFetch?E.cMapUrl:null,standardFontDataUrl:E.useWorkerFetch?E.standardFontDataUrl:null});if(E.data&&(E.data=null),pe.destroyed)throw new Error("Worker was destroyed");return L})).apply(this,arguments)}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var E=this;return _asyncToGenerator(function*(){E.destroyed=!0,yield E._transport?.destroy(),E._transport=null,E._worker&&(E._worker.destroy(),E._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(E,K,_=!1,L=null){this.length=E,this.initialData=K,this.progressiveDone=_,this.contentDispositionFilename=L,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(E){this._rangeListeners.push(E)}addProgressListener(E){this._progressListeners.push(E)}addProgressiveReadListener(E){this._progressiveReadListeners.push(E)}addProgressiveDoneListener(E){this._progressiveDoneListeners.push(E)}onDataRange(E,K){for(const _ of this._rangeListeners)_(E,K)}onDataProgress(E,K){this._readyCapability.promise.then(()=>{for(const _ of this._progressListeners)_(E,K)})}onDataProgressiveRead(E){this._readyCapability.promise.then(()=>{for(const K of this._progressiveReadListeners)K(E)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const E of this._progressiveDoneListeners)E()})}transportReady(){this._readyCapability.resolve()}requestDataRange(E,K){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(E,K){var L,_=this;this._pdfInfo=E,this._transport=K,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(L=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),_.stats||{streamTypes:{},fontTypes:{}}}),function(){return L.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(E){return this._transport.getPage(E)}getPageIndex(E){return this._transport.getPageIndex(E)}getDestinations(){return this._transport.getDestinations()}getDestination(E){return this._transport.getDestination(E)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(E=!1){return this._transport.startCleanup(E||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(E,K,_,L,te=!1){this._pageIndex=E,this._pageInfo=K,this._ownerDocument=L,this._transport=_,this._stats=te?new _display_utils.StatTimer:null,this._pdfBug=te,this.commonObjs=_.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:E,rotation:K=this.rotate,offsetX:_=0,offsetY:L=0,dontFlip:te=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:E,rotation:K,offsetX:_,offsetY:L,dontFlip:te})}getAnnotations({intent:E="display"}={}){const K=this._transport.getRenderingIntent(E);let _=this._annotationPromises.get(K.cacheKey);return _||(_=this._transport.getAnnotations(this._pageIndex,K.renderingIntent),this._annotationPromises.set(K.cacheKey,_),_=_.then(L=>{for(const te of L)void 0!==te.titleObj&&Object.defineProperty(te,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),te.titleObj.str)}),void 0!==te.contentsObj&&Object.defineProperty(te,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),te.contentsObj.str)});return L})),_}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var E=this;return _asyncToGenerator(function*(){return E._transport._htmlForXfa?.children[E._pageIndex]||null})()}render({canvasContext:E,viewport:K,intent:_="display",annotationMode:L=_util.AnnotationMode.ENABLE,transform:te=null,imageLayer:Q=null,canvasFactory:ne=null,background:F=null,optionalContentConfigPromise:f=null,annotationCanvasMap:C=null,pageColors:h=null,printAnnotationStorage:v=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&L===_util.AnnotationMode.ENABLE&&(L=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&L===_util.AnnotationMode.ENABLE&&(L=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const x=this._transport.getRenderingIntent(_,L,v);this.pendingCleanup=!1,f||(f=this._transport.getOptionalContentConfig());let b=this._intentStates.get(x.cacheKey);b||(b=Object.create(null),this._intentStates.set(x.cacheKey,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const y=ne||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),m=!!(x.renderingIntent&_util.RenderingIntentFlag.PRINT);b.displayReadyCapability||(b.displayReadyCapability=(0,_util.createPromiseCapability)(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(x));const O=A=>{b.renderTasks.delete(I),(this.cleanupAfterRender||m)&&(this.pendingCleanup=!0),this._tryCleanup(),A?(I.capability.reject(A),this._abortOperatorList({intentState:b,reason:A instanceof Error?A:new Error(A)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},I=new InternalRenderTask({callback:O,params:{canvasContext:E,viewport:K,transform:te,imageLayer:Q,background:F},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:C,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:y,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:h});(b.renderTasks||=new Set).add(I);const T=I.task;return Promise.all([b.displayReadyCapability.promise,f]).then(([A,c])=>{this.pendingCleanup?O():(this._stats&&this._stats.time("Rendering"),I.initializeGraphics({transparency:A,optionalContentConfig:c}),I.operatorListChanged())}).catch(O),T}getOperatorList({intent:E="display",annotationMode:K=_util.AnnotationMode.ENABLE,printAnnotationStorage:_=null}={}){const te=this._transport.getRenderingIntent(E,K,_,!0);let ne,Q=this._intentStates.get(te.cacheKey);return Q||(Q=Object.create(null),this._intentStates.set(te.cacheKey,Q)),Q.opListReadCapability||(ne=Object.create(null),ne.operatorListChanged=function L(){Q.operatorList.lastChunk&&(Q.opListReadCapability.resolve(Q.operatorList),Q.renderTasks.delete(ne))},Q.opListReadCapability=(0,_util.createPromiseCapability)(),(Q.renderTasks||=new Set).add(ne),Q.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(te)),Q.opListReadCapability.promise}streamTextContent({disableCombineTextItems:E=!1,includeMarkedContent:K=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==E,includeMarkedContent:!0===K},{highWaterMark:100,size:L=>L.items.length})}getTextContent(E={}){if(this._transport._htmlForXfa)return this.getXfa().then(_=>_xfa_text.XfaText.textContent(_));const K=this.streamTextContent(E);return new Promise(function(_,L){const Q=K.getReader(),ne={items:[],styles:Object.create(null)};!function te(){Q.read().then(function({value:F,done:f}){f?_(ne):(Object.assign(ne.styles,F.styles),ne.items.push(...F.items),te())},L)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const E=[];for(const K of this._intentStates.values())if(this._abortOperatorList({intentState:K,reason:new Error("Page was destroyed."),force:!0}),!K.opListReadCapability)for(const _ of K.renderTasks)E.push(_.completed),_.cancel();this.objs.clear();for(const K of this._bitmaps)K.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(E)}cleanup(E=!1){return this.pendingCleanup=!0,this._tryCleanup(E)}_tryCleanup(E=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:K,operatorList:_}of this._intentStates.values())if(K.size>0||!_.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,E&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const K of this._bitmaps)K.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(E,K){const _=this._intentStates.get(K);_&&(this._stats&&this._stats.timeEnd("Page Request"),_.displayReadyCapability&&_.displayReadyCapability.resolve(E))}_renderPageChunk(E,K){for(let _=0,L=E.length;_<L;_++)K.operatorList.fnArray.push(E.fnArray[_]),K.operatorList.argsArray.push(E.argsArray[_]);K.operatorList.lastChunk=E.lastChunk,K.operatorList.separateAnnots=E.separateAnnots;for(const _ of K.renderTasks)_.operatorListChanged();E.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:E,cacheKey:K,annotationStorageMap:_}){const te=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:E,cacheKey:K,annotationStorage:_}).getReader(),Q=this._intentStates.get(K);Q.streamReader=te;const ne=()=>{te.read().then(({value:F,done:f})=>{f?Q.streamReader=null:this._transport.destroyed||(this._renderPageChunk(F,Q),ne())},F=>{if(Q.streamReader=null,!this._transport.destroyed){if(Q.operatorList){Q.operatorList.lastChunk=!0;for(const f of Q.renderTasks)f.operatorListChanged();this._tryCleanup()}if(Q.displayReadyCapability)Q.displayReadyCapability.reject(F);else{if(!Q.opListReadCapability)throw F;Q.opListReadCapability.reject(F)}}})};ne()}_abortOperatorList({intentState:E,reason:K,force:_=!1}){if(E.streamReader){if(!_){if(E.renderTasks.size>0)return;if(K instanceof _display_utils.RenderingCancelledException)return void(E.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:E,reason:K,force:!0}),E.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(E.streamReader.cancel(new _util.AbortException(K.message)).catch(()=>{}),E.streamReader=null,!this._transport.destroyed){for(const[L,te]of this._intentStates)if(te===E){this._intentStates.delete(L);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(E,K){const _={data:structuredClone(E,K)};this._deferred.then(()=>{for(const L of this._listeners)L.call(this,_)})}addEventListener(E,K){this._listeners.push(K)}removeEventListener(E,K){const _=this._listeners.indexOf(K);this._listeners.splice(_,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const pe=document?.currentScript?.src;pe&&(PDFWorkerUtil.fallbackWorkerSrc=pe.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(pe,E){let K;try{if(K=new URL(pe),!K.origin||"null"===K.origin)return!1}catch{return!1}const _=new URL(E,K);return K.origin===_.origin},PDFWorkerUtil.createCDNWrapper=function(pe){return URL.createObjectURL(new Blob([`importScripts("${pe}");`]))};class PDFWorker{static#workerPorts=new WeakMap;constructor({name:pe=null,port:E=null,verbosity:K=(0,_util.getVerbosityLevel)()}={}){if(E&&PDFWorker.#workerPorts.has(E))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=pe,this.destroyed=!1,this.verbosity=K,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,E)return PDFWorker.#workerPorts.set(E,this),void this._initializeFromPort(E);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(pe){this._port=pe,this._messageHandler=new _message_handler.MessageHandler("main","worker",pe),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:pe}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,pe)||(pe=PDFWorkerUtil.createCDNWrapper(new URL(pe,window.location).href));const E=new Worker(pe),K=new _message_handler.MessageHandler("main","worker",E),_=()=>{E.removeEventListener("error",L),K.destroy(),E.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},L=()=>{this._webWorker||_()};E.addEventListener("error",L),K.on("test",Q=>{E.removeEventListener("error",L),this.destroyed?_():Q?(this._messageHandler=K,this._port=E,this._webWorker=E,this._readyCapability.resolve(),K.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),K.destroy(),E.terminate())}),K.on("ready",Q=>{if(E.removeEventListener("error",L),this.destroyed)_();else try{te()}catch{this._setupFakeWorker()}});const te=()=>{const Q=new Uint8Array;K.send("test",Q,[Q.buffer])};return void te()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(pe=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const E=new LoopbackPort;this._port=E;const K="fake"+PDFWorkerUtil.fakeWorkerId++,_=new _message_handler.MessageHandler(K+"_worker",K,E);pe.setup(_,E);const L=new _message_handler.MessageHandler(K,K+"_worker",E);this._messageHandler=L,this._readyCapability.resolve(),L.send("configure",{verbosity:this.verbosity})}).catch(pe=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${pe.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(pe){if(!pe?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(pe.port)?this.#workerPorts.get(pe.port):new PDFWorker(pe)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function pe(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#n=new Map;#r=null;constructor(E,K,_,L){this.messageHandler=E,this.loadingTask=K,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:K.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:L.ownerDocument,styleElement:L.styleElement}),this._params=L,L.useWorkerFetch||(this.CMapReaderFactory=new L.CMapReaderFactory({baseUrl:L.cMapUrl,isCompressed:L.cMapPacked}),this.StandardFontDataFactory=new L.StandardFontDataFactory({baseUrl:L.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=_,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(E,K=_util.AnnotationMode.ENABLE,_=null,L=!1){let te=_util.RenderingIntentFlag.DISPLAY,Q=null;switch(E){case"any":te=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":te=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${E}`)}switch(K){case _util.AnnotationMode.DISABLE:te+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:te+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:te+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Q=(te&_util.RenderingIntentFlag.PRINT&&_ instanceof _annotation_storage.PrintAnnotationStorage?_:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${K}`)}return L&&(te+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:te,cacheKey:`${te}_${_annotation_storage.AnnotationStorage.getHash(Q)}`,annotationStorageMap:Q}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const E=[];for(const _ of this.#t.values())E.push(_._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const K=this.messageHandler.sendWithPromise("Terminate",null);return E.push(K),Promise.all(E).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#r=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:E,loadingTask:K}=this;E.on("GetReader",(_,L)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=te=>{this._lastProgress={loaded:te.loaded,total:te.total}},L.onPull=()=>{this._fullReader.read().then(function({value:te,done:Q}){Q?L.close():((0,_util.assert)((0,_util.isArrayBuffer)(te),"GetReader - expected an ArrayBuffer."),L.enqueue(new Uint8Array(te),1,[te]))}).catch(te=>{L.error(te)})},L.onCancel=te=>{this._fullReader.cancel(te),L.ready.catch(Q=>{if(!this.destroyed)throw Q})}}),E.on("ReaderHeadersReady",_=>{const L=(0,_util.createPromiseCapability)(),te=this._fullReader;return te.headersReady.then(()=>{(!te.isStreamingSupported||!te.isRangeSupported)&&(this._lastProgress&&K.onProgress?.(this._lastProgress),te.onProgress=Q=>{K.onProgress?.({loaded:Q.loaded,total:Q.total})}),L.resolve({isStreamingSupported:te.isStreamingSupported,isRangeSupported:te.isRangeSupported,contentLength:te.contentLength})},L.reject),L.promise}),E.on("GetRangeReader",(_,L)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const te=this._networkStream.getRangeReader(_.begin,_.end);te?(L.onPull=()=>{te.read().then(function({value:Q,done:ne}){ne?L.close():((0,_util.assert)((0,_util.isArrayBuffer)(Q),"GetRangeReader - expected an ArrayBuffer."),L.enqueue(new Uint8Array(Q),1,[Q]))}).catch(Q=>{L.error(Q)})},L.onCancel=Q=>{te.cancel(Q),L.ready.catch(ne=>{if(!this.destroyed)throw ne})}):L.close()}),E.on("GetDoc",({pdfInfo:_})=>{this._numPages=_.numPages,this._htmlForXfa=_.htmlForXfa,delete _.htmlForXfa,K._capability.resolve(new PDFDocumentProxy(_,this))}),E.on("DocException",function(_){let L;switch(_.name){case"PasswordException":L=new _util.PasswordException(_.message,_.code);break;case"InvalidPDFException":L=new _util.InvalidPDFException(_.message);break;case"MissingPDFException":L=new _util.MissingPDFException(_.message);break;case"UnexpectedResponseException":L=new _util.UnexpectedResponseException(_.message,_.status);break;case"UnknownErrorException":L=new _util.UnknownErrorException(_.message,_.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}K._capability.reject(L)}),E.on("PasswordRequest",_=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),K.onPassword){const L=te=>{te instanceof Error?this._passwordCapability.reject(te):this._passwordCapability.resolve({password:te})};try{K.onPassword(L,_.code)}catch(te){this._passwordCapability.reject(te)}}else this._passwordCapability.reject(new _util.PasswordException(_.message,_.code));return this._passwordCapability.promise}),E.on("DataLoaded",_=>{K.onProgress?.({loaded:_.length,total:_.length}),this.downloadInfoCapability.resolve(_)}),E.on("StartRenderPage",_=>{this.destroyed||this.#t.get(_.pageIndex)._startRenderPage(_.transparency,_.cacheKey)}),E.on("commonobj",([_,L,te])=>{if(!this.destroyed&&!this.commonObjs.has(_))switch(L){case"Font":const Q=this._params;if("error"in te){const f=te.error;(0,_util.warn)(`Error during font loading: ${f}`),this.commonObjs.resolve(_,f);break}let ne=null;Q.pdfBug&&globalThis.FontInspector?.enabled&&(ne={registerFont(f,C){globalThis.FontInspector.fontAdded(f,C)}});const F=new _font_loader.FontFaceObject(te,{isEvalSupported:Q.isEvalSupported,disableFontFace:Q.disableFontFace,ignoreErrors:Q.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:ne});this.fontLoader.bind(F).catch(f=>E.sendWithPromise("FontFallback",{id:_})).finally(()=>{!Q.fontExtraProperties&&F.data&&(F.data=null),this.commonObjs.resolve(_,F)});break;case"FontPath":case"Image":this.commonObjs.resolve(_,te);break;default:throw new Error(`Got unknown common object type ${L}`)}}),E.on("obj",([_,L,te,Q])=>{if(this.destroyed)return;const ne=this.#t.get(L);if(!ne.objs.has(_))switch(te){case"Image":ne.objs.resolve(_,Q);const F=8e6;if(Q){let f;if(Q.bitmap){const{bitmap:C,width:h,height:v}=Q;f=h*v*4,ne._bitmaps.add(C)}else f=Q.data?.length||0;f>F&&(ne.cleanupAfterRender=!0)}break;case"Pattern":ne.objs.resolve(_,Q);break;default:throw new Error(`Got unknown object type ${te}`)}}),E.on("DocProgress",_=>{this.destroyed||K.onProgress?.({loaded:_.loaded,total:_.total})}),E.on("DocStats",_=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(_.streamTypes),fontTypes:Object.freeze(_.fontTypes)}))}),E.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),E.on("FetchBuiltInCMap",_=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(_):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),E.on("FetchStandardFontData",_=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(_):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:E}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(E)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(E){if(!Number.isInteger(E)||E<=0||E>this._numPages)return Promise.reject(new Error("Invalid page request."));const K=E-1,_=this.#n.get(K);if(_)return _;const L=this.messageHandler.sendWithPromise("GetPage",{pageIndex:K}).then(te=>{if(this.destroyed)throw new Error("Transport destroyed");const Q=new PDFPageProxy(K,te,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(K,Q),Q});return this.#n.set(K,L),L}getPageIndex(E){return"object"!=typeof E||null===E||!Number.isInteger(E.num)||E.num<0||!Number.isInteger(E.gen)||E.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:E.num,gen:E.gen})}getAnnotations(E,K){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:E,intent:K})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(E){return"string"!=typeof E?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:E})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(E){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:E})}getStructTree(E){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:E})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(E=>new _optional_content_config.OptionalContentConfig(E))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#r||=this.messageHandler.sendWithPromise("GetMetadata",null).then(E=>({info:E[0],metadata:E[1]?new _metadata.Metadata(E[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(E=!1){var K=this;return _asyncToGenerator(function*(){if(yield K.messageHandler.sendWithPromise("Cleanup",null),!K.destroyed){for(const _ of K.#t.values())if(!_.cleanup())throw new Error(`startCleanup: Page ${_.pageNumber} is currently rendering.`);K.commonObjs.clear(),E||K.fontLoader.clear(),K.#r=null,K._getFieldObjectsPromise=null,K._hasJSActionsPromise=null}})()}get loadingParams(){const E=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:E.disableAutoFetch,enableXfa:E.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(E){return this.#e[E]||(this.#e[E]={capability:(0,_util.createPromiseCapability)(),data:null})}get(E,K=null){if(K){const L=this.#t(E);return L.capability.promise.then(()=>K(L.data)),null}const _=this.#e[E];if(!_?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${E}.`);return _.data}has(E){return this.#e[E]?.capability.settled||!1}resolve(E,K=null){const _=this.#t(E);_.data=K,_.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(E){this.#e=E,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){this.#e.cancel()}get separateAnnots(){const{separateAnnots:E}=this.#e.operatorList;if(!E)return!1;const{annotationCanvasMap:K}=this.#e;return E.form||E.canvas&&K?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:E,params:K,objs:_,commonObjs:L,annotationCanvasMap:te,operatorList:Q,pageIndex:ne,canvasFactory:F,useRequestAnimationFrame:f=!1,pdfBug:C=!1,pageColors:h=null}){this.callback=E,this.params=K,this.objs=_,this.commonObjs=L,this.annotationCanvasMap=te,this.operatorListIdx=null,this.operatorList=Q,this._pageIndex=ne,this.canvasFactory=F,this._pdfBug=C,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===f&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=K.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:E=!1,optionalContentConfig:K}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:_,viewport:L,transform:te,imageLayer:Q,background:ne}=this.params;this.gfx=new _canvas.CanvasGraphics(_,this.commonObjs,this.objs,this.canvasFactory,Q,K,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:te,viewport:L,transparency:E,background:ne}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(E=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(E||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var E=this;return _asyncToGenerator(function*(){E.cancelled||(E.operatorListIdx=E.gfx.executeOperatorList(E.operatorList,E.operatorListIdx,E._continueBound,E.stepper),E.operatorListIdx===E.operatorList.argsArray.length&&(E.running=!1,E.operatorList.lastChunk&&(E.gfx.endDrawing(),E._canvas&&InternalRenderTask.#e.delete(E._canvas),E.callback())))})()}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PrintAnnotationStorage=E.AnnotationStorage=void 0;var _=K(1),L=K(6),te=K(10);class Q{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(f,C){const h=this._storage.get(f);return void 0===h?C:Object.assign(C,h)}getRawValue(f){return this._storage.get(f)}remove(f){if(this._storage.delete(f),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const C of this._storage.values())if(C instanceof L.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(f,C){const h=this._storage.get(f);let v=!1;if(void 0!==h)for(const[x,b]of Object.entries(C))h[x]!==b&&(v=!0,h[x]=b);else v=!0,this._storage.set(f,C);v&&this.#e(),C instanceof L.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(C.constructor._type)}has(f){return this._storage.has(f)}getAll(){return this._storage.size>0?(0,_.objectFromMap)(this._storage):null}get size(){return this._storage.size}#e(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new ne(this)}get serializable(){if(0===this._storage.size)return null;const f=new Map;for(const[C,h]of this._storage){const v=h instanceof L.AnnotationEditor?h.serialize():h;v&&f.set(C,v)}return f}static getHash(f){if(!f)return"";const C=new te.MurmurHash3_64;for(const[h,v]of f)C.update(`${h}:${JSON.stringify(v)}`);return C.hexdigest()}}E.AnnotationStorage=Q;class ne extends Q{#e=null;constructor(f){super(),this.#e=structuredClone(f.serializable)}get print(){(0,_.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}E.PrintAnnotationStorage=ne},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.AnnotationEditor=void 0;var _=K(7),L=K(1);class te{#e=this.focusin.bind(this);#t=this.focusout.bind(this);#n=!1;#r=!1;#s=!1;#c=te._zIndex++;static _colorManager=new _.ColorManager;static _zIndex=1;constructor(ne){this.constructor===te&&(0,L.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ne.parent,this.id=ne.id,this.width=this.height=null,this.pageIndex=ne.parent.pageIndex,this.name=ne.name,this.div=null;const[F,f]=this.parent.viewportBaseDimensions;this.x=ne.x/F,this.y=ne.y/f,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,L.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#c}focusin(ne){this.#n?this.#n=!1:this.parent.setSelected(this)}focusout(ne){!this.isAttachedToDOM||ne.relatedTarget?.closest(`#${this.id}`)||(ne.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(ne){const F=this.parent.div.getBoundingClientRect();this.startX=ne.clientX-F.x,this.startY=ne.clientY-F.y,ne.dataTransfer.setData("text/plain",this.id),ne.dataTransfer.effectAllowed="move"}setAt(ne,F,f,C){const[h,v]=this.parent.viewportBaseDimensions;[f,C]=this.screenToPageTranslation(f,C),this.x=(ne+f)/h,this.y=(F+C)/v,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(ne,F){const[f,C]=this.parent.viewportBaseDimensions;[ne,F]=this.screenToPageTranslation(ne,F),this.x+=ne/f,this.y+=F/C,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(ne,F){const{rotation:f}=this.parent.viewport;switch(f){case 90:return[F,-ne];case 180:return[-ne,-F];case 270:return[-F,ne];default:return[ne,F]}}setDims(ne,F){const[f,C]=this.parent.viewportBaseDimensions;this.div.style.width=100*ne/f+"%",this.div.style.height=100*F/C+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#e),this.div.addEventListener("focusout",this.#t);const[ne,F]=this.getInitialTranslation();return this.translate(ne,F),(0,_.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(ne){const F=_.KeyboardManager.platform.isMac;0!==ne.button||ne.ctrlKey&&F?ne.preventDefault():(ne.ctrlKey&&!F||ne.shiftKey||ne.metaKey&&F?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#n=!0)}getRect(ne,F){const[f,C]=this.parent.viewportBaseDimensions,[h,v]=this.parent.pageDimensions,x=h*ne/f,b=v*F/C,y=this.x*h,m=this.y*v,O=this.width*h,I=this.height*v;switch(this.rotation){case 0:return[y+x,v-m-b-I,y+x+O,v-m-b];case 90:return[y+b,v-m+x,y+b+I,v-m+x+O];case 180:return[y-x-O,v-m+b,y-x,v-m+b+I];case 270:return[y-b-I,v-m-x-O,y-b,v-m-x];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ne,F){const[f,C,h,v]=ne,x=h-f,b=v-C;switch(this.rotation){case 0:return[f,F-v,x,b];case 90:return[f,F-C,b,x];case 180:return[h,F-C,x,b];case 270:return[h,F-v,b,x];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#s=!0}disableEditMode(){this.#s=!1}isInEditMode(){return this.#s}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#e)}serialize(){(0,L.unreachable)("An editor must be serializable")}static deserialize(ne,F){const f=new this.prototype.constructor({parent:F,id:F.getNextId()});f.rotation=ne.rotation;const[C,h]=F.pageDimensions,[v,x,b,y]=f.getRectInCurrentCoords(ne.rect,h);return f.x=v/C,f.y=x/h,f.width=b/C,f.height=y/h,f}remove(){this.div.removeEventListener("focusin",this.#e),this.div.removeEventListener("focusout",this.#t),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(ne,F){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(ne){this.#r=ne,ne?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}E.AnnotationEditor=te},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.KeyboardManager=E.CommandManager=E.ColorManager=E.AnnotationEditorUIManager=void 0,E.bindEvents=function te(x,b,y){for(const m of y)b.addEventListener(m,x[m].bind(x))},E.opacityToHex=function Q(x){return Math.round(Math.min(255,Math.max(1,255*x))).toString(16).padStart(2,"0")};var _=K(1),L=K(8);class ne{#e=0;getId(){return`${_.AnnotationEditorPrefix}${this.#e++}`}}class F{#e=[];#t=!1;#n;#r=-1;constructor(b=128){this.#n=b}add({cmd:b,undo:y,mustExec:m,type:O=NaN,overwriteIfSameType:I=!1,keepUndo:T=!1}){if(m&&b(),this.#t)return;const A={cmd:b,undo:y,type:O};if(-1===this.#r)return this.#e.length>0&&(this.#e.length=0),this.#r=0,void this.#e.push(A);if(I&&this.#e[this.#r].type===O)return T&&(A.undo=this.#e[this.#r].undo),void(this.#e[this.#r]=A);const c=this.#r+1;c===this.#n?this.#e.splice(0,1):(this.#r=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(A)}undo(){-1!==this.#r&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return-1!==this.#r}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}E.CommandManager=F;class f{constructor(b){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const y=f.platform.isMac;for(const[m,O]of b)for(const I of m){const T=I.startsWith("mac+");y&&T?(this.callbacks.set(I.slice(4),O),this.allKeys.add(I.split("+").at(-1))):!y&&!T&&(this.callbacks.set(I,O),this.allKeys.add(I.split("+").at(-1)))}}static get platform(){const b=typeof navigator<"u"?navigator.platform:"";return(0,_.shadow)(this,"platform",{isWin:b.includes("Win"),isMac:b.includes("Mac")})}#e(b){b.altKey&&this.buffer.push("alt"),b.ctrlKey&&this.buffer.push("ctrl"),b.metaKey&&this.buffer.push("meta"),b.shiftKey&&this.buffer.push("shift"),this.buffer.push(b.key);const y=this.buffer.join("+");return this.buffer.length=0,y}exec(b,y){if(!this.allKeys.has(y.key))return;const m=this.callbacks.get(this.#e(y));m&&(m.bind(b)(),y.stopPropagation(),y.preventDefault())}}E.KeyboardManager=f;class C{#e=null;copy(b){b&&(Array.isArray(b)?this.#e=b.map(y=>y.serialize()):this.#e=[b.serialize()],this.#e=this.#e.filter(y=>!!y),0===this.#e.length&&(this.#e=null))}paste(){return this.#e}isEmpty(){return null===this.#e}destroy(){this.#e=null}}class h{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const b=new Map([["CanvasText",null],["Canvas",null]]);return(0,L.getColorValues)(b),(0,_.shadow)(this,"_colors",b)}convert(b){const y=(0,L.getRGB)(b);if(!window.matchMedia("(forced-colors: active)").matches)return y;for(const[m,O]of this._colors)if(O.every((I,T)=>I===y[T]))return h._colorsMapping.get(m);return y}getHexCode(b){const y=this._colors.get(b);return y?_.Util.makeHexColor(...y):b}}E.ColorManager=h;class v{#e=null;#t=new Map;#n=new Map;#r=new C;#s=new F;#c=0;#a=null;#i=null;#h=new ne;#u=!1;#l=_.AnnotationEditorType.NONE;#o=new Set;#p=this.keydown.bind(this);#f=this.onEditingAction.bind(this);#y=this.onPageChanging.bind(this);#m={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#v=null;static _keyboardManager=new f([[["ctrl+a","mac+meta+a"],v.prototype.selectAll],[["ctrl+c","mac+meta+c"],v.prototype.copy],[["ctrl+v","mac+meta+v"],v.prototype.paste],[["ctrl+x","mac+meta+x"],v.prototype.cut],[["ctrl+z","mac+meta+z"],v.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],v.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],v.prototype.delete],[["Escape","mac+Escape"],v.prototype.unselectAll]]);constructor(b,y){this.#v=b,this.#i=y,this.#i._on("editingaction",this.#f),this.#i._on("pagechanging",this.#y)}destroy(){this.#b(),this.#i._off("editingaction",this.#f),this.#i._off("pagechanging",this.#y);for(const b of this.#n.values())b.destroy();this.#n.clear(),this.#t.clear(),this.#e=null,this.#o.clear(),this.#r.destroy(),this.#s.destroy()}onPageChanging({pageNumber:b}){this.#c=b-1}focusMainContainer(){this.#v.focus()}#w(){this.#v.addEventListener("keydown",this.#p)}#b(){this.#v.removeEventListener("keydown",this.#p)}keydown(b){this.getActive()?.shouldGetKeyboardEvents()||v._keyboardManager.exec(this,b)}onEditingAction(b){["undo","redo","cut","copy","paste","delete","selectAll"].includes(b.name)&&this[b.name]()}#d(b){Object.entries(b).some(([m,O])=>this.#m[m]!==O)&&this.#i.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#m,b)})}#E(b){this.#i.dispatch("annotationeditorparamschanged",{source:this,details:b})}setEditingState(b){b?(this.#w(),this.#d({isEditing:this.#l!==_.AnnotationEditorType.NONE,isEmpty:this.#_(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#r.isEmpty()})):(this.#b(),this.#d({isEditing:!1}))}registerEditorTypes(b){this.#a=b;for(const y of this.#a)this.#E(y.defaultPropertiesToUpdate)}getId(){return this.#h.getId()}addLayer(b){this.#n.set(b.pageIndex,b),this.#u?b.enable():b.disable()}removeLayer(b){this.#n.delete(b.pageIndex)}updateMode(b){if(this.#l=b,b===_.AnnotationEditorType.NONE)this.setEditingState(!1),this.#g();else{this.setEditingState(!0),this.#M();for(const y of this.#n.values())y.updateMode(b)}}updateToolbar(b){b!==this.#l&&this.#i.dispatch("switchannotationeditormode",{source:this,mode:b})}updateParams(b,y){for(const m of this.#o)m.updateParams(b,y);for(const m of this.#a)m.updateDefaultParams(b,y)}#M(){if(!this.#u){this.#u=!0;for(const b of this.#n.values())b.enable()}}#g(){if(this.unselectAll(),this.#u){this.#u=!1;for(const b of this.#n.values())b.disable()}}getEditors(b){const y=[];for(const m of this.#t.values())m.pageIndex===b&&y.push(m);return y}getEditor(b){return this.#t.get(b)}addEditor(b){this.#t.set(b.id,b)}removeEditor(b){this.#t.delete(b.id),this.unselect(b)}#A(b){const y=this.#n.get(b.pageIndex);y?y.addOrRebuild(b):this.addEditor(b)}setActiveEditor(b){this.#e!==b&&(this.#e=b,b&&this.#E(b.propertiesToUpdate))}toggleSelected(b){if(this.#o.has(b))return this.#o.delete(b),b.unselect(),void this.#d({hasSelectedEditor:this.hasSelection});this.#o.add(b),b.select(),this.#E(b.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}setSelected(b){for(const y of this.#o)y!==b&&y.unselect();this.#o.clear(),this.#o.add(b),b.select(),this.#E(b.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}isSelected(b){return this.#o.has(b)}unselect(b){b.unselect(),this.#o.delete(b),this.#d({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#o.size}undo(){this.#s.undo(),this.#d({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#_()})}redo(){this.#s.redo(),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#_()})}addCommands(b){this.#s.add(b),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#_()})}#_(){if(0===this.#t.size)return!0;if(1===this.#t.size)for(const b of this.#t.values())return b.isEmpty();return!1}delete(){if(this.#e&&this.#e.commitOrRemove(),!this.hasSelection)return;const b=[...this.#o];this.addCommands({cmd:()=>{for(const O of b)O.remove()},undo:()=>{for(const O of b)this.#A(O)},mustExec:!0})}copy(){if(this.#e&&this.#e.commitOrRemove(),this.hasSelection){const b=[];for(const y of this.#o)y.isEmpty()||b.push(y);if(0===b.length)return;this.#r.copy(b),this.#d({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#r.isEmpty())return;this.unselectAll();const b=this.#n.get(this.#c),y=this.#r.paste().map(I=>b.deserialize(I));this.addCommands({cmd:()=>{for(const I of y)this.#A(I);this.#C(y)},undo:()=>{for(const I of y)I.remove()},mustExec:!0})}#C(b){this.#o.clear();for(const y of b)y.isEmpty()||(this.#o.add(y),y.select());this.#d({hasSelectedEditor:!0})}selectAll(){for(const b of this.#o)b.commit();this.#C(this.#t.values())}unselectAll(){if(this.#e)this.#e.commitOrRemove();else if(0!==this.#C.size){for(const b of this.#o)b.unselect();this.#o.clear(),this.#d({hasSelectedEditor:!1})}}isActive(b){return this.#e===b}getActive(){return this.#e}getMode(){return this.#l}}E.AnnotationEditorUIManager=v},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.StatTimer=E.RenderingCancelledException=E.PixelsPerInch=E.PageViewport=E.PDFDateString=E.DOMStandardFontDataFactory=E.DOMSVGFactory=E.DOMCanvasFactory=E.DOMCMapReaderFactory=E.AnnotationPrefix=void 0,E.deprecated=function M(z){console.log("Deprecated API usage: "+z)},E.getColorValues=function le(z){const X=document.createElement("span");X.style.visibility="hidden",document.body.append(X);for(const V of z.keys()){X.style.color=V;const B=window.getComputedStyle(X).color;z.set(V,W(B))}X.remove()},E.getCurrentTransform=function ie(z){const{a:X,b:V,c:B,d:D,e:g,f:w}=z.getTransform();return[X,V,B,D,g,w]},E.getCurrentTransformInverse=function k(z){const{a:X,b:V,c:B,d:D,e:g,f:w}=z.getTransform().invertSelf();return[X,V,B,D,g,w]},E.getFilenameFromUrl=function I(z){const X=z.indexOf("#"),V=z.indexOf("?"),B=Math.min(X>0?X:z.length,V>0?V:z.length);return z.substring(z.lastIndexOf("/",B)+1,B)},E.getPdfFilenameFromUrl=function T(z,X="document.pdf"){if("string"!=typeof z)return X;if(m(z))return(0,L.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),X;const B=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,D=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(z);let g=B.exec(D[1])||B.exec(D[2])||B.exec(D[3]);if(g&&(g=g[0],g.includes("%")))try{g=B.exec(decodeURIComponent(g))[0]}catch{}return g||X},E.getRGB=W,E.getXfaPageViewport=function Y(z,{scale:X=1,rotation:V=0}){const{width:B,height:D}=z.attributes.style,g=[0,0,parseInt(B),parseInt(D)];return new b({viewBox:g,scale:X,rotation:V})},E.isDataScheme=m,E.isPdfFile=function O(z){return"string"==typeof z&&/\.pdf$/i.test(z)},E.isValidFetchUrl=c,E.loadScript=function p(z,X=!1){return new Promise((V,B)=>{const D=document.createElement("script");D.src=z,D.onload=function(g){X&&D.remove(),V(g)},D.onerror=function(){B(new Error(`Cannot load script at: ${D.src}`))},(document.head||document.documentElement).append(D)})};var _=K(9),L=K(1);function f(z){return C.apply(this,arguments)}function C(){return(C=_asyncToGenerator(function*(z,X=!1){if(c(z,document.baseURI)){const V=yield fetch(z);if(!V.ok)throw new Error(V.statusText);return X?new Uint8Array(yield V.arrayBuffer()):(0,L.stringToBytes)(yield V.text())}return new Promise((V,B)=>{const D=new XMLHttpRequest;D.open("GET",z,!0),X&&(D.responseType="arraybuffer"),D.onreadystatechange=()=>{if(D.readyState===XMLHttpRequest.DONE){if(200===D.status||0===D.status){let g;if(X&&D.response?g=new Uint8Array(D.response):!X&&D.responseText&&(g=(0,L.stringToBytes)(D.responseText)),g)return void V(g)}B(new Error(D.statusText))}},D.send(null)})})).apply(this,arguments)}E.AnnotationPrefix="pdfjs_internal_id_",E.PixelsPerInch=class ne{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},E.DOMCanvasFactory=class F extends _.BaseCanvasFactory{constructor({ownerDocument:X=globalThis.document}={}){super(),this._document=X}_createCanvas(X,V){const B=this._document.createElement("canvas");return B.width=X,B.height=V,B}},E.DOMCMapReaderFactory=class h extends _.BaseCMapReaderFactory{_fetchData(X,V){return f(X,this.isCompressed).then(B=>({cMapData:B,compressionType:V}))}},E.DOMStandardFontDataFactory=class v extends _.BaseStandardFontDataFactory{_fetchData(X){return f(X,!0)}},E.DOMSVGFactory=class x extends _.BaseSVGFactory{_createSVG(X){return document.createElementNS("http://www.w3.org/2000/svg",X)}};class b{constructor({viewBox:X,scale:V,rotation:B,offsetX:D=0,offsetY:g=0,dontFlip:w=!1}){this.viewBox=X,this.scale=V,this.rotation=B,this.offsetX=D,this.offsetY=g;const j=(X[2]+X[0])/2,R=(X[3]+X[1])/2;let d,S,N,U,q,ee,J,oe;switch((B%=360)<0&&(B+=360),B){case 180:d=-1,S=0,N=0,U=1;break;case 90:d=0,S=1,N=1,U=0;break;case 270:d=0,S=-1,N=-1,U=0;break;case 0:d=1,S=0,N=0,U=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}w&&(N=-N,U=-U),0===d?(q=Math.abs(R-X[1])*V+D,ee=Math.abs(j-X[0])*V+g,J=Math.abs(X[3]-X[1])*V,oe=Math.abs(X[2]-X[0])*V):(q=Math.abs(j-X[0])*V+D,ee=Math.abs(R-X[1])*V+g,J=Math.abs(X[2]-X[0])*V,oe=Math.abs(X[3]-X[1])*V),this.transform=[d*V,S*V,N*V,U*V,q-d*V*j-N*V*R,ee-S*V*j-U*V*R],this.width=J,this.height=oe}clone({scale:X=this.scale,rotation:V=this.rotation,offsetX:B=this.offsetX,offsetY:D=this.offsetY,dontFlip:g=!1}={}){return new b({viewBox:this.viewBox.slice(),scale:X,rotation:V,offsetX:B,offsetY:D,dontFlip:g})}convertToViewportPoint(X,V){return L.Util.applyTransform([X,V],this.transform)}convertToViewportRectangle(X){const V=L.Util.applyTransform([X[0],X[1]],this.transform),B=L.Util.applyTransform([X[2],X[3]],this.transform);return[V[0],V[1],B[0],B[1]]}convertToPdfPoint(X,V){return L.Util.applyInverseTransform([X,V],this.transform)}}function m(z){const X=z.length;let V=0;for(;V<X&&""===z[V].trim();)V++;return"data:"===z.substring(V,V+5).toLowerCase()}function c(z,X){try{const{protocol:V}=X?new URL(z,X):new URL(z);return"http:"===V||"https:"===V}catch{return!1}}let H;function W(z){if(z.startsWith("#")){const X=parseInt(z.slice(1),16);return[(16711680&X)>>16,(65280&X)>>8,255&X]}return z.startsWith("rgb(")?z.slice(4,-1).split(",").map(X=>parseInt(X)):z.startsWith("rgba(")?z.slice(5,-1).split(",").map(X=>parseInt(X)).slice(0,3):((0,L.warn)(`Not a valid color format: "${z}"`),[0,0,0])}E.PageViewport=b,E.RenderingCancelledException=class y extends L.BaseException{constructor(X,V){super(X,"RenderingCancelledException"),this.type=V}},E.StatTimer=class A{constructor(){this.started=Object.create(null),this.times=[]}time(X){X in this.started&&(0,L.warn)(`Timer is already running for ${X}`),this.started[X]=Date.now()}timeEnd(X){X in this.started||(0,L.warn)(`Timer has not been started for ${X}`),this.times.push({name:X,start:this.started[X],end:Date.now()}),delete this.started[X]}toString(){const X=[];let V=0;for(const B of this.times){const D=B.name;D.length>V&&(V=D.length)}for(const B of this.times){const D=B.end-B.start;X.push(`${B.name.padEnd(V)} ${D}ms\n`)}return X.join("")}},E.PDFDateString=class G{static toDateObject(X){if(!X||"string"!=typeof X)return null;H||(H=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const V=H.exec(X);if(!V)return null;const B=parseInt(V[1],10);let D=parseInt(V[2],10);D=D>=1&&D<=12?D-1:0;let g=parseInt(V[3],10);g=g>=1&&g<=31?g:1;let w=parseInt(V[4],10);w=w>=0&&w<=23?w:0;let j=parseInt(V[5],10);j=j>=0&&j<=59?j:0;let R=parseInt(V[6],10);R=R>=0&&R<=59?R:0;const d=V[7]||"Z";let S=parseInt(V[8],10);S=S>=0&&S<=23?S:0;let N=parseInt(V[9],10)||0;return N=N>=0&&N<=59?N:0,"-"===d?(w+=S,j+=N):"+"===d&&(w-=S,j-=N),new Date(Date.UTC(B,D,g,w,j,R))}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.BaseStandardFontDataFactory=E.BaseSVGFactory=E.BaseCanvasFactory=E.BaseCMapReaderFactory=void 0;var _=K(1);class L{constructor(){this.constructor===L&&(0,_.unreachable)("Cannot initialize BaseCanvasFactory.")}create(f,C){if(f<=0||C<=0)throw new Error("Invalid canvas size");const h=this._createCanvas(f,C);return{canvas:h,context:h.getContext("2d")}}reset(f,C,h){if(!f.canvas)throw new Error("Canvas is not specified");if(C<=0||h<=0)throw new Error("Invalid canvas size");f.canvas.width=C,f.canvas.height=h}destroy(f){if(!f.canvas)throw new Error("Canvas is not specified");f.canvas.width=0,f.canvas.height=0,f.canvas=null,f.context=null}_createCanvas(f,C){(0,_.unreachable)("Abstract method `_createCanvas` called.")}}E.BaseCanvasFactory=L;class te{constructor({baseUrl:f=null,isCompressed:C=!1}){this.constructor===te&&(0,_.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=f,this.isCompressed=C}fetch({name:f}){var C=this;return _asyncToGenerator(function*(){if(!C.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!f)throw new Error("CMap name must be specified.");const h=C.baseUrl+f+(C.isCompressed?".bcmap":"");return C._fetchData(h,C.isCompressed?_.CMapCompressionType.BINARY:_.CMapCompressionType.NONE).catch(x=>{throw new Error(`Unable to load ${C.isCompressed?"binary ":""}CMap at: ${h}`)})})()}_fetchData(f,C){(0,_.unreachable)("Abstract method `_fetchData` called.")}}E.BaseCMapReaderFactory=te;class Q{constructor({baseUrl:f=null}){this.constructor===Q&&(0,_.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=f}fetch({filename:f}){var C=this;return _asyncToGenerator(function*(){if(!C.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!f)throw new Error("Font filename must be specified.");const h=`${C.baseUrl}${f}`;return C._fetchData(h).catch(v=>{throw new Error(`Unable to load font data at: ${h}`)})})()}_fetchData(f){(0,_.unreachable)("Abstract method `_fetchData` called.")}}E.BaseStandardFontDataFactory=Q;class ne{constructor(){this.constructor===ne&&(0,_.unreachable)("Cannot initialize BaseSVGFactory.")}create(f,C,h=!1){if(f<=0||C<=0)throw new Error("Invalid SVG dimensions");const v=this._createSVG("svg:svg");return v.setAttribute("version","1.1"),h||(v.setAttribute("width",`${f}px`),v.setAttribute("height",`${C}px`)),v.setAttribute("preserveAspectRatio","none"),v.setAttribute("viewBox",`0 0 ${f} ${C}`),v}createElement(f){if("string"!=typeof f)throw new Error("Invalid SVG element type");return this._createSVG(f)}_createSVG(f){(0,_.unreachable)("Abstract method `_createSVG` called.")}}E.BaseSVGFactory=ne},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.MurmurHash3_64=void 0;var _=K(1);const L=3285377520,te=4294901760,Q=65535;E.MurmurHash3_64=class ne{constructor(f){this.h1=f?4294967295&f:L,this.h2=f?4294967295&f:L}update(f){let C,h;if("string"==typeof f){C=new Uint8Array(2*f.length),h=0;for(let M=0,H=f.length;M<H;M++){const G=f.charCodeAt(M);G<=255?C[h++]=G:(C[h++]=G>>>8,C[h++]=255&G)}}else{if(!(0,_.isArrayBuffer)(f))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");C=f.slice(),h=C.byteLength}const v=h>>2,x=h-4*v,b=new Uint32Array(C.buffer,0,v);let y=0,m=0,O=this.h1,I=this.h2;const T=3432918353,A=461845907,c=T&Q,p=A&Q;for(let M=0;M<v;M++)1&M?(y=b[M],y=y*T&te|y*c&Q,y=y<<15|y>>>17,y=y*A&te|y*p&Q,O^=y,O=O<<13|O>>>19,O=5*O+3864292196):(m=b[M],m=m*T&te|m*c&Q,m=m<<15|m>>>17,m=m*A&te|m*p&Q,I^=m,I=I<<13|I>>>19,I=5*I+3864292196);switch(y=0,x){case 3:y^=C[4*v+2]<<16;case 2:y^=C[4*v+1]<<8;case 1:y^=C[4*v],y=y*T&te|y*c&Q,y=y<<15|y>>>17,y=y*A&te|y*p&Q,1&v?O^=y:I^=y}this.h1=O,this.h2=I}hexdigest(){let f=this.h1,C=this.h2;f^=C>>>1,f=3981806797*f&te|36045*f&Q,C=4283543511*C&te|(2950163797*(C<<16|f>>>16)&te)>>>16,f^=C>>>1,f=444984403*f&te|60499*f&Q,C=3301882366*C&te|(3120437893*(C<<16|f>>>16)&te)>>>16,f^=C>>>1;const h=(f>>>0).toString(16),v=(C>>>0).toString(16);return h.padStart(8,"0")+v.padStart(8,"0")}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.FontLoader=E.FontFaceObject=void 0;var _=K(1);class L{constructor({docId:F,onUnsupportedFeature:f,ownerDocument:C=globalThis.document,styleElement:h=null}){this.constructor===L&&(0,_.unreachable)("Cannot initialize BaseFontLoader."),this.docId=F,this._onUnsupportedFeature=f,this._document=C,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(F){this.nativeFontFaces.push(F),this._document.fonts.add(F)}insertRule(F){let f=this.styleElement;f||(f=this.styleElement=this._document.createElement("style"),f.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(f));const C=f.sheet;C.insertRule(F,C.cssRules.length)}clear(){for(const F of this.nativeFontFaces)this._document.fonts.delete(F);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(F){var f=this;return _asyncToGenerator(function*(){if(F.attached||F.missingFile)return;if(F.attached=!0,f.isFontLoadingAPISupported){const h=F.createNativeFontFace();if(h){f.addNativeFontFace(h);try{yield h.loaded}catch(v){throw f._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_.warn)(`Failed to load font '${h.family}': '${v}'.`),F.disableFontFace=!0,v}}return}const C=F.createFontFaceRule();if(C){if(f.insertRule(C),f.isSyncFontLoadingSupported)return;yield new Promise(h=>{const v=f._queueLoadingCallback(h);f._prepareFontLoadEvent([C],[F],v)})}})()}_queueLoadingCallback(F){(0,_.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,_.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,_.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,_.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(F,f,C){(0,_.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let te;E.FontLoader=te,E.FontLoader=te=class extends L{constructor(F){super(F),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let F=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(F=!0),(0,_.shadow)(this,"isSyncFontLoadingSupported",F)}_queueLoadingCallback(F){const C=this.loadingContext,h={id:"pdfjs-font-loading-"+C.nextRequestId++,done:!1,complete:function f(){for((0,_.assert)(!h.done,"completeRequest() cannot be called twice."),h.done=!0;C.requests.length>0&&C.requests[0].done;){const v=C.requests.shift();setTimeout(v.callback,0)}},callback:F};return C.requests.push(h),h}get _loadTestFont(){return(0,_.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(F,f,C){function h(ie,k){return ie.charCodeAt(k)<<24|ie.charCodeAt(k+1)<<16|ie.charCodeAt(k+2)<<8|255&ie.charCodeAt(k+3)}function v(ie,k,z,X){return ie.substring(0,k)+X+ie.substring(k+z)}let x,b;const y=this._document.createElement("canvas");y.width=1,y.height=1;const m=y.getContext("2d");let O=0;const T=`lt${Date.now()}${this.loadTestFontId++}`;let A=this._loadTestFont;A=v(A,976,T.length,T);const M=1482184792;let H=h(A,16);for(x=0,b=T.length-3;x<b;x+=4)H=H-M+h(T,x)|0;x<T.length&&(H=H-M+h(T+"XXX",x)|0),A=v(A,16,4,(0,_.string32)(H));const G=`url(data:font/opentype;base64,${btoa(A)});`;this.insertRule(`@font-face {font-family:"${T}";src:${G}}`);const W=[];for(const ie of f)W.push(ie.loadedName);W.push(T);const le=this._document.createElement("div");le.style.visibility="hidden",le.style.width=le.style.height="10px",le.style.position="absolute",le.style.top=le.style.left="0px";for(const ie of W){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=ie,le.append(k)}this._document.body.append(le),function I(ie,k){if(O++,O>30)return(0,_.warn)("Load test font never loaded."),void k();m.font="30px "+ie,m.fillText(".",0,20),m.getImageData(0,0,1,1).data[3]>0?k():setTimeout(I.bind(null,ie,k))}(T,()=>{le.remove(),C.complete()})}},E.FontFaceObject=class Q{constructor(F,{isEvalSupported:f=!0,disableFontFace:C=!1,ignoreErrors:h=!1,onUnsupportedFeature:v,fontRegistry:x=null}){this.compiledGlyphs=Object.create(null);for(const b in F)this[b]=F[b];this.isEvalSupported=!1!==f,this.disableFontFace=!0===C,this.ignoreErrors=!0===h,this._onUnsupportedFeature=v,this.fontRegistry=x}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let F;if(this.cssFontInfo){const f={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(f.style=`oblique ${this.cssFontInfo.italicAngle}deg`),F=new FontFace(this.cssFontInfo.fontFamily,this.data,f)}else F=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),F}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const F=(0,_.bytesToString)(this.data),f=`url(data:${this.mimetype};base64,${btoa(F)});`;let C;if(this.cssFontInfo){let h=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(h+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),C=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${h}src:${f}}`}else C=`@font-face {font-family:"${this.loadedName}";src:${f}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,f),C}getPathGenerator(F,f){if(void 0!==this.compiledGlyphs[f])return this.compiledGlyphs[f];let C;try{C=F.get(this.loadedName+"_path_"+f)}catch(h){if(!this.ignoreErrors)throw h;return this._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_.warn)(`getPathGenerator - ignoring character: "${h}".`),this.compiledGlyphs[f]=function(v,x){}}if(this.isEvalSupported&&_.FeatureTest.isEvalSupported){const h=[];for(const v of C){const x=void 0!==v.args?v.args.join(","):"";h.push("c.",v.cmd,"(",x,");\n")}return this.compiledGlyphs[f]=new Function("c","size",h.join(""))}return this.compiledGlyphs[f]=function(h,v){for(const x of C)"scale"===x.cmd&&(x.args=[v,-v]),h[x.cmd].apply(h,x.args)}}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.CanvasGraphics=void 0;var _=K(8),L=K(1),te=K(13),Q=K(14),ne=K(3);const C=4096,x=ne.isNodeJS&&typeof Path2D>"u"?-1:1e3,b=16;class m{constructor(g){this.canvasFactory=g,this.cache=Object.create(null)}getCanvas(g,w,j){let R;return void 0!==this.cache[g]?(R=this.cache[g],this.canvasFactory.reset(R,w,j)):(R=this.canvasFactory.create(w,j),this.cache[g]=R),R}delete(g){delete this.cache[g]}clear(){for(const g in this.cache)this.canvasFactory.destroy(this.cache[g]),delete this.cache[g]}}function O(D,g,w,j,R,d,S,N,U,q){const[ee,J,oe,ae,se,he]=(0,_.getCurrentTransform)(D);if(0===J&&0===oe){const ce=Math.round(S*ee+se),Se=Math.round(N*ae+he),Oe=Math.abs(Math.round((S+U)*ee+se)-ce)||1,xe=Math.abs(Math.round((N+q)*ae+he)-Se)||1;return D.setTransform(Math.sign(ee),0,0,Math.sign(ae),ce,Se),D.drawImage(g,w,j,R,d,0,0,Oe,xe),D.setTransform(ee,J,oe,ae,se,he),[Oe,xe]}if(0===ee&&0===ae){const ce=Math.round(N*oe+se),Se=Math.round(S*J+he),Oe=Math.abs(Math.round((N+q)*oe+se)-ce)||1,xe=Math.abs(Math.round((S+U)*J+he)-Se)||1;return D.setTransform(0,Math.sign(J),Math.sign(oe),0,ce,Se),D.drawImage(g,w,j,R,d,0,0,xe,Oe),D.setTransform(ee,J,oe,ae,se,he),[xe,Oe]}return D.drawImage(g,w,j,R,d,S,N,U,q),[Math.hypot(ee,J)*U,Math.hypot(oe,ae)*q]}class T{constructor(g,w){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=L.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=L.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=L.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,g,w])}clone(){const g=Object.create(this);return g.clipBox=this.clipBox.slice(),g}setCurrentPoint(g,w){this.x=g,this.y=w}updatePathMinMax(g,w,j){[w,j]=L.Util.applyTransform([w,j],g),this.minX=Math.min(this.minX,w),this.minY=Math.min(this.minY,j),this.maxX=Math.max(this.maxX,w),this.maxY=Math.max(this.maxY,j)}updateRectMinMax(g,w){const j=L.Util.applyTransform(w,g),R=L.Util.applyTransform(w.slice(2),g);this.minX=Math.min(this.minX,j[0],R[0]),this.minY=Math.min(this.minY,j[1],R[1]),this.maxX=Math.max(this.maxX,j[0],R[0]),this.maxY=Math.max(this.maxY,j[1],R[1])}updateScalingPathMinMax(g,w){L.Util.scaleMinMax(g,w),this.minX=Math.min(this.minX,w[0]),this.maxX=Math.max(this.maxX,w[1]),this.minY=Math.min(this.minY,w[2]),this.maxY=Math.max(this.maxY,w[3])}updateCurvePathMinMax(g,w,j,R,d,S,N,U,q,ee){const J=L.Util.bezierBoundingBox(w,j,R,d,S,N,U,q);if(ee)return ee[0]=Math.min(ee[0],J[0],J[2]),ee[1]=Math.max(ee[1],J[0],J[2]),ee[2]=Math.min(ee[2],J[1],J[3]),void(ee[3]=Math.max(ee[3],J[1],J[3]));this.updateRectMinMax(g,J)}getPathBoundingBox(g=te.PathType.FILL,w=null){const j=[this.minX,this.minY,this.maxX,this.maxY];if(g===te.PathType.STROKE){w||(0,L.unreachable)("Stroke bounding box must include transform.");const R=L.Util.singularValueDecompose2dScale(w),d=R[0]*this.lineWidth/2,S=R[1]*this.lineWidth/2;j[0]-=d,j[1]-=S,j[2]+=d,j[3]+=S}return j}updateClipFromPath(){const g=L.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(g||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(g){this.clipBox=g,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(g=te.PathType.FILL,w=null){return L.Util.intersect(this.clipBox,this.getPathBoundingBox(g,w))}}function A(D,g,w=null){if(typeof ImageData<"u"&&g instanceof ImageData)return void D.putImageData(g,0,0);const j=g.height,R=g.width,d=j%b,S=(j-d)/b,N=0===d?S:S+1,U=D.createImageData(R,b);let ee,q=0;const J=g.data,oe=U.data;let ae,se,he,Ce,ve,Ae,ce,me;if(w)switch(w.length){case 1:ve=w[0],Ae=w[0],ce=w[0],me=w[0];break;case 4:ve=w[0],Ae=w[1],ce=w[2],me=w[3]}if(g.kind===L.ImageKind.GRAYSCALE_1BPP){const Se=J.byteLength,ge=new Uint32Array(oe.buffer,0,oe.byteLength>>2),Oe=ge.length,ke=R+7>>3;let xe=4294967295,Ke=L.FeatureTest.isLittleEndian?4278190080:255;for(me&&255===me[0]&&0===me[255]&&([xe,Ke]=[Ke,xe]),ae=0;ae<N;ae++){for(he=ae<S?b:d,ee=0,se=0;se<he;se++){const et=Se-q;let gt=0;const vt=et>ke?R:8*et-7,rn=-8&vt;let Dt=0,at=0;for(;gt<rn;gt+=8)at=J[q++],ge[ee++]=128&at?xe:Ke,ge[ee++]=64&at?xe:Ke,ge[ee++]=32&at?xe:Ke,ge[ee++]=16&at?xe:Ke,ge[ee++]=8&at?xe:Ke,ge[ee++]=4&at?xe:Ke,ge[ee++]=2&at?xe:Ke,ge[ee++]=1&at?xe:Ke;for(;gt<vt;gt++)0===Dt&&(at=J[q++],Dt=128),ge[ee++]=at&Dt?xe:Ke,Dt>>=1}for(;ee<Oe;)ge[ee++]=0;D.putImageData(U,0,ae*b)}}else if(g.kind===L.ImageKind.RGBA_32BPP){const Se=!!(ve||Ae||ce);for(se=0,Ce=R*b*4,ae=0;ae<S;ae++){if(oe.set(J.subarray(q,q+Ce)),q+=Ce,Se)for(let ge=0;ge<Ce;ge+=4)ve&&(oe[ge+0]=ve[oe[ge+0]]),Ae&&(oe[ge+1]=Ae[oe[ge+1]]),ce&&(oe[ge+2]=ce[oe[ge+2]]);D.putImageData(U,0,se),se+=b}if(ae<N){if(Ce=R*d*4,oe.set(J.subarray(q,q+Ce)),Se)for(let ge=0;ge<Ce;ge+=4)ve&&(oe[ge+0]=ve[oe[ge+0]]),Ae&&(oe[ge+1]=Ae[oe[ge+1]]),ce&&(oe[ge+2]=ce[oe[ge+2]]);D.putImageData(U,0,se)}}else{if(g.kind!==L.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${g.kind}`);{const Se=!!(ve||Ae||ce);for(he=b,Ce=R*he,ae=0;ae<N;ae++){for(ae>=S&&(he=d,Ce=R*he),ee=0,se=Ce;se--;)oe[ee++]=J[q++],oe[ee++]=J[q++],oe[ee++]=J[q++],oe[ee++]=255;if(Se)for(let ge=0;ge<ee;ge+=4)ve&&(oe[ge+0]=ve[oe[ge+0]]),Ae&&(oe[ge+1]=Ae[oe[ge+1]]),ce&&(oe[ge+2]=ce[oe[ge+2]]);D.putImageData(U,0,ae*b)}}}}function c(D,g){if(g.bitmap)return void D.drawImage(g.bitmap,0,0);const w=g.height,j=g.width,R=w%b,d=(w-R)/b,S=0===R?d:d+1,N=D.createImageData(j,b);let U=0;const q=g.data,ee=N.data;for(let J=0;J<S;J++){const oe=J<d?b:R;({srcPos:U}=(0,Q.applyMaskImageData)({src:q,srcPos:U,dest:ee,width:j,height:oe})),D.putImageData(N,0,J*b)}}function p(D,g){const w=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let j=0,R=w.length;j<R;j++){const d=w[j];void 0!==D[d]&&(g[d]=D[d])}void 0!==D.setLineDash&&(g.setLineDash(D.getLineDash()),g.lineDashOffset=D.lineDashOffset)}function M(D,g){D.strokeStyle=D.fillStyle=g||"#000000",D.fillRule="nonzero",D.globalAlpha=1,D.lineWidth=1,D.lineCap="butt",D.lineJoin="miter",D.miterLimit=10,D.globalCompositeOperation="source-over",D.font="10px sans-serif",void 0!==D.setLineDash&&(D.setLineDash([]),D.lineDashOffset=0)}function H(D,g,w,j){const R=D.length;for(let d=3;d<R;d+=4){const S=D[d];if(0===S)D[d-3]=g,D[d-2]=w,D[d-1]=j;else if(S<255){const N=255-S;D[d-3]=D[d-3]*S+g*N>>8,D[d-2]=D[d-2]*S+w*N>>8,D[d-1]=D[d-1]*S+j*N>>8}}}function G(D,g,w){const j=D.length;for(let d=3;d<j;d+=4)g[d]=g[d]*(w?w[D[d]]:D[d])*.00392156862745098|0}function Y(D,g,w){const j=D.length;for(let R=3;R<j;R+=4){const d=77*D[R-3]+152*D[R-2]+28*D[R-1];g[R]=w?g[R]*w[d>>8]>>8:g[R]*d>>16}}function ie(D,g){const w=L.Util.singularValueDecompose2dScale(D);w[0]=Math.fround(w[0]),w[1]=Math.fround(w[1]);const j=Math.fround((globalThis.devicePixelRatio||1)*_.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==g?g:w[0]<=j||w[1]<=j}const k=["butt","round","square"],z=["miter","round","bevel"],X={},V={};class B{constructor(g,w,j,R,d,S,N,U){this.ctx=g,this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=w,this.objs=j,this.canvasFactory=R,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=S,this.cachedCanvases=new m(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=N,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=U?.background||null,this.foregroundColor=U?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(g,w=null){return"string"==typeof g?g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g):w}beginDrawing({transform:g,viewport:w,transparency:j=!1,background:R=null}){const d=this.ctx.canvas.width,S=this.ctx.canvas.height,N=R||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const U=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const q=this.backgroundColor=this.ctx.fillStyle;let ee=!0,J=N;if(this.ctx.fillStyle=N,J=this.ctx.fillStyle,ee="string"==typeof J&&/^#[0-9A-Fa-f]{6}$/.test(J),"#000000"===U&&"#ffffff"===q||U===q||!ee)this.foregroundColor=this.backgroundColor=null;else{const[oe,ae,se]=(0,_.getRGB)(J),he=ve=>(ve/=255)<=.03928?ve/12.92:((ve+.055)/1.055)**2.4,Ce=Math.round(.2126*he(oe)+.7152*he(ae)+.0722*he(se));this.selectColor=(ve,Ae,ce)=>{const me=.2126*he(ve)+.7152*he(Ae)+.0722*he(ce);return Math.round(me)===Ce?q:U}}}if(this.ctx.fillStyle=this.backgroundColor||N,this.ctx.fillRect(0,0,d,S),this.ctx.restore(),j){const U=this.cachedCanvases.getCanvas("transparent",d,S);this.compositeCtx=this.ctx,this.transparentCanvas=U.canvas,this.ctx=U.context,this.ctx.save(),this.ctx.transform(...(0,_.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),M(this.ctx,this.foregroundColor),g&&(this.ctx.transform(...g),this.outputScaleX=g[0],this.outputScaleY=g[0]),this.ctx.transform(...w.transform),this.viewportScale=w.scale,this.baseTransform=(0,_.getCurrentTransform)(this.ctx),this.imageLayer&&((0,_.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(g,w,j,R){const d=g.argsArray,S=g.fnArray;let N=w||0;const U=d.length;if(U===N)return N;const q=U-N>10&&"function"==typeof j,ee=q?Date.now()+15:0;let J=0;const oe=this.commonObjs,ae=this.objs;let se;for(;;){if(void 0!==R&&N===R.nextBreakPoint)return R.breakIt(N,j),N;if(se=S[N],se!==L.OPS.dependency)this[se].apply(this,d[N]);else for(const he of d[N]){const Ce=he.startsWith("g_")?oe:ae;if(!Ce.has(he))return Ce.get(he,j),N}if(N++,N===U)return N;if(q&&++J>10){if(Date.now()>ee)return j(),N;J=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const g of this._cachedBitmapsMap.values()){for(const w of g.values())typeof HTMLCanvasElement<"u"&&w instanceof HTMLCanvasElement&&(w.width=w.height=0);g.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(g,w){const j=g.width,R=g.height;let ee,J,d=Math.max(Math.hypot(w[0],w[1]),1),S=Math.max(Math.hypot(w[2],w[3]),1),N=j,U=R,q="prescale1";for(;d>2&&N>1||S>2&&U>1;){let oe=N,ae=U;d>2&&N>1&&(oe=Math.ceil(N/2),d/=N/oe),S>2&&U>1&&(ae=Math.ceil(U/2),S/=U/ae),ee=this.cachedCanvases.getCanvas(q,oe,ae),J=ee.context,J.clearRect(0,0,oe,ae),J.drawImage(g,0,0,N,U,0,0,oe,ae),g=ee.canvas,N=oe,U=ae,q="prescale1"===q?"prescale2":"prescale1"}return{img:g,paintWidth:N,paintHeight:U}}_createMaskCanvas(g){const w=this.ctx,{width:j,height:R}=g,d=this.current.fillColor,S=this.current.patternFill,N=(0,_.getCurrentTransform)(w);let U,q,ee,J;if((g.bitmap||g.data)&&g.count>1){const Oe=g.bitmap||g.data.buffer,ke=N.slice(0,4);q=JSON.stringify(S?ke:[ke,d]),U=this._cachedBitmapsMap.get(Oe),U||(U=new Map,this._cachedBitmapsMap.set(Oe,U));const xe=U.get(q);if(xe&&!S)return{canvas:xe,offsetX:Math.round(Math.min(N[0],N[2])+N[4]),offsetY:Math.round(Math.min(N[1],N[3])+N[5])};ee=xe}ee||(J=this.cachedCanvases.getCanvas("maskCanvas",j,R),c(J.context,g));let oe=L.Util.transform(N,[1/j,0,0,-1/R,0,0]);oe=L.Util.transform(oe,[1,0,0,1,0,-R]);const ae=L.Util.applyTransform([0,0],oe),se=L.Util.applyTransform([j,R],oe),he=L.Util.normalizeRect([ae[0],ae[1],se[0],se[1]]),Ce=Math.round(he[2]-he[0])||1,ve=Math.round(he[3]-he[1])||1,Ae=this.cachedCanvases.getCanvas("fillCanvas",Ce,ve),ce=Ae.context,me=Math.min(ae[0],se[0]),Se=Math.min(ae[1],se[1]);ce.translate(-me,-Se),ce.transform(...oe),ee||(ee=this._scaleImage(J.canvas,(0,_.getCurrentTransformInverse)(ce)),ee=ee.img,U&&S&&U.set(q,ee)),ce.imageSmoothingEnabled=ie((0,_.getCurrentTransform)(ce),g.interpolate),O(ce,ee,0,0,ee.width,ee.height,0,0,j,R),ce.globalCompositeOperation="source-in";const ge=L.Util.transform((0,_.getCurrentTransformInverse)(ce),[1,0,0,1,-me,-Se]);return ce.fillStyle=S?d.getPattern(w,this,ge,te.PathType.FILL):d,ce.fillRect(0,0,j,R),U&&!S&&(this.cachedCanvases.delete("fillCanvas"),U.set(q,Ae.canvas)),{canvas:Ae.canvas,offsetX:Math.round(me),offsetY:Math.round(Se)}}setLineWidth(g){g!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=g,this.ctx.lineWidth=g}setLineCap(g){this.ctx.lineCap=k[g]}setLineJoin(g){this.ctx.lineJoin=z[g]}setMiterLimit(g){this.ctx.miterLimit=g}setDash(g,w){const j=this.ctx;void 0!==j.setLineDash&&(j.setLineDash(g),j.lineDashOffset=w)}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(let w=0,j=g.length;w<j;w++){const R=g[w],S=R[1];switch(R[0]){case"LW":this.setLineWidth(S);break;case"LC":this.setLineCap(S);break;case"LJ":this.setLineJoin(S);break;case"ML":this.setMiterLimit(S);break;case"D":this.setDash(S[0],S[1]);break;case"RI":this.setRenderingIntent(S);break;case"FL":this.setFlatness(S);break;case"Font":this.setFont(S[0],S[1]);break;case"CA":this.current.strokeAlpha=R[1];break;case"ca":this.current.fillAlpha=R[1],this.ctx.globalAlpha=R[1];break;case"BM":this.ctx.globalCompositeOperation=S;break;case"SMask":this.current.activeSMask=S?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=S}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const g=this.inSMaskMode;this.current.activeSMask&&!g?this.beginSMaskMode():!this.current.activeSMask&&g&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const R=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=R.context;const d=this.ctx;d.setTransform(...(0,_.getCurrentTransform)(this.suspendedCtx)),p(this.suspendedCtx,d),function y(D,g){if(D._removeMirroring)throw new Error("Context is already forwarding operations.");D.__originalSave=D.save,D.__originalRestore=D.restore,D.__originalRotate=D.rotate,D.__originalScale=D.scale,D.__originalTranslate=D.translate,D.__originalTransform=D.transform,D.__originalSetTransform=D.setTransform,D.__originalResetTransform=D.resetTransform,D.__originalClip=D.clip,D.__originalMoveTo=D.moveTo,D.__originalLineTo=D.lineTo,D.__originalBezierCurveTo=D.bezierCurveTo,D.__originalRect=D.rect,D.__originalClosePath=D.closePath,D.__originalBeginPath=D.beginPath,D._removeMirroring=()=>{D.save=D.__originalSave,D.restore=D.__originalRestore,D.rotate=D.__originalRotate,D.scale=D.__originalScale,D.translate=D.__originalTranslate,D.transform=D.__originalTransform,D.setTransform=D.__originalSetTransform,D.resetTransform=D.__originalResetTransform,D.clip=D.__originalClip,D.moveTo=D.__originalMoveTo,D.lineTo=D.__originalLineTo,D.bezierCurveTo=D.__originalBezierCurveTo,D.rect=D.__originalRect,D.closePath=D.__originalClosePath,D.beginPath=D.__originalBeginPath,delete D._removeMirroring},D.save=function(){g.save(),this.__originalSave()},D.restore=function(){g.restore(),this.__originalRestore()},D.translate=function(j,R){g.translate(j,R),this.__originalTranslate(j,R)},D.scale=function(j,R){g.scale(j,R),this.__originalScale(j,R)},D.transform=function(j,R,d,S,N,U){g.transform(j,R,d,S,N,U),this.__originalTransform(j,R,d,S,N,U)},D.setTransform=function(j,R,d,S,N,U){g.setTransform(j,R,d,S,N,U),this.__originalSetTransform(j,R,d,S,N,U)},D.resetTransform=function(){g.resetTransform(),this.__originalResetTransform()},D.rotate=function(j){g.rotate(j),this.__originalRotate(j)},D.clip=function(j){g.clip(j),this.__originalClip(j)},D.moveTo=function(w,j){g.moveTo(w,j),this.__originalMoveTo(w,j)},D.lineTo=function(w,j){g.lineTo(w,j),this.__originalLineTo(w,j)},D.bezierCurveTo=function(w,j,R,d,S,N){g.bezierCurveTo(w,j,R,d,S,N),this.__originalBezierCurveTo(w,j,R,d,S,N)},D.rect=function(w,j,R,d){g.rect(w,j,R,d),this.__originalRect(w,j,R,d)},D.closePath=function(){g.closePath(),this.__originalClosePath()},D.beginPath=function(){g.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(g){this.current.activeSMask&&(g?(g[0]=Math.floor(g[0]),g[1]=Math.floor(g[1]),g[2]=Math.ceil(g[2]),g[3]=Math.ceil(g[3])):g=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function le(D,g,w,j){const R=j[0],d=j[1],S=j[2]-R,N=j[3]-d;0===S||0===N||(function W(D,g,w,j,R,d,S,N,U,q,ee){const J=!!d,oe=J?d[0]:0,ae=J?d[1]:0,se=J?d[2]:0;let he;he="Luminosity"===R?Y:G;const ve=Math.min(j,Math.ceil(1048576/w));for(let Ae=0;Ae<j;Ae+=ve){const ce=Math.min(ve,j-Ae),me=D.getImageData(N-q,Ae+(U-ee),w,ce),Se=g.getImageData(N,Ae+U,w,ce);J&&H(me.data,oe,ae,se),he(me.data,Se.data,S),g.putImageData(Se,N,Ae+U)}}(g.context,w,S,N,g.subtype,g.backdrop,g.transferMap,R,d,g.offsetX,g.offsetY),D.save(),D.globalAlpha=1,D.globalCompositeOperation="source-over",D.setTransform(1,0,0,1,0,0),D.drawImage(w.canvas,0,0),D.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,g),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(p(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const g=this.current;this.stateStack.push(g),this.current=g.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),p(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(g,w,j,R,d,S){this.ctx.transform(g,w,j,R,d,S),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(g,w,j){const R=this.ctx,d=this.current;let U,q,S=d.x,N=d.y;const ee=(0,_.getCurrentTransform)(R),J=0===ee[0]&&0===ee[3]||0===ee[1]&&0===ee[2],oe=J?j.slice(0):null;for(let ae=0,se=0,he=g.length;ae<he;ae++)switch(0|g[ae]){case L.OPS.rectangle:S=w[se++],N=w[se++];const Ce=w[se++],ve=w[se++],Ae=S+Ce,ce=N+ve;R.moveTo(S,N),0===Ce||0===ve?R.lineTo(Ae,ce):(R.lineTo(Ae,N),R.lineTo(Ae,ce),R.lineTo(S,ce)),J||d.updateRectMinMax(ee,[S,N,Ae,ce]),R.closePath();break;case L.OPS.moveTo:S=w[se++],N=w[se++],R.moveTo(S,N),J||d.updatePathMinMax(ee,S,N);break;case L.OPS.lineTo:S=w[se++],N=w[se++],R.lineTo(S,N),J||d.updatePathMinMax(ee,S,N);break;case L.OPS.curveTo:U=S,q=N,S=w[se+4],N=w[se+5],R.bezierCurveTo(w[se],w[se+1],w[se+2],w[se+3],S,N),d.updateCurvePathMinMax(ee,U,q,w[se],w[se+1],w[se+2],w[se+3],S,N,oe),se+=6;break;case L.OPS.curveTo2:U=S,q=N,R.bezierCurveTo(S,N,w[se],w[se+1],w[se+2],w[se+3]),d.updateCurvePathMinMax(ee,U,q,S,N,w[se],w[se+1],w[se+2],w[se+3],oe),S=w[se+2],N=w[se+3],se+=4;break;case L.OPS.curveTo3:U=S,q=N,S=w[se+2],N=w[se+3],R.bezierCurveTo(w[se],w[se+1],S,N,S,N),d.updateCurvePathMinMax(ee,U,q,w[se],w[se+1],S,N,S,N,oe),se+=4;break;case L.OPS.closePath:R.closePath()}J&&d.updateScalingPathMinMax(ee,oe),d.setCurrentPoint(S,N)}closePath(){this.ctx.closePath()}stroke(g){g=!(typeof g<"u")||g;const w=this.ctx,j=this.current.strokeColor;w.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof j&&j?.getPattern?(w.save(),w.strokeStyle=j.getPattern(w,this,(0,_.getCurrentTransformInverse)(w),te.PathType.STROKE),this.rescaleAndStroke(!1),w.restore()):this.rescaleAndStroke(!0)),g&&this.consumePath(this.current.getClippedPathBoundingBox()),w.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(g){g=!(typeof g<"u")||g;const w=this.ctx,j=this.current.fillColor;let d=!1;this.current.patternFill&&(w.save(),w.fillStyle=j.getPattern(w,this,(0,_.getCurrentTransformInverse)(w),te.PathType.FILL),d=!0);const S=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==S&&(this.pendingEOFill?(w.fill("evenodd"),this.pendingEOFill=!1):w.fill()),d&&w.restore(),g&&this.consumePath(S)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=X}eoClip(){this.pendingClip=V}beginText(){this.current.textMatrix=L.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const g=this.pendingTextPaths,w=this.ctx;if(void 0!==g){w.save(),w.beginPath();for(const j of g)w.setTransform(...j.transform),w.translate(j.x,j.y),j.addToPath(w,j.fontSize);w.restore(),w.clip(),w.beginPath(),delete this.pendingTextPaths}else w.beginPath()}setCharSpacing(g){this.current.charSpacing=g}setWordSpacing(g){this.current.wordSpacing=g}setHScale(g){this.current.textHScale=g/100}setLeading(g){this.current.leading=-g}setFont(g,w){const j=this.commonObjs.get(g),R=this.current;if(!j)throw new Error(`Can't find font for ${g}`);if(R.fontMatrix=j.fontMatrix||L.FONT_IDENTITY_MATRIX,(0===R.fontMatrix[0]||0===R.fontMatrix[3])&&(0,L.warn)("Invalid font matrix for font "+g),w<0?(w=-w,R.fontDirection=-1):R.fontDirection=1,this.current.font=j,this.current.fontSize=w,j.isType3Font)return;let S="normal";j.black?S="900":j.bold&&(S="bold");const N=j.italic?"italic":"normal",U=`"${j.loadedName||"sans-serif"}", ${j.fallbackName}`;let q=w;w<16?q=16:w>100&&(q=100),this.current.fontSizeScale=w/q,this.ctx.font=`${N} ${S} ${q}px ${U}`}setTextRenderingMode(g){this.current.textRenderingMode=g}setTextRise(g){this.current.textRise=g}moveText(g,w){this.current.x=this.current.lineX+=g,this.current.y=this.current.lineY+=w}setLeadingMoveText(g,w){this.setLeading(-w),this.moveText(g,w)}setTextMatrix(g,w,j,R,d,S){this.current.textMatrix=[g,w,j,R,d,S],this.current.textMatrixScale=Math.hypot(g,w),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(g,w,j,R){const d=this.ctx,S=this.current,N=S.font,U=S.textRenderingMode,q=S.fontSize/S.fontSizeScale,ee=U&L.TextRenderingMode.FILL_STROKE_MASK,J=!!(U&L.TextRenderingMode.ADD_TO_PATH_FLAG),oe=S.patternFill&&!N.missingFile;let ae;(N.disableFontFace||J||oe)&&(ae=N.getPathGenerator(this.commonObjs,g)),N.disableFontFace||oe?(d.save(),d.translate(w,j),d.beginPath(),ae(d,q),R&&d.setTransform(...R),(ee===L.TextRenderingMode.FILL||ee===L.TextRenderingMode.FILL_STROKE)&&d.fill(),(ee===L.TextRenderingMode.STROKE||ee===L.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((ee===L.TextRenderingMode.FILL||ee===L.TextRenderingMode.FILL_STROKE)&&d.fillText(g,w,j),(ee===L.TextRenderingMode.STROKE||ee===L.TextRenderingMode.FILL_STROKE)&&d.strokeText(g,w,j)),J&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,_.getCurrentTransform)(d),x:w,y:j,fontSize:q,addToPath:ae})}get isFontSubpixelAAEnabled(){const{context:g}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);g.scale(1.5,1),g.fillText("I",0,10);const w=g.getImageData(0,0,10,10).data;let j=!1;for(let R=3;R<w.length;R+=4)if(w[R]>0&&w[R]<255){j=!0;break}return(0,L.shadow)(this,"isFontSubpixelAAEnabled",j)}showText(g){const w=this.current,j=w.font;if(j.isType3Font)return this.showType3Text(g);const R=w.fontSize;if(0===R)return;const d=this.ctx,S=w.fontSizeScale,N=w.charSpacing,U=w.wordSpacing,q=w.fontDirection,ee=w.textHScale*q,J=g.length,oe=j.vertical,ae=oe?1:-1,se=j.defaultVMetrics,he=R*w.fontMatrix[0],Ce=w.textRenderingMode===L.TextRenderingMode.FILL&&!j.disableFontFace&&!w.patternFill;let ve;if(d.save(),d.transform(...w.textMatrix),d.translate(w.x,w.y+w.textRise),d.scale(ee,q>0?-1:1),w.patternFill){d.save();const ge=w.fillColor.getPattern(d,this,(0,_.getCurrentTransformInverse)(d),te.PathType.FILL);ve=(0,_.getCurrentTransform)(d),d.restore(),d.fillStyle=ge}let Ae=w.lineWidth;const ce=w.textMatrixScale;if(0===ce||0===Ae){const ge=w.textRenderingMode&L.TextRenderingMode.FILL_STROKE_MASK;(ge===L.TextRenderingMode.STROKE||ge===L.TextRenderingMode.FILL_STROKE)&&(Ae=this.getSinglePixelWidth())}else Ae/=ce;1!==S&&(d.scale(S,S),Ae/=S),d.lineWidth=Ae;let Se,me=0;for(Se=0;Se<J;++Se){const ge=g[Se];if("number"==typeof ge){me+=ae*ge*R/1e3;continue}let Oe=!1;const ke=(ge.isSpace?U:0)+N,xe=ge.fontChar,Ke=ge.accent;let et,gt,rn,vt=ge.width;if(oe){const Dt=ge.vmetric||se,at=-(ge.vmetric?Dt[1]:.5*vt)*he;vt=Dt?-Dt[0]:vt,et=at/S,gt=(me+Dt[2]*he)/S}else et=me/S,gt=0;if(j.remeasure&&vt>0){const Dt=1e3*d.measureText(xe).width/R*S;if(vt<Dt&&this.isFontSubpixelAAEnabled){const at=vt/Dt;Oe=!0,d.save(),d.scale(at,1),et/=at}else vt!==Dt&&(et+=(vt-Dt)/2e3*R/S)}this.contentVisible&&(ge.isInFont||j.missingFile)&&(Ce&&!Ke?d.fillText(xe,et,gt):(this.paintChar(xe,et,gt,ve),Ke&&this.paintChar(Ke.fontChar,et+R*Ke.offset.x/S,gt-R*Ke.offset.y/S,ve))),rn=oe?vt*he-ke*q:vt*he+ke*q,me+=rn,Oe&&d.restore()}oe?w.y-=me:w.x+=me*ee,d.restore(),this.compose()}showType3Text(g){const w=this.ctx,j=this.current,R=j.font,d=j.fontSize,S=j.fontDirection,N=R.vertical?1:-1,U=j.charSpacing,q=j.wordSpacing,ee=j.textHScale*S,J=j.fontMatrix||L.FONT_IDENTITY_MATRIX,oe=g.length;let se,he,Ce,ve;if(j.textRenderingMode!==L.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,w.save(),w.transform(...j.textMatrix),w.translate(j.x,j.y),w.scale(ee,S),se=0;se<oe;++se){if(he=g[se],"number"==typeof he){ve=N*he*d/1e3,this.ctx.translate(ve,0),j.x+=ve*ee;continue}const Ae=(he.isSpace?q:0)+U,ce=R.charProcOperatorList[he.operatorListId];ce?(this.contentVisible&&(this.processingType3=he,this.save(),w.scale(d,d),w.transform(...J),this.executeOperatorList(ce),this.restore()),Ce=L.Util.applyTransform([he.width,0],J)[0]*d+Ae,w.translate(Ce,0),j.x+=Ce*ee):(0,L.warn)(`Type3 character "${he.operatorListId}" is not available.`)}w.restore(),this.processingType3=null}}setCharWidth(g,w){}setCharWidthAndBounds(g,w,j,R,d,S){this.ctx.rect(j,R,d-j,S-R),this.ctx.clip(),this.endPath()}getColorN_Pattern(g){let w;if("TilingPattern"===g[0]){const j=g[1],R=this.baseTransform||(0,_.getCurrentTransform)(this.ctx);w=new te.TilingPattern(g,j,this.ctx,{createCanvasGraphics:S=>new B(S,this.commonObjs,this.objs,this.canvasFactory)},R)}else w=this._getPattern(g[1],g[2]);return w}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(g,w,j){const R=this.selectColor?.(g,w,j)||L.Util.makeHexColor(g,w,j);this.ctx.strokeStyle=R,this.current.strokeColor=R}setFillRGBColor(g,w,j){const R=this.selectColor?.(g,w,j)||L.Util.makeHexColor(g,w,j);this.ctx.fillStyle=R,this.current.fillColor=R,this.current.patternFill=!1}_getPattern(g,w=null){let j;return this.cachedPatterns.has(g)?j=this.cachedPatterns.get(g):(j=(0,te.getShadingPattern)(this.objs.get(g)),this.cachedPatterns.set(g,j)),w&&(j.matrix=w),j}shadingFill(g){if(!this.contentVisible)return;const w=this.ctx;this.save();const j=this._getPattern(g);w.fillStyle=j.getPattern(w,this,(0,_.getCurrentTransformInverse)(w),te.PathType.SHADING);const R=(0,_.getCurrentTransformInverse)(w);if(R){const d=w.canvas,S=d.width,N=d.height,U=L.Util.applyTransform([0,0],R),q=L.Util.applyTransform([0,N],R),ee=L.Util.applyTransform([S,0],R),J=L.Util.applyTransform([S,N],R),oe=Math.min(U[0],q[0],ee[0],J[0]),ae=Math.min(U[1],q[1],ee[1],J[1]),se=Math.max(U[0],q[0],ee[0],J[0]),he=Math.max(U[1],q[1],ee[1],J[1]);this.ctx.fillRect(oe,ae,se-oe,he-ae)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,L.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,L.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(g,w){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(g)&&6===g.length&&this.transform(...g),this.baseTransform=(0,_.getCurrentTransform)(this.ctx),w)&&(this.ctx.rect(w[0],w[1],w[2]-w[0],w[3]-w[1]),this.current.updateRectMinMax((0,_.getCurrentTransform)(this.ctx),w),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(g){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const w=this.ctx;g.isolated||(0,L.info)("TODO: Support non-isolated groups."),g.knockout&&(0,L.warn)("Knockout groups not supported.");const j=(0,_.getCurrentTransform)(w);if(g.matrix&&w.transform(...g.matrix),!g.bbox)throw new Error("Bounding box is required.");let R=L.Util.getAxialAlignedBoundingBox(g.bbox,(0,_.getCurrentTransform)(w));R=L.Util.intersect(R,[0,0,w.canvas.width,w.canvas.height])||[0,0,0,0];const S=Math.floor(R[0]),N=Math.floor(R[1]);let U=Math.max(Math.ceil(R[2])-S,1),q=Math.max(Math.ceil(R[3])-N,1),ee=1,J=1;U>C&&(ee=U/C,U=C),q>C&&(J=q/C,q=C),this.current.startNewPathAndClipBox([0,0,U,q]);let oe="groupAt"+this.groupLevel;g.smask&&(oe+="_smask_"+this.smaskCounter++%2);const ae=this.cachedCanvases.getCanvas(oe,U,q),se=ae.context;se.scale(1/ee,1/J),se.translate(-S,-N),se.transform(...j),g.smask?this.smaskStack.push({canvas:ae.canvas,context:se,offsetX:S,offsetY:N,scaleX:ee,scaleY:J,subtype:g.smask.subtype,backdrop:g.smask.backdrop,transferMap:g.smask.transferMap||null,startTransformInverse:null}):(w.setTransform(1,0,0,1,0,0),w.translate(S,N),w.scale(ee,J),w.save()),p(w,se),this.ctx=se,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(w),this.groupLevel++}endGroup(g){if(!this.contentVisible)return;this.groupLevel--;const w=this.ctx,j=this.groupStack.pop();if(this.ctx=j,this.ctx.imageSmoothingEnabled=!1,g.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const R=(0,_.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...R);const d=L.Util.getAxialAlignedBoundingBox([0,0,w.canvas.width,w.canvas.height],R);this.ctx.drawImage(w.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotation(g,w,j,R,d){if(this.#e(),M(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(w)&&4===w.length){const S=w[2]-w[0],N=w[3]-w[1];if(d&&this.annotationCanvasMap){(j=j.slice())[4]-=w[0],j[5]-=w[1],(w=w.slice())[0]=w[1]=0,w[2]=S,w[3]=N;const[U,q]=L.Util.singularValueDecompose2dScale((0,_.getCurrentTransform)(this.ctx)),{viewportScale:ee}=this,J=Math.ceil(S*this.outputScaleX*ee),oe=Math.ceil(N*this.outputScaleY*ee);this.annotationCanvas=this.canvasFactory.create(J,oe);const{canvas:ae,context:se}=this.annotationCanvas;this.annotationCanvasMap.set(g,ae),this.annotationCanvas.savedCtx=this.ctx,this.ctx=se,this.ctx.setTransform(U,0,0,-q,0,N*q),M(this.ctx,this.foregroundColor)}else M(this.ctx,this.foregroundColor),this.ctx.rect(w[0],w[1],S,N),this.ctx.clip(),this.endPath()}this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...j),this.transform(...R)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(g){if(!this.contentVisible)return;const w=g.count;(g=this.getObject(g.data,g)).count=w;const j=this.ctx,R=this.processingType3;if(R&&(void 0===R.compiled&&(R.compiled=function I(D){const{width:g,height:w}=D;if(g>x||w>x)return null;const R=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=g+1;let N,U,q,S=new Uint8Array(d*(w+1));const ee=g+7&-8;let J=new Uint8Array(ee*w),oe=0;for(const ve of D.data){let Ae=128;for(;Ae>0;)J[oe++]=ve&Ae?0:255,Ae>>=1}let ae=0;for(oe=0,0!==J[oe]&&(S[0]=1,++ae),U=1;U<g;U++)J[oe]!==J[oe+1]&&(S[U]=J[oe]?2:1,++ae),oe++;for(0!==J[oe]&&(S[U]=2,++ae),N=1;N<w;N++){oe=N*ee,q=N*d,J[oe-ee]!==J[oe]&&(S[q]=J[oe]?1:8,++ae);let ve=(J[oe]?4:0)+(J[oe-ee]?8:0);for(U=1;U<g;U++)ve=(ve>>2)+(J[oe+1]?4:0)+(J[oe-ee+1]?8:0),R[ve]&&(S[q+U]=R[ve],++ae),oe++;if(J[oe-ee]!==J[oe]&&(S[q+U]=J[oe]?2:4,++ae),ae>1e3)return null}for(oe=ee*(w-1),q=N*d,0!==J[oe]&&(S[q]=8,++ae),U=1;U<g;U++)J[oe]!==J[oe+1]&&(S[q+U]=J[oe]?4:8,++ae),oe++;if(0!==J[oe]&&(S[q+U]=4,++ae),ae>1e3)return null;const se=new Int32Array([0,d,-1,0,-d,0,0,0,1]),he=new Path2D;for(N=0;ae&&N<=w;N++){let ve=N*d;const Ae=ve+g;for(;ve<Ae&&!S[ve];)ve++;if(ve===Ae)continue;he.moveTo(ve%d,N);const ce=ve;let me=S[ve];do{const Se=se[me];do{ve+=Se}while(!S[ve]);const ge=S[ve];5!==ge&&10!==ge?(me=ge,S[ve]=0):(me=ge&51*me>>4,S[ve]&=me>>2|me<<2),he.lineTo(ve%d,ve/d|0),S[ve]||--ae}while(ce!==ve);--N}return J=null,S=null,function(ve){ve.save(),ve.scale(1/g,-1/w),ve.translate(0,-w),ve.fill(he),ve.beginPath(),ve.restore()}}(g)),R.compiled))return void R.compiled(j);const d=this._createMaskCanvas(g),S=d.canvas;j.save(),j.setTransform(1,0,0,1,0,0),j.drawImage(S,d.offsetX,d.offsetY),j.restore(),this.compose()}paintImageMaskXObjectRepeat(g,w,j=0,R=0,d,S){if(!this.contentVisible)return;g=this.getObject(g.data,g);const N=this.ctx;N.save();const U=(0,_.getCurrentTransform)(N);N.transform(w,j,R,d,0,0);const q=this._createMaskCanvas(g);N.setTransform(1,0,0,1,0,0);for(let ee=0,J=S.length;ee<J;ee+=2){const oe=L.Util.transform(U,[w,j,R,d,S[ee],S[ee+1]]),[ae,se]=L.Util.applyTransform([0,0],oe);N.drawImage(q.canvas,ae,se)}N.restore(),this.compose()}paintImageMaskXObjectGroup(g){if(!this.contentVisible)return;const w=this.ctx,j=this.current.fillColor,R=this.current.patternFill;for(const d of g){const{data:S,width:N,height:U,transform:q}=d,ee=this.cachedCanvases.getCanvas("maskCanvas",N,U),J=ee.context;J.save(),c(J,this.getObject(S,d)),J.globalCompositeOperation="source-in",J.fillStyle=R?j.getPattern(J,this,(0,_.getCurrentTransformInverse)(w),te.PathType.FILL):j,J.fillRect(0,0,N,U),J.restore(),w.save(),w.transform(...q),w.scale(1,-1),O(w,ee.canvas,0,0,N,U,0,-1,1,1),w.restore()}this.compose()}paintImageXObject(g){if(!this.contentVisible)return;const w=this.getObject(g);w?this.paintInlineImageXObject(w):(0,L.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(g,w,j,R){if(!this.contentVisible)return;const d=this.getObject(g);if(!d)return void(0,L.warn)("Dependent image isn't ready yet");const S=d.width,N=d.height,U=[];for(let q=0,ee=R.length;q<ee;q+=2)U.push({transform:[w,0,0,j,R[q],R[q+1]],x:0,y:0,w:S,h:N});this.paintInlineImageXObjectGroup(d,U)}paintInlineImageXObject(g){if(!this.contentVisible)return;const w=g.width,j=g.height,R=this.ctx;let d;if(this.save(),R.scale(1/w,-1/j),"function"==typeof HTMLElement&&g instanceof HTMLElement||!g.data)d=g;else{const q=this.cachedCanvases.getCanvas("inlineImage",w,j);A(q.context,g,this.current.transferMaps),d=q.canvas}const S=this._scaleImage(d,(0,_.getCurrentTransformInverse)(R));R.imageSmoothingEnabled=ie((0,_.getCurrentTransform)(R),g.interpolate);const[N,U]=O(R,S.img,0,0,S.paintWidth,S.paintHeight,0,-j,w,j);if(this.imageLayer){const[q,ee]=L.Util.applyTransform([0,-j],(0,_.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:g,left:q,top:ee,width:N,height:U})}this.compose(),this.restore()}paintInlineImageXObjectGroup(g,w){if(!this.contentVisible)return;const j=this.ctx,R=g.width,d=g.height,S=this.cachedCanvases.getCanvas("inlineImage",R,d);A(S.context,g,this.current.transferMaps);for(const U of w){if(j.save(),j.transform(...U.transform),j.scale(1,-1),O(j,S.canvas,U.x,U.y,U.w,U.h,0,-1,1,1),this.imageLayer){const[q,ee]=L.Util.applyTransform([U.x,U.y],(0,_.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:g,left:q,top:ee,width:R,height:d})}j.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(g){}markPointProps(g,w){}beginMarkedContent(g){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(g,w){this.markedContentStack.push("OC"===g?{visible:this.optionalContentConfig.isVisible(w)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(g){const w=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(g);const j=this.ctx;this.pendingClip&&(w||(this.pendingClip===V?j.clip("evenodd"):j.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),j.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const g=(0,_.getCurrentTransform)(this.ctx);if(0===g[1]&&0===g[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(g[0]),Math.abs(g[3]));else{const w=Math.abs(g[0]*g[3]-g[2]*g[1]),j=Math.hypot(g[0],g[2]),R=Math.hypot(g[1],g[3]);this._cachedGetSinglePixelWidth=Math.max(j,R)/w}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:g}=this.current,w=(0,_.getCurrentTransform)(this.ctx);let j,R;if(0===w[1]&&0===w[2]){const d=Math.abs(w[0]),S=Math.abs(w[3]);if(0===g)j=1/d,R=1/S;else{const N=d*g,U=S*g;j=N<1?1/N:1,R=U<1?1/U:1}}else{const d=Math.abs(w[0]*w[3]-w[2]*w[1]),S=Math.hypot(w[0],w[1]),N=Math.hypot(w[2],w[3]);if(0===g)j=N/d,R=S/d;else{const U=g*d;j=N>U?N/U:1,R=S>U?S/U:1}}this._cachedScaleForStroking=[j,R]}return this._cachedScaleForStroking}rescaleAndStroke(g){const{ctx:w}=this,{lineWidth:j}=this.current,[R,d]=this.getScaleForStroking();if(w.lineWidth=j||1,1===R&&1===d)return void w.stroke();let S,N,U;g&&(S=(0,_.getCurrentTransform)(w),N=w.getLineDash().slice(),U=w.lineDashOffset),w.scale(R,d);const q=Math.max(R,d);w.setLineDash(w.getLineDash().map(ee=>ee/q)),w.lineDashOffset/=q,w.stroke(),g&&(w.setTransform(...S),w.setLineDash(N),w.lineDashOffset=U)}isContentVisible(){for(let g=this.markedContentStack.length-1;g>=0;g--)if(!this.markedContentStack[g].visible)return!1;return!0}}E.CanvasGraphics=B;for(const D in L.OPS)void 0!==B.prototype[D]&&(B.prototype[L.OPS[D]]=B.prototype[D])},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.TilingPattern=E.PathType=void 0,E.getShadingPattern=function b(O){switch(O[0]){case"RadialAxial":return new f(O);case"Mesh":return new v(O);case"Dummy":return new x}throw new Error(`Unknown IR type: ${O[0]}`)};var _=K(1),L=K(8),te=K(3);const Q={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ne(O,I){if(!I||te.isNodeJS)return;const T=I[2]-I[0],A=I[3]-I[1],c=new Path2D;c.rect(I[0],I[1],T,A),O.clip(c)}E.PathType=Q;class F{constructor(){this.constructor===F&&(0,_.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_.unreachable)("Abstract method `getPattern` called.")}}class f extends F{constructor(I){super(),this._type=I[1],this._bbox=I[2],this._colorStops=I[3],this._p0=I[4],this._p1=I[5],this._r0=I[6],this._r1=I[7],this.matrix=null}_createGradient(I){let T;"axial"===this._type?T=I.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(T=I.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const A of this._colorStops)T.addColorStop(A[0],A[1]);return T}getPattern(I,T,A,c){let p;if(c===Q.STROKE||c===Q.FILL){const M=T.current.getClippedPathBoundingBox(c,(0,L.getCurrentTransform)(I))||[0,0,0,0],H=Math.ceil(M[2]-M[0])||1,G=Math.ceil(M[3]-M[1])||1,Y=T.cachedCanvases.getCanvas("pattern",H,G,!0),W=Y.context;W.clearRect(0,0,W.canvas.width,W.canvas.height),W.beginPath(),W.rect(0,0,W.canvas.width,W.canvas.height),W.translate(-M[0],-M[1]),A=_.Util.transform(A,[1,0,0,1,M[0],M[1]]),W.transform(...T.baseTransform),this.matrix&&W.transform(...this.matrix),ne(W,this._bbox),W.fillStyle=this._createGradient(W),W.fill(),p=I.createPattern(Y.canvas,"no-repeat");const le=new DOMMatrix(A);try{p.setTransform(le)}catch(ie){(0,_.warn)(`RadialAxialShadingPattern.getPattern: "${ie?.message}".`)}}else ne(I,this._bbox),p=this._createGradient(I);return p}}function C(O,I,T,A,c,p,M,H){const G=I.coords,Y=I.colors,W=O.data,le=4*O.width;let ie;G[T+1]>G[A+1]&&(ie=T,T=A,A=ie,ie=p,p=M,M=ie),G[A+1]>G[c+1]&&(ie=A,A=c,c=ie,ie=M,M=H,H=ie),G[T+1]>G[A+1]&&(ie=T,T=A,A=ie,ie=p,p=M,M=ie);const k=(G[T]+I.offsetX)*I.scaleX,z=(G[T+1]+I.offsetY)*I.scaleY,X=(G[A]+I.offsetX)*I.scaleX,V=(G[A+1]+I.offsetY)*I.scaleY,B=(G[c]+I.offsetX)*I.scaleX,D=(G[c+1]+I.offsetY)*I.scaleY;if(z>=D)return;const g=Y[p],w=Y[p+1],j=Y[p+2],R=Y[M],d=Y[M+1],S=Y[M+2],N=Y[H],U=Y[H+1],q=Y[H+2],ee=Math.round(z),J=Math.round(D);let oe,ae,se,he,Ce,ve,Ae,ce;for(let me=ee;me<=J;me++){if(me<V){let xe;xe=me<z?0:(z-me)/(z-V),oe=k-(k-X)*xe,ae=g-(g-R)*xe,se=w-(w-d)*xe,he=j-(j-S)*xe}else{let xe;xe=me>D?1:V===D?0:(V-me)/(V-D),oe=X-(X-B)*xe,ae=R-(R-N)*xe,se=d-(d-U)*xe,he=S-(S-q)*xe}let Se;Se=me<z?0:me>D?1:(z-me)/(z-D),Ce=k-(k-B)*Se,ve=g-(g-N)*Se,Ae=w-(w-U)*Se,ce=j-(j-q)*Se;const ge=Math.round(Math.min(oe,Ce)),Oe=Math.round(Math.max(oe,Ce));let ke=le*me+4*ge;for(let xe=ge;xe<=Oe;xe++)Se=(oe-xe)/(oe-Ce),Se<0?Se=0:Se>1&&(Se=1),W[ke++]=ae-(ae-ve)*Se|0,W[ke++]=se-(se-Ae)*Se|0,W[ke++]=he-(he-ce)*Se|0,W[ke++]=255}}function h(O,I,T){const A=I.coords,c=I.colors;let p,M;switch(I.type){case"lattice":const H=I.verticesPerRow,G=Math.floor(A.length/H)-1,Y=H-1;for(p=0;p<G;p++){let W=p*H;for(let le=0;le<Y;le++,W++)C(O,T,A[W],A[W+1],A[W+H],c[W],c[W+1],c[W+H]),C(O,T,A[W+H+1],A[W+1],A[W+H],c[W+H+1],c[W+1],c[W+H])}break;case"triangles":for(p=0,M=A.length;p<M;p+=3)C(O,T,A[p],A[p+1],A[p+2],c[p],c[p+1],c[p+2]);break;default:throw new Error("illegal figure")}}class v extends F{constructor(I){super(),this._coords=I[2],this._colors=I[3],this._figures=I[4],this._bounds=I[5],this._bbox=I[7],this._background=I[8],this.matrix=null}_createMeshCanvas(I,T,A){const H=Math.floor(this._bounds[0]),G=Math.floor(this._bounds[1]),Y=Math.ceil(this._bounds[2])-H,W=Math.ceil(this._bounds[3])-G,le=Math.min(Math.ceil(Math.abs(Y*I[0]*1.1)),3e3),ie=Math.min(Math.ceil(Math.abs(W*I[1]*1.1)),3e3),k=Y/le,z=W/ie,X={coords:this._coords,colors:this._colors,offsetX:-H,offsetY:-G,scaleX:1/k,scaleY:1/z},D=A.getCanvas("mesh",le+4,ie+4,!1),g=D.context,w=g.createImageData(le,ie);if(T){const R=w.data;for(let d=0,S=R.length;d<S;d+=4)R[d]=T[0],R[d+1]=T[1],R[d+2]=T[2],R[d+3]=255}for(const R of this._figures)h(w,R,X);return g.putImageData(w,2,2),{canvas:D.canvas,offsetX:H-2*k,offsetY:G-2*z,scaleX:k,scaleY:z}}getPattern(I,T,A,c){let p;if(ne(I,this._bbox),c===Q.SHADING)p=_.Util.singularValueDecompose2dScale((0,L.getCurrentTransform)(I));else if(p=_.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const H=_.Util.singularValueDecompose2dScale(this.matrix);p=[p[0]*H[0],p[1]*H[1]]}const M=this._createMeshCanvas(p,c===Q.SHADING?null:this._background,T.cachedCanvases);return c!==Q.SHADING&&(I.setTransform(...T.baseTransform),this.matrix&&I.transform(...this.matrix)),I.translate(M.offsetX,M.offsetY),I.scale(M.scaleX,M.scaleY),I.createPattern(M.canvas,"no-repeat")}}class x extends F{getPattern(){return"hotpink"}}class m{static get MAX_PATTERN_SIZE(){return(0,_.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(I,T,A,c,p){this.operatorList=I[2],this.matrix=I[3]||[1,0,0,1,0,0],this.bbox=I[4],this.xstep=I[5],this.ystep=I[6],this.paintType=I[7],this.tilingType=I[8],this.color=T,this.ctx=A,this.canvasGraphicsFactory=c,this.baseTransform=p}createPatternCanvas(I){const T=this.operatorList,A=this.bbox,c=this.xstep,p=this.ystep,M=this.paintType,G=this.color,Y=this.canvasGraphicsFactory;(0,_.info)("TilingType: "+this.tilingType);const W=A[0],le=A[1],ie=A[2],k=A[3],z=_.Util.singularValueDecompose2dScale(this.matrix),X=_.Util.singularValueDecompose2dScale(this.baseTransform),V=[z[0]*X[0],z[1]*X[1]],B=this.getSizeAndScale(c,this.ctx.canvas.width,V[0]),D=this.getSizeAndScale(p,this.ctx.canvas.height,V[1]),g=I.cachedCanvases.getCanvas("pattern",B.size,D.size,!0),w=g.context,j=Y.createCanvasGraphics(w);j.groupLevel=I.groupLevel,this.setFillAndStrokeStyleToContext(j,M,G);let R=W,d=le,S=ie,N=k;return W<0&&(R=0,S+=Math.abs(W)),le<0&&(d=0,N+=Math.abs(le)),w.translate(-B.scale*R,-D.scale*d),j.transform(B.scale,0,0,D.scale,0,0),w.save(),this.clipBbox(j,R,d,S,N),j.baseTransform=(0,L.getCurrentTransform)(j.ctx),j.executeOperatorList(T),j.endDrawing(),{canvas:g.canvas,scaleX:B.scale,scaleY:D.scale,offsetX:R,offsetY:d}}getSizeAndScale(I,T,A){I=Math.abs(I);const c=Math.max(m.MAX_PATTERN_SIZE,T);let p=Math.ceil(I*A);return p>=c?p=c:A=p/I,{scale:A,size:p}}clipBbox(I,T,A,c,p){I.ctx.rect(T,A,c-T,p-A),I.current.updateRectMinMax((0,L.getCurrentTransform)(I.ctx),[T,A,c,p]),I.clip(),I.endPath()}setFillAndStrokeStyleToContext(I,T,A){const c=I.ctx,p=I.current;switch(T){case 1:const M=this.ctx;c.fillStyle=M.fillStyle,c.strokeStyle=M.strokeStyle,p.fillColor=M.fillStyle,p.strokeColor=M.strokeStyle;break;case 2:const H=_.Util.makeHexColor(A[0],A[1],A[2]);c.fillStyle=H,c.strokeStyle=H,p.fillColor=H,p.strokeColor=H;break;default:throw new _.FormatError(`Unsupported paint type: ${T}`)}}getPattern(I,T,A,c){let p=A;c!==Q.SHADING&&(p=_.Util.transform(p,T.baseTransform),this.matrix&&(p=_.Util.transform(p,this.matrix)));const M=this.createPatternCanvas(T);let H=new DOMMatrix(p);H=H.translate(M.offsetX,M.offsetY),H=H.scale(1/M.scaleX,1/M.scaleY);const G=I.createPattern(M.canvas,"repeat");try{G.setTransform(H)}catch(Y){(0,_.warn)(`TilingPattern.getPattern: "${Y?.message}".`)}return G}}E.TilingPattern=m},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.applyMaskImageData=function L({src:te,srcPos:Q=0,dest:ne,destPos:F=0,width:f,height:C,inverseDecode:h=!1}){const v=_.FeatureTest.isLittleEndian?4278190080:255,[x,b]=h?[0,v]:[v,0],y=f>>3,m=7&f,O=te.length;ne=new Uint32Array(ne.buffer);for(let I=0;I<C;I++){for(const A=Q+y;Q<A;Q++){const c=Q<O?te[Q]:255;ne[F++]=128&c?b:x,ne[F++]=64&c?b:x,ne[F++]=32&c?b:x,ne[F++]=16&c?b:x,ne[F++]=8&c?b:x,ne[F++]=4&c?b:x,ne[F++]=2&c?b:x,ne[F++]=1&c?b:x}if(0===m)continue;const T=Q<O?te[Q++]:255;for(let A=0;A<m;A++)ne[F++]=T&1<<7-A?b:x}return{srcPos:Q,destPos:F}};var _=K(1)},(pe,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.GlobalWorkerOptions=void 0;const K=Object.create(null);E.GlobalWorkerOptions=K,K.workerPort=void 0===K.workerPort?null:K.workerPort,K.workerSrc=void 0===K.workerSrc?"":K.workerSrc},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.MessageHandler=void 0;var _=K(1);function Q(F){switch(F instanceof Error||"object"==typeof F&&null!==F||(0,_.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),F.name){case"AbortException":return new _.AbortException(F.message);case"MissingPDFException":return new _.MissingPDFException(F.message);case"PasswordException":return new _.PasswordException(F.message,F.code);case"UnexpectedResponseException":return new _.UnexpectedResponseException(F.message,F.status);case"UnknownErrorException":return new _.UnknownErrorException(F.message,F.details);default:return new _.UnknownErrorException(F.message,F.toString())}}E.MessageHandler=class ne{constructor(f,C,h){this.sourceName=f,this.targetName=C,this.comObj=h,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=v=>{const x=v.data;if(x.targetName!==this.sourceName)return;if(x.stream)return void this._processStreamMessage(x);if(x.callback){const y=x.callbackId,m=this.callbackCapabilities[y];if(!m)throw new Error(`Cannot resolve callback ${y}`);if(delete this.callbackCapabilities[y],1===x.callback)m.resolve(x.data);else{if(2!==x.callback)throw new Error("Unexpected callback case");m.reject(Q(x.reason))}return}const b=this.actionHandler[x.action];if(!b)throw new Error(`Unknown action from worker: ${x.action}`);if(x.callbackId){const y=this.sourceName,m=x.sourceName;new Promise(function(O){O(b(x.data))}).then(function(O){h.postMessage({sourceName:y,targetName:m,callback:1,callbackId:x.callbackId,data:O})},function(O){h.postMessage({sourceName:y,targetName:m,callback:2,callbackId:x.callbackId,reason:Q(O)})})}else x.streamId?this._createStreamSink(x):b(x.data)},h.addEventListener("message",this._onComObjOnMessage)}on(f,C){const h=this.actionHandler;if(h[f])throw new Error(`There is already an actionName called "${f}"`);h[f]=C}send(f,C,h){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:C},h)}sendWithPromise(f,C,h){const v=this.callbackId++,x=(0,_.createPromiseCapability)();this.callbackCapabilities[v]=x;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:v,data:C},h)}catch(b){x.reject(b)}return x.promise}sendWithStream(f,C,h,v){const x=this.streamId++,b=this.sourceName,y=this.targetName,m=this.comObj;return new ReadableStream({start:O=>{const I=(0,_.createPromiseCapability)();return this.streamControllers[x]={controller:O,startCall:I,pullCall:null,cancelCall:null,isClosed:!1},m.postMessage({sourceName:b,targetName:y,action:f,streamId:x,data:C,desiredSize:O.desiredSize},v),I.promise},pull:O=>{const I=(0,_.createPromiseCapability)();return this.streamControllers[x].pullCall=I,m.postMessage({sourceName:b,targetName:y,stream:6,streamId:x,desiredSize:O.desiredSize}),I.promise},cancel:O=>{(0,_.assert)(O instanceof Error,"cancel must have a valid reason");const I=(0,_.createPromiseCapability)();return this.streamControllers[x].cancelCall=I,this.streamControllers[x].isClosed=!0,m.postMessage({sourceName:b,targetName:y,stream:1,streamId:x,reason:Q(O)}),I.promise}},h)}_createStreamSink(f){const C=f.streamId,h=this.sourceName,v=f.sourceName,x=this.comObj,b=this,y=this.actionHandler[f.action],m={enqueue(O,I=1,T){if(this.isCancelled)return;const A=this.desiredSize;this.desiredSize-=I,A>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_.createPromiseCapability)(),this.ready=this.sinkCapability.promise),x.postMessage({sourceName:h,targetName:v,stream:4,streamId:C,chunk:O},T)},close(){this.isCancelled||(this.isCancelled=!0,x.postMessage({sourceName:h,targetName:v,stream:3,streamId:C}),delete b.streamSinks[C])},error(O){(0,_.assert)(O instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,x.postMessage({sourceName:h,targetName:v,stream:5,streamId:C,reason:Q(O)}))},sinkCapability:(0,_.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};m.sinkCapability.resolve(),m.ready=m.sinkCapability.promise,this.streamSinks[C]=m,new Promise(function(O){O(y(f.data,m))}).then(function(){x.postMessage({sourceName:h,targetName:v,stream:8,streamId:C,success:!0})},function(O){x.postMessage({sourceName:h,targetName:v,stream:8,streamId:C,reason:Q(O)})})}_processStreamMessage(f){const C=f.streamId,h=this.sourceName,v=f.sourceName,x=this.comObj,b=this.streamControllers[C],y=this.streamSinks[C];switch(f.stream){case 8:f.success?b.startCall.resolve():b.startCall.reject(Q(f.reason));break;case 7:f.success?b.pullCall.resolve():b.pullCall.reject(Q(f.reason));break;case 6:if(!y){x.postMessage({sourceName:h,targetName:v,stream:7,streamId:C,success:!0});break}y.desiredSize<=0&&f.desiredSize>0&&y.sinkCapability.resolve(),y.desiredSize=f.desiredSize,new Promise(function(m){m(y.onPull&&y.onPull())}).then(function(){x.postMessage({sourceName:h,targetName:v,stream:7,streamId:C,success:!0})},function(m){x.postMessage({sourceName:h,targetName:v,stream:7,streamId:C,reason:Q(m)})});break;case 4:if((0,_.assert)(b,"enqueue should have stream controller"),b.isClosed)break;b.controller.enqueue(f.chunk);break;case 3:if((0,_.assert)(b,"close should have stream controller"),b.isClosed)break;b.isClosed=!0,b.controller.close(),this._deleteStreamController(b,C);break;case 5:(0,_.assert)(b,"error should have stream controller"),b.controller.error(Q(f.reason)),this._deleteStreamController(b,C);break;case 2:f.success?b.cancelCall.resolve():b.cancelCall.reject(Q(f.reason)),this._deleteStreamController(b,C);break;case 1:if(!y)break;new Promise(function(m){m(y.onCancel&&y.onCancel(Q(f.reason)))}).then(function(){x.postMessage({sourceName:h,targetName:v,stream:2,streamId:C,success:!0})},function(m){x.postMessage({sourceName:h,targetName:v,stream:2,streamId:C,reason:Q(m)})}),y.sinkCapability.reject(Q(f.reason)),y.isCancelled=!0,delete this.streamSinks[C];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(f,C){var h=this;return _asyncToGenerator(function*(){yield Promise.allSettled([f.startCall&&f.startCall.promise,f.pullCall&&f.pullCall.promise,f.cancelCall&&f.cancelCall.promise]),delete h.streamControllers[C]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Metadata=void 0;var _=K(1);E.Metadata=class L{#e;#t;constructor({parsedData:Q,rawData:ne}){this.#e=Q,this.#t=ne}getRaw(){return this.#t}get(Q){return this.#e.get(Q)??null}getAll(){return(0,_.objectFromMap)(this.#e)}has(Q){return this.#e.has(Q)}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.OptionalContentConfig=void 0;var _=K(1);const L=Symbol("INTERNAL");class te{#e=!0;constructor(F,f){this.name=F,this.intent=f}get visible(){return this.#e}_setVisible(F,f){F!==L&&(0,_.unreachable)("Internal method `_setVisible` called."),this.#e=f}}E.OptionalContentConfig=class Q{#e=!0;#t=new Map;#n=null;#r=null;constructor(F){if(this.name=null,this.creator=null,null!==F){this.name=F.name,this.creator=F.creator,this.#r=F.order;for(const f of F.groups)this.#t.set(f.id,new te(f.name,f.intent));if("OFF"===F.baseState)for(const f of this.#t.values())f._setVisible(L,!1);for(const f of F.on)this.#t.get(f)._setVisible(L,!0);for(const f of F.off)this.#t.get(f)._setVisible(L,!1);this.#n=new Map;for(const[f,C]of this.#t)this.#n.set(f,C.visible)}}#s(F){const f=F.length;if(f<2)return!0;const C=F[0];for(let h=1;h<f;h++){const v=F[h];let x;if(Array.isArray(v))x=this.#s(v);else{if(!this.#t.has(v))return(0,_.warn)(`Optional content group not found: ${v}`),!0;x=this.#t.get(v).visible}switch(C){case"And":if(!x)return!1;break;case"Or":if(x)return!0;break;case"Not":return!x;default:return!0}}return"And"===C}isVisible(F){if(0===this.#t.size)return!0;if(!F)return(0,_.warn)("Optional content group not defined."),!0;if("OCG"===F.type)return this.#t.has(F.id)?this.#t.get(F.id).visible:((0,_.warn)(`Optional content group not found: ${F.id}`),!0);if("OCMD"===F.type){if(F.expression)return this.#s(F.expression);if(!F.policy||"AnyOn"===F.policy){for(const f of F.ids){if(!this.#t.has(f))return(0,_.warn)(`Optional content group not found: ${f}`),!0;if(this.#t.get(f).visible)return!0}return!1}if("AllOn"===F.policy){for(const f of F.ids){if(!this.#t.has(f))return(0,_.warn)(`Optional content group not found: ${f}`),!0;if(!this.#t.get(f).visible)return!1}return!0}if("AnyOff"===F.policy){for(const f of F.ids){if(!this.#t.has(f))return(0,_.warn)(`Optional content group not found: ${f}`),!0;if(!this.#t.get(f).visible)return!0}return!1}if("AllOff"===F.policy){for(const f of F.ids){if(!this.#t.has(f))return(0,_.warn)(`Optional content group not found: ${f}`),!0;if(this.#t.get(f).visible)return!1}return!0}return(0,_.warn)(`Unknown optional content policy ${F.policy}.`),!0}return(0,_.warn)(`Unknown group type ${F.type}.`),!0}setVisibility(F,f=!0){this.#t.has(F)?(this.#t.get(F)._setVisible(L,!!f),this.#e=null):(0,_.warn)(`Optional content group not found: ${F}`)}get hasInitialVisibility(){if(null!==this.#e)return this.#e;for(const[F,f]of this.#t){const C=this.#n.get(F);if(f.visible!==C)return this.#e=!1}return this.#e=!0}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,_.objectFromMap)(this.#t):null}getGroup(F){return this.#t.get(F)||null}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFDataTransportStream=void 0;var _=K(1),L=K(8);E.PDFDataTransportStream=class te{constructor(f,C){(0,_.assert)(C,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=f.progressiveDone||!1,this._contentDispositionFilename=f.contentDispositionFilename||null;const h=f.initialData;if(h?.length>0){const v=new Uint8Array(h).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=C,this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._contentLength=f.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((v,x)=>{this._onReceiveData({begin:v,chunk:x})}),this._pdfDataRangeTransport.addProgressListener((v,x)=>{this._onProgress({loaded:v,total:x})}),this._pdfDataRangeTransport.addProgressiveReadListener(v=>{this._onReceiveData({chunk:v})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(f){const C=new Uint8Array(f.chunk).buffer;if(void 0===f.begin)this._fullRequestReader?this._fullRequestReader._enqueue(C):this._queuedChunks.push(C);else{const h=this._rangeReaders.some(function(v){return v._begin===f.begin&&(v._enqueue(C),!0)});(0,_.assert)(h,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(f){if(void 0===f.total){const C=this._rangeReaders[0];C?.onProgress&&C.onProgress({loaded:f.loaded})}else{const C=this._fullRequestReader;C?.onProgress&&C.onProgress({loaded:f.loaded,total:f.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(f){const C=this._rangeReaders.indexOf(f);C>=0&&this._rangeReaders.splice(C,1)}getFullReader(){(0,_.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const f=this._queuedChunks;return this._queuedChunks=null,new Q(this,f,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(f,C){if(C<=this._progressiveDataLength)return null;const h=new ne(this,f,C);return this._pdfDataRangeTransport.requestDataRange(f,C),this._rangeReaders.push(h),h}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const C of this._rangeReaders.slice(0))C.cancel(f);this._pdfDataRangeTransport.abort()}};class Q{constructor(f,C,h=!1,v=null){this._stream=f,this._done=h||!1,this._filename=(0,L.isPdfFile)(v)?v:null,this._queuedChunks=C||[],this._loaded=0;for(const x of this._queuedChunks)this._loaded+=x.byteLength;this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}_enqueue(f){this._done||(this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunks.push(f),this._loaded+=f.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var f=this;return _asyncToGenerator(function*(){if(f._queuedChunks.length>0)return{value:f._queuedChunks.shift(),done:!1};if(f._done)return{value:void 0,done:!0};const C=(0,_.createPromiseCapability)();return f._requests.push(C),C.promise})()}cancel(f){this._done=!0;for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ne{constructor(f,C,h){this._stream=f,this._begin=C,this._end=h,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(f){if(!this._done){if(0===this._requests.length)this._queuedChunk=f;else{this._requests.shift().resolve({value:f,done:!1});for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var f=this;return _asyncToGenerator(function*(){if(f._queuedChunk){const h=f._queuedChunk;return f._queuedChunk=null,{value:h,done:!1}}if(f._done)return{value:void 0,done:!0};const C=(0,_.createPromiseCapability)();return f._requests.push(C),C.promise})()}cancel(f){this._done=!0;for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(pe,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XfaText=void 0;class K{static textContent(L){const te=[],Q={items:te,styles:Object.create(null)};return function ne(F){if(!F)return;let f=null;const C=F.name;if("#text"===C)f=F.value;else{if(!K.shouldBuildText(C))return;F?.attributes?.textContent?f=F.attributes.textContent:F.value&&(f=F.value)}if(null!==f&&te.push({str:f}),F.children)for(const h of F.children)ne(h)}(L),Q}static shouldBuildText(L){return!("textarea"===L||"input"===L||"option"===L||"select"===L)}}E.XfaText=K},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.NodeStandardFontDataFactory=E.NodeCanvasFactory=E.NodeCMapReaderFactory=void 0;var _=K(9);const L=function(F){return new Promise((f,C)=>{__webpack_require__(172).readFile(F,(v,x)=>{!v&&x?f(new Uint8Array(x)):C(new Error(v))})})};E.NodeCanvasFactory=class te extends _.BaseCanvasFactory{_createCanvas(f,C){return __webpack_require__(414).createCanvas(f,C)}},E.NodeCMapReaderFactory=class Q extends _.BaseCMapReaderFactory{_fetchData(f,C){return L(f).then(h=>({cMapData:h,compressionType:C}))}},E.NodeStandardFontDataFactory=class ne extends _.BaseStandardFontDataFactory{_fetchData(f){return L(f)}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.AnnotationEditorLayer=void 0;var _=K(7),L=K(1),te=K(23),Q=K(24);E.AnnotationEditorLayer=(()=>{class F{#e;#t=!1;#n=this.pointerup.bind(this);#r=this.pointerdown.bind(this);#s=new Map;#c=!1;#a=!1;#i;static _initialized=!1;constructor(C){F._initialized||(F._initialized=!0,te.FreeTextEditor.initialize(C.l10n),Q.InkEditor.initialize(C.l10n),C.uiManager.registerEditorTypes([te.FreeTextEditor,Q.InkEditor])),this.#i=C.uiManager,this.annotationStorage=C.annotationStorage,this.pageIndex=C.pageIndex,this.div=C.div,this.#e=C.accessibilityManager,this.#i.addLayer(this)}updateToolbar(C){this.#i.updateToolbar(C)}updateMode(C=this.#i.getMode()){this.#o(),C===L.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#i.unselectAll()}addInkEditorIfNeeded(C){if(C||this.#i.getMode()===L.AnnotationEditorType.INK){if(!C)for(const v of this.#s.values())if(v.isEmpty())return void v.setInBackground();this.#l({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(C){this.#i.setEditingState(C)}addCommands(C){this.#i.addCommands(C)}enable(){this.div.style.pointerEvents="auto";for(const C of this.#s.values())C.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const C of this.#s.values())C.disableEditing()}setActiveEditor(C){this.#i.getActive()!==C&&this.#i.setActiveEditor(C)}enableClick(){this.div.addEventListener("pointerdown",this.#r),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#r),this.div.removeEventListener("pointerup",this.#n)}attach(C){this.#s.set(C.id,C)}detach(C){this.#s.delete(C.id),this.#e?.removePointerInTextLayer(C.contentDiv)}remove(C){this.#i.removeEditor(C),this.detach(C),this.annotationStorage.remove(C.id),C.div.style.display="none",setTimeout(()=>{C.div.style.display="",C.div.remove(),C.isAttachedToDOM=!1,document.activeElement===document.body&&this.#i.focusMainContainer()},0),this.#a||this.addInkEditorIfNeeded(!1)}#h(C){C.parent!==this&&(this.attach(C),C.pageIndex=this.pageIndex,C.parent?.detach(C),C.parent=this,C.div&&C.isAttachedToDOM&&(C.div.remove(),this.div.append(C.div)))}add(C){if(this.#h(C),this.#i.addEditor(C),this.attach(C),!C.isAttachedToDOM){const h=C.render();this.div.append(h),C.isAttachedToDOM=!0}this.moveEditorInDOM(C),C.onceAdded(),this.addToAnnotationStorage(C)}moveEditorInDOM(C){this.#e?.moveElementInDOM(this.div,C.div,C.contentDiv,!0)}addToAnnotationStorage(C){!C.isEmpty()&&!this.annotationStorage.has(C.id)&&this.annotationStorage.setValue(C.id,C)}addOrRebuild(C){C.needsToBeRebuilt()?C.rebuild():this.add(C)}addANewEditor(C){this.addCommands({cmd:()=>{this.addOrRebuild(C)},undo:()=>{C.remove()},mustExec:!0})}addUndoableEditor(C){this.addCommands({cmd:()=>{this.addOrRebuild(C)},undo:()=>{C.remove()},mustExec:!1})}getNextId(){return this.#i.getId()}#u(C){switch(this.#i.getMode()){case L.AnnotationEditorType.FREETEXT:return new te.FreeTextEditor(C);case L.AnnotationEditorType.INK:return new Q.InkEditor(C)}return null}deserialize(C){switch(C.annotationType){case L.AnnotationEditorType.FREETEXT:return te.FreeTextEditor.deserialize(C,this);case L.AnnotationEditorType.INK:return Q.InkEditor.deserialize(C,this)}return null}#l(C){const h=this.getNextId(),v=this.#u({parent:this,id:h,x:C.offsetX,y:C.offsetY});return v&&this.add(v),v}setSelected(C){this.#i.setSelected(C)}toggleSelected(C){this.#i.toggleSelected(C)}isSelected(C){return this.#i.isSelected(C)}unselect(C){this.#i.unselect(C)}pointerup(C){if(!(0!==C.button||C.ctrlKey&&_.KeyboardManager.platform.isMac)&&C.target===this.div&&this.#c){if(this.#c=!1,!this.#t)return void(this.#t=!0);this.#l(C)}}pointerdown(C){if(0!==C.button||C.ctrlKey&&_.KeyboardManager.platform.isMac||C.target!==this.div)return;this.#c=!0;const v=this.#i.getActive();this.#t=!v||v.isEmpty()}drop(C){const h=C.dataTransfer.getData("text/plain"),v=this.#i.getEditor(h);if(!v)return;C.preventDefault(),C.dataTransfer.dropEffect="move",this.#h(v);const x=this.div.getBoundingClientRect();v.translate(C.clientX-x.x-v.startX,C.clientY-x.y-v.startY),this.moveEditorInDOM(v),v.div.focus()}dragover(C){C.preventDefault()}destroy(){this.#i.getActive()?.parent===this&&this.#i.setActiveEditor(null);for(const C of this.#s.values())this.#e?.removePointerInTextLayer(C.contentDiv),C.isAttachedToDOM=!1,C.div.remove(),C.parent=null;this.div=null,this.#s.clear(),this.#i.removeLayer(this)}#o(){this.#a=!0;for(const C of this.#s.values())C.isEmpty()&&C.remove();this.#a=!1}render(C){this.viewport=C.viewport,(0,_.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const h of this.#i.getEditors(this.pageIndex))this.add(h);this.updateMode()}update(C){this.viewport=C.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[C,h,v,x]=this.viewport.viewBox;return[v-C,x-h]}get viewportBaseDimensions(){const{width:C,height:h,rotation:v}=this.viewport;return v%180==0?[C,h]:[h,C]}setDimensions(){const{width:C,height:h,rotation:v}=this.viewport,x=v%180!=0,b=Math.floor(C)+"px",y=Math.floor(h)+"px";this.div.style.width=x?y:b,this.div.style.height=x?b:y,this.div.setAttribute("data-main-rotation",v)}}return F})()},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.FreeTextEditor=void 0;var _=K(1),L=K(7),te=K(6);class Q extends te.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivKeydown.bind(this);#r;#s="";#c=!1;#a;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new L.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Q.prototype.commitOrRemove]]);static _type="freetext";constructor(F){super({...F,name:"freeTextEditor"}),this.#r=F.color||Q._defaultColor||te.AnnotationEditor._defaultLineColor,this.#a=F.fontSize||Q._defaultFontSize}static initialize(F){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(C=>[C,F.get(C)]));const f=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(f.getPropertyValue("--freetext-padding"))}static updateDefaultParams(F,f){switch(F){case _.AnnotationEditorParamsType.FREETEXT_SIZE:Q._defaultFontSize=f;break;case _.AnnotationEditorParamsType.FREETEXT_COLOR:Q._defaultColor=f}}updateParams(F,f){switch(F){case _.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(f);break;case _.AnnotationEditorParamsType.FREETEXT_COLOR:this.#h(f)}}static get defaultPropertiesToUpdate(){return[[_.AnnotationEditorParamsType.FREETEXT_SIZE,Q._defaultFontSize],[_.AnnotationEditorParamsType.FREETEXT_COLOR,Q._defaultColor||te.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_.AnnotationEditorParamsType.FREETEXT_SIZE,this.#a],[_.AnnotationEditorParamsType.FREETEXT_COLOR,this.#r]]}#i(F){const f=h=>{this.editorDiv.style.fontSize=`calc(${h}px * var(--scale-factor))`,this.translate(0,-(h-this.#a)*this.parent.scaleFactor),this.#a=h,this.#l()},C=this.#a;this.parent.addCommands({cmd:()=>{f(F)},undo:()=>{f(C)},mustExec:!0,type:_.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#h(F){const f=this.#r;this.parent.addCommands({cmd:()=>{this.#r=F,this.editorDiv.style.color=F},undo:()=>{this.#r=f,this.editorDiv.style.color=f},mustExec:!0,type:_.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-Q._internalPadding*this.parent.scaleFactor,-(Q._internalPadding+this.#a)*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.div.focus(),this.isEditing=!1)}focusin(F){super.focusin(F),F.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#u(){const F=this.editorDiv.getElementsByTagName("div");if(0===F.length)return this.editorDiv.innerText;const f=[];for(let C=0,h=F.length;C<h;C++){const x=F[C].firstChild;f.push("#text"===x?.nodeName?x.data:"")}return f.join("\n")}#l(){const[F,f]=this.parent.viewportBaseDimensions,C=this.div.getBoundingClientRect();this.width=C.width/F,this.height=C.height/f}commit(){super.commit(),this.#c||(this.#c=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#s=this.#u().trimEnd(),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(F){this.enableEditMode(),this.editorDiv.focus()}keydown(F){F.target===this.div&&"Enter"===F.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(F){Q._keyboardManager.exec(this,F)}editorDivFocus(F){this.isEditing=!0}editorDivBlur(F){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let F,f;this.width&&(F=this.x,f=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),Q._l10nPromise.get("editor_free_text_aria_label").then(h=>this.editorDiv?.setAttribute("aria-label",h)),Q._l10nPromise.get("free_text_default_content").then(h=>this.editorDiv?.setAttribute("default-content",h)),this.editorDiv.contentEditable=!0;const{style:C}=this.editorDiv;if(C.fontSize=`calc(${this.#a}px * var(--scale-factor))`,C.color=this.#r,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,L.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[h,v]=this.parent.viewportBaseDimensions;this.setAt(F*h,f*v,this.width*h,this.height*v);for(const x of this.#s.split("\n")){const b=document.createElement("div");b.append(x?document.createTextNode(x):document.createElement("br")),this.editorDiv.append(b)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(F,f){const C=super.deserialize(F,f);return C.#a=F.fontSize,C.#r=_.Util.makeHexColor(...F.color),C.#s=F.value,C}serialize(){if(this.isEmpty())return null;const F=Q._internalPadding*this.parent.scaleFactor,f=this.getRect(F,F),C=te.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:_.AnnotationEditorType.FREETEXT,color:C,fontSize:this.#a,value:this.#s,pageIndex:this.parent.pageIndex,rect:f,rotation:this.rotation}}}E.FreeTextEditor=Q},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.InkEditor=void 0,Object.defineProperty(E,"fitCurve",{enumerable:!0,get:function(){return te.fitCurve}});var _=K(1),L=K(6),te=K(25),Q=K(7);E.InkEditor=(()=>{class f extends L.AnnotationEditor{#e=0;#t=0;#n=0;#r=this.canvasPointermove.bind(this);#s=this.canvasPointerleave.bind(this);#c=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#i=!1;#h=!1;#u=null;#l=null;#o=0;#p=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(h){super({...h,name:"inkEditor"}),this.color=h.color||null,this.thickness=h.thickness||null,this.opacity=h.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(h){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(v=>[v,h.get(v)]))}static updateDefaultParams(h,v){switch(h){case _.AnnotationEditorParamsType.INK_THICKNESS:f._defaultThickness=v;break;case _.AnnotationEditorParamsType.INK_COLOR:f._defaultColor=v;break;case _.AnnotationEditorParamsType.INK_OPACITY:f._defaultOpacity=v/100}}updateParams(h,v){switch(h){case _.AnnotationEditorParamsType.INK_THICKNESS:this.#y(v);break;case _.AnnotationEditorParamsType.INK_COLOR:this.#m(v);break;case _.AnnotationEditorParamsType.INK_OPACITY:this.#v(v)}}static get defaultPropertiesToUpdate(){return[[_.AnnotationEditorParamsType.INK_THICKNESS,f._defaultThickness],[_.AnnotationEditorParamsType.INK_COLOR,f._defaultColor||L.AnnotationEditor._defaultLineColor],[_.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*f._defaultOpacity)]]}get propertiesToUpdate(){return[[_.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||f._defaultThickness],[_.AnnotationEditorParamsType.INK_COLOR,this.color||f._defaultColor||L.AnnotationEditor._defaultLineColor],[_.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??f._defaultOpacity))]]}#y(h){const v=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=h,this.#D()},undo:()=>{this.thickness=v,this.#D()},mustExec:!0,type:_.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(h){const v=this.color;this.parent.addCommands({cmd:()=>{this.color=h,this.#g()},undo:()=>{this.color=v,this.#g()},mustExec:!0,type:_.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#v(h){h/=100;const v=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=h,this.#g()},undo:()=>{this.opacity=v,this.#g()},mustExec:!0,type:_.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#_(),this.#C()),this.isAttachedToDOM||(this.parent.add(this),this.#S()),this.#D())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#l.disconnect(),this.#l=null,super.remove())}enableEditMode(){this.#i||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#a),this.canvas.addEventListener("pointerup",this.#c))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a),this.canvas.removeEventListener("pointerup",this.#c))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#w(){const{width:h,height:v,rotation:x}=this.parent.viewport;switch(x){case 90:return[0,h,h,v];case 180:return[h,v,h,v];case 270:return[v,0,h,v];default:return[0,0,h,v]}}#b(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,Q.opacityToHex)(this.opacity)}`}#d(h,v){this.isEditing=!0,this.#h||(this.#h=!0,this.#S(),this.thickness||=f._defaultThickness,this.color||=f._defaultColor||L.AnnotationEditor._defaultLineColor,this.opacity??=f._defaultOpacity),this.currentPath.push([h,v]),this.#u=null,this.#b(),this.ctx.beginPath(),this.ctx.moveTo(h,v),this.#f=()=>{this.#f&&(this.#u&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#g(),this.ctx.lineTo(...this.#u),this.#u=null,this.ctx.stroke()),window.requestAnimationFrame(this.#f))},window.requestAnimationFrame(this.#f)}#E(h,v){const[x,b]=this.currentPath.at(-1);h===x&&v===b||(this.currentPath.push([h,v]),this.#u=[h,v])}#M(h,v){this.ctx.closePath(),this.#f=null,h=Math.min(Math.max(h,0),this.canvas.width),v=Math.min(Math.max(v,0),this.canvas.height);const[x,b]=this.currentPath.at(-1);let y;if((h!==x||v!==b)&&this.currentPath.push([h,v]),1!==this.currentPath.length)y=(0,te.fitCurve)(this.currentPath,30,null);else{const T=[h,v];y=[[T,T.slice(),T.slice(),T]]}const m=f.#I(y);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(y),this.bezierPath2D.push(m),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#_(),this.#C()),this.#D())},mustExec:!0})}#g(){if(this.isEmpty())return void this.#P();this.#b();const{canvas:h,ctx:v}=this;v.setTransform(1,0,0,1,0,0),v.clearRect(0,0,h.width,h.height),this.#P();for(const x of this.bezierPath2D)v.stroke(x)}commit(){this.#i||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#i=!0,this.div.classList.add("disabled"),this.#D(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(h){super.focusin(h),this.enableEditMode()}canvasPointerdown(h){0!==h.button||!this.isInEditMode()||this.#i||(this.setInForeground(),"mouse"!==h.type&&this.div.focus(),h.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#s),this.canvas.addEventListener("pointermove",this.#r),this.#d(h.offsetX,h.offsetY))}canvasPointermove(h){h.stopPropagation(),this.#E(h.offsetX,h.offsetY)}canvasPointerup(h){0===h.button&&this.isInEditMode()&&0!==this.currentPath.length&&(h.stopPropagation(),this.#A(h),this.setInBackground())}canvasPointerleave(h){this.#A(h),this.setInBackground()}#A(h){this.#M(h.offsetX,h.offsetY),this.canvas.removeEventListener("pointerleave",this.#s),this.canvas.removeEventListener("pointermove",this.#r),this.parent.addToAnnotationStorage(this)}#_(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",f._l10nPromise.get("editor_ink_canvas_aria_label").then(h=>this.canvas?.setAttribute("aria-label",h)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#C(){this.#l=new ResizeObserver(h=>{const v=h[0].contentRect;v.width&&v.height&&this.setDimensions(v.width,v.height)}),this.#l.observe(this.div)}render(){if(this.div)return this.div;let h,v;this.width&&(h=this.x,v=this.y),super.render(),f._l10nPromise.get("editor_ink_aria_label").then(O=>this.div?.setAttribute("aria-label",O));const[x,b,y,m]=this.#w();if(this.setAt(x,b,0,0),this.setDims(y,m),this.#_(),this.width){const[O,I]=this.parent.viewportBaseDimensions;this.setAt(h*O,v*I,this.width*O,this.height*I),this.#h=!0,this.#S(),this.setDims(this.width*O,this.height*I),this.#g(),this.#O(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#C(),this.div}#S(){if(!this.#h)return;const[h,v]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*h),this.canvas.height=Math.ceil(this.height*v),this.#P()}setDimensions(h,v){const x=Math.round(h),b=Math.round(v);if(this.#o===x&&this.#p===b)return;this.#o=x,this.#p=b,this.canvas.style.visibility="hidden",this.#e&&Math.abs(this.#e-h/v)>.01&&(v=Math.ceil(h/this.#e),this.setDims(h,v));const[y,m]=this.parent.viewportBaseDimensions;this.width=h/y,this.height=v/m,this.#i&&this.#x(h,v),this.#S(),this.#g(),this.canvas.style.visibility="visible"}#x(h,v){const x=this.#T(),b=(h-x)/this.#n,y=(v-x)/this.#t;this.scaleFactor=Math.min(b,y)}#P(){const h=this.#T()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+h,this.translationY*this.scaleFactor+h)}static#I(h){const v=new Path2D;for(let x=0,b=h.length;x<b;x++){const[y,m,O,I]=h[x];0===x&&v.moveTo(...y),v.bezierCurveTo(m[0],m[1],O[0],O[1],I[0],I[1])}return v}#k(h,v,x,b){const m=[],O=this.thickness/2;let I,T;for(const A of this.paths){I=[],T=[];for(let c=0,p=A.length;c<p;c++){const[M,H,G,Y]=A[c],W=h*(M[0]+v)+O,le=b-h*(M[1]+x)-O,ie=h*(H[0]+v)+O,k=b-h*(H[1]+x)-O,z=h*(G[0]+v)+O,X=b-h*(G[1]+x)-O,V=h*(Y[0]+v)+O,B=b-h*(Y[1]+x)-O;0===c&&(I.push(W,le),T.push(W,le)),I.push(ie,k,z,X,V,B),this.#L(W,le,ie,k,z,X,V,B,4,T)}m.push({bezier:I,points:T})}return m}#L(h,v,x,b,y,m,O,I,T,A){if(this.#N(h,v,x,b,y,m,O,I))A.push(O,I);else{for(let c=1;c<T-1;c++){const p=c/T,M=1-p;let H=p*h+M*x,G=p*v+M*b,Y=p*x+M*y,W=p*b+M*m;H=p*H+M*Y,G=p*G+M*W,Y=p*Y+M*(p*y+M*O),W=p*W+M*(p*m+M*I),H=p*H+M*Y,G=p*G+M*W,A.push(H,G)}A.push(O,I)}}#N(h,v,x,b,y,m,O,I){const c=(3*b-2*v-I)**2,M=(3*m-v-2*I)**2;return Math.max((3*x-2*h-O)**2,(3*y-h-2*O)**2)+Math.max(c,M)<=10}#R(){let h=1/0,v=-1/0,x=1/0,b=-1/0;for(const y of this.paths)for(const[m,O,I,T]of y){const A=_.Util.bezierBoundingBox(...m,...O,...I,...T);h=Math.min(h,A[0]),x=Math.min(x,A[1]),v=Math.max(v,A[2]),b=Math.max(b,A[3])}return[h,x,v,b]}#T(){return this.#i?Math.ceil(this.thickness*this.parent.scaleFactor):0}#D(h=!1){if(this.isEmpty())return;if(!this.#i)return void this.#g();const v=this.#R(),x=this.#T();this.#n=Math.max(16,v[2]-v[0]),this.#t=Math.max(16,v[3]-v[1]);const b=Math.ceil(x+this.#n*this.scaleFactor),y=Math.ceil(x+this.#t*this.scaleFactor),[m,O]=this.parent.viewportBaseDimensions;this.width=b/m,this.height=y/O,this.#e=b/y,this.#O();const I=this.translationX,T=this.translationY;this.translationX=-v[0],this.translationY=-v[1],this.#S(),this.#g(),this.#o=b,this.#p=y,this.setDims(b,y);const A=h?x/this.scaleFactor/2:0;this.translate(I-this.translationX-A,T-this.translationY-A)}#O(){const{style:h}=this.div;this.#e>=1?(h.minHeight="16px",h.minWidth=`${Math.round(16*this.#e)}px`):(h.minWidth="16px",h.minHeight=`${Math.round(16/this.#e)}px`)}static deserialize(h,v){const x=super.deserialize(h,v);x.thickness=h.thickness,x.color=_.Util.makeHexColor(...h.color),x.opacity=h.opacity;const[b,y]=v.pageDimensions,m=x.width*b,O=x.height*y,I=v.scaleFactor,T=h.thickness/2;x.#e=m/O,x.#i=!0,x.#o=Math.round(m),x.#p=Math.round(O);for(const{bezier:c}of h.paths){const p=[];x.paths.push(p);let M=I*(c[0]-T),H=I*(O-c[1]-T);for(let Y=2,W=c.length;Y<W;Y+=6){const X=I*(c[Y+4]-T),V=I*(O-c[Y+5]-T);p.push([[M,H],[I*(c[Y]-T),I*(O-c[Y+1]-T)],[I*(c[Y+2]-T),I*(O-c[Y+3]-T)],[X,V]]),M=X,H=V}const G=this.#I(p);x.bezierPath2D.push(G)}const A=x.#R();return x.#n=Math.max(16,A[2]-A[0]),x.#t=Math.max(16,A[3]-A[1]),x.#x(m,O),x}serialize(){if(this.isEmpty())return null;const h=this.getRect(0,0),v=this.rotation%180==0?h[3]-h[1]:h[2]-h[0],x=L.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_.AnnotationEditorType.INK,color:x,thickness:this.thickness,opacity:this.opacity,paths:this.#k(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,v),pageIndex:this.parent.pageIndex,rect:h,rotation:this.rotation}}}return f})()},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.fitCurve=void 0;const _=K(26);E.fitCurve=_},pe=>{function K(b,y,m,O,I){var A,c,p,M,H,G,Y,W,le,ie,k,z,X;if(2===b.length)return z=v.vectorLen(v.subtract(b[0],b[1]))/3,[A=[b[0],v.addArrays(b[0],v.mulItems(y,z)),v.addArrays(b[1],v.mulItems(m,z)),b[1]]];if(c=function ne(b){var m,O,I,y=[];return b.forEach((T,A)=>{m=A?O+v.vectorLen(v.subtract(T,I)):0,y.push(m),O=m,I=T}),y=y.map(T=>T/O)}(b),[A,M,G]=_(b,c,c,y,m,I),0===M||M<O)return[A];if(M<O*O)for(p=c,H=M,Y=G,X=0;X<20;X++){if(p=te(A,b,p),[A,M,G]=_(b,c,p,y,m,I),M<O)return[A];if(G===Y){let V=M/H;if(V>.9999&&V<1.0001)break}H=M,Y=G}return k=[],(W=v.subtract(b[G-1],b[G+1])).every(V=>0===V)&&(W=v.subtract(b[G-1],b[G]),[W[0],W[1]]=[-W[1],W[0]]),le=v.normalize(W),ie=v.mulItems(le,-1),(k=k.concat(K(b.slice(0,G+1),y,le,O,I))).concat(K(b.slice(G),ie,m,O,I))}function _(b,y,m,O,I,T){var A,c,p;return A=function L(b,y,m,O){var I,T,A,c,p,M,Y,W,le,ie,k,z,X,V,B,D=b[0],g=b[b.length-1];for(I=[D,null,null,g],T=v.zeros_Xx2x2(y.length),k=0,z=y.length;k<z;k++)(A=T[k])[0]=v.mulItems(m,3*(V=y[k])*((B=1-V)*B)),A[1]=v.mulItems(O,3*B*(V*V));for(c=[[0,0],[0,0]],p=[0,0],k=0,z=b.length;k<z;k++)V=y[k],c[0][0]+=v.dot((A=T[k])[0],A[0]),c[0][1]+=v.dot(A[0],A[1]),c[1][0]+=v.dot(A[0],A[1]),c[1][1]+=v.dot(A[1],A[1]),X=v.subtract(b[k],x.q([D,D,g,g],V)),p[0]+=v.dot(A[0],X),p[1]+=v.dot(A[1],X);return Y=0==(M=c[0][0]*c[1][1]-c[1][0]*c[0][1])?0:(p[0]*c[1][1]-p[1]*c[0][1])/M,W=0===M?0:(c[0][0]*p[1]-c[1][0]*p[0])/M,Y<(le=1e-6*(ie=v.vectorLen(v.subtract(D,g))))||W<le?(I[1]=v.addArrays(D,v.mulItems(m,ie/3)),I[2]=v.addArrays(g,v.mulItems(O,ie/3))):(I[1]=v.addArrays(D,v.mulItems(m,Y)),I[2]=v.addArrays(g,v.mulItems(O,W))),I}(b,m,O,I),[c,p]=function F(b,y,m){var O,I,T,A,c,p,M,H;I=0,T=Math.floor(b.length/2);const G=f(y,10);for(c=0,p=b.length;c<p;c++)M=b[c],H=C(0,m[c],G,10),(O=(A=v.subtract(x.q(y,H),M))[0]*A[0]+A[1]*A[1])>I&&(I=O,T=c);return[I,T]}(b,A,y),T&&T({bez:A,points:b,params:y,maxErr:c,maxPoint:p}),[A,c,p]}function te(b,y,m){return m.map((O,I)=>function Q(b,y,m){var O=v.subtract(x.q(b,m),y),I=x.qprime(b,m),T=v.mulMatrix(O,I),A=v.sum(v.squareItems(I))+2*v.mulMatrix(O,x.qprimeprime(b,m));return 0===A?m:m-T/A}(b,y[I],O))}var f=function(b,y){for(var m,O=[0],I=b[0],T=0,A=1;A<=y;A++)m=x.q(b,A/y),T+=v.vectorLen(v.subtract(m,I)),O.push(T),I=m;return O.map(c=>c/T)};function C(b,y,m,O){if(y<0)return 0;if(y>1)return 1;for(var T,c,p,M=1;M<=O;M++)if(y<=m[M]){p=(y-(T=m[M-1]))/(m[M]-T)*(M/O-(c=(M-1)/O))+c;break}return p}function h(b,y){return v.normalize(v.subtract(b,y))}class v{static zeros_Xx2x2(y){for(var m=[];y--;)m.push([0,0]);return m}static mulItems(y,m){return y.map(O=>O*m)}static mulMatrix(y,m){return y.reduce((O,I,T)=>O+I*m[T],0)}static subtract(y,m){return y.map((O,I)=>O-m[I])}static addArrays(y,m){return y.map((O,I)=>O+m[I])}static addItems(y,m){return y.map(O=>O+m)}static sum(y){return y.reduce((m,O)=>m+O)}static dot(y,m){return v.mulMatrix(y,m)}static vectorLen(y){return Math.hypot(...y)}static divItems(y,m){return y.map(O=>O/m)}static squareItems(y){return y.map(m=>m*m)}static normalize(y){return this.divItems(y,this.vectorLen(y))}}class x{static q(y,m){var O=1-m,I=v.mulItems(y[0],O*O*O),T=v.mulItems(y[1],3*O*O*m),A=v.mulItems(y[2],3*O*m*m),c=v.mulItems(y[3],m*m*m);return v.addArrays(v.addArrays(I,T),v.addArrays(A,c))}static qprime(y,m){var O=1-m,I=v.mulItems(v.subtract(y[1],y[0]),3*O*O),T=v.mulItems(v.subtract(y[2],y[1]),6*O*m),A=v.mulItems(v.subtract(y[3],y[2]),3*m*m);return v.addArrays(v.addArrays(I,T),A)}static qprimeprime(y,m){return v.addArrays(v.mulItems(v.addArrays(v.subtract(y[2],v.mulItems(y[1],2)),y[0]),6*(1-m)),v.mulItems(v.addArrays(v.subtract(y[3],v.mulItems(y[2],2)),y[1]),6*m))}}pe.exports=function E(b,y,m){if(!Array.isArray(b))throw new TypeError("First argument should be an array");if(b.forEach(A=>{if(!Array.isArray(A)||A.some(c=>"number"!=typeof c)||A.length!==b[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(b=b.filter((A,c)=>0===c||!A.every((p,M)=>p===b[c-1][M]))).length<2)return[];const O=b.length,I=h(b[1],b[0]),T=h(b[O-2],b[O-1]);return K(b,I,T,y,m)},pe.exports.fitCubic=K,pe.exports.createTangent=h},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.AnnotationLayer=void 0;var _=K(1),L=K(8),te=K(5),Q=K(28),ne=K(29);const F=1e3,C=new WeakSet;function h(R){return{width:R[2]-R[0],height:R[3]-R[1]}}class v{static create(d){switch(d.data.annotationType){case _.AnnotationType.LINK:return new b(d);case _.AnnotationType.TEXT:return new y(d);case _.AnnotationType.WIDGET:switch(d.data.fieldType){case"Tx":return new O(d);case"Btn":return d.data.radioButton?new T(d):d.data.checkBox?new I(d):new A(d);case"Ch":return new c(d)}return new m(d);case _.AnnotationType.POPUP:return new p(d);case _.AnnotationType.FREETEXT:return new H(d);case _.AnnotationType.LINE:return new G(d);case _.AnnotationType.SQUARE:return new Y(d);case _.AnnotationType.CIRCLE:return new W(d);case _.AnnotationType.POLYLINE:return new le(d);case _.AnnotationType.CARET:return new k(d);case _.AnnotationType.INK:return new z(d);case _.AnnotationType.POLYGON:return new ie(d);case _.AnnotationType.HIGHLIGHT:return new X(d);case _.AnnotationType.UNDERLINE:return new V(d);case _.AnnotationType.SQUIGGLY:return new B(d);case _.AnnotationType.STRIKEOUT:return new D(d);case _.AnnotationType.STAMP:return new g(d);case _.AnnotationType.FILEATTACHMENT:return new w(d);default:return new x(d)}}}class x{constructor(d,{isRenderable:S=!1,ignoreBorder:N=!1,createQuadrilaterals:U=!1}={}){this.isRenderable=S,this.data=d.data,this.layer=d.layer,this.page=d.page,this.viewport=d.viewport,this.linkService=d.linkService,this.downloadManager=d.downloadManager,this.imageResourcesPath=d.imageResourcesPath,this.renderForms=d.renderForms,this.svgFactory=d.svgFactory,this.annotationStorage=d.annotationStorage,this.enableScripting=d.enableScripting,this.hasJSActions=d.hasJSActions,this._fieldObjects=d.fieldObjects,this._mouseState=d.mouseState,S&&(this.container=this._createContainer(N)),U&&(this.quadrilaterals=this._createQuadrilaterals(N))}_createContainer(d=!1){const S=this.data,N=this.page,U=this.viewport,q=document.createElement("section"),{width:ee,height:J}=h(S.rect),[oe,ae,se,he]=U.viewBox,Ce=se-oe,ve=he-ae;q.setAttribute("data-annotation-id",S.id);const Ae=_.Util.normalizeRect([S.rect[0],N.view[3]-S.rect[1]+N.view[1],S.rect[2],N.view[3]-S.rect[3]+N.view[1]]);if(!d&&S.borderStyle.width>0){q.style.borderWidth=`${S.borderStyle.width}px`;const me=S.borderStyle.horizontalCornerRadius,Se=S.borderStyle.verticalCornerRadius;switch(me>0||Se>0?q.style.borderRadius=`calc(${me}px * var(--scale-factor)) / calc(${Se}px * var(--scale-factor))`:this instanceof T&&(q.style.borderRadius=`calc(${ee}px * var(--scale-factor)) / calc(${J}px * var(--scale-factor))`),S.borderStyle.style){case _.AnnotationBorderStyleType.SOLID:q.style.borderStyle="solid";break;case _.AnnotationBorderStyleType.DASHED:q.style.borderStyle="dashed";break;case _.AnnotationBorderStyleType.BEVELED:(0,_.warn)("Unimplemented border style: beveled");break;case _.AnnotationBorderStyleType.INSET:(0,_.warn)("Unimplemented border style: inset");break;case _.AnnotationBorderStyleType.UNDERLINE:q.style.borderBottomStyle="solid"}const ge=S.borderColor||null;ge?q.style.borderColor=_.Util.makeHexColor(0|ge[0],0|ge[1],0|ge[2]):q.style.borderWidth=0}q.style.left=100*(Ae[0]-oe)/Ce+"%",q.style.top=100*(Ae[1]-ae)/ve+"%";const{rotation:ce}=S;return S.hasOwnCanvas||0===ce?(q.style.width=100*ee/Ce+"%",q.style.height=100*J/ve+"%"):this.setRotation(ce,q),q}setRotation(d,S=this.container){const[N,U,q,ee]=this.viewport.viewBox,J=q-N,oe=ee-U,{width:ae,height:se}=h(this.data.rect);let he,Ce;d%180==0?(he=100*ae/J,Ce=100*se/oe):(he=100*se/J,Ce=100*ae/oe),S.style.width=`${he}%`,S.style.height=`${Ce}%`,S.setAttribute("data-main-rotation",(360-d)%360)}get _commonActions(){const d=(S,N,U)=>{const q=U.detail[S];U.target.style[N]=Q.ColorConverters[`${q[0]}_HTML`](q.slice(1))};return(0,_.shadow)(this,"_commonActions",{display:S=>{const N=S.detail.display%2==1;this.container.style.visibility=N?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:N,print:0===S.detail.display||3===S.detail.display})},print:S=>{this.annotationStorage.setValue(this.data.id,{print:S.detail.print})},hidden:S=>{this.container.style.visibility=S.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:S.detail.hidden})},focus:S=>{setTimeout(()=>S.target.focus({preventScroll:!1}),0)},userName:S=>{S.target.title=S.detail.userName},readonly:S=>{S.detail.readonly?S.target.setAttribute("readonly",""):S.target.removeAttribute("readonly")},required:S=>{this._setRequired(S.target,S.detail.required)},bgColor:S=>{d("bgColor","backgroundColor",S)},fillColor:S=>{d("fillColor","backgroundColor",S)},fgColor:S=>{d("fgColor","color",S)},textColor:S=>{d("textColor","color",S)},borderColor:S=>{d("borderColor","borderColor",S)},strokeColor:S=>{d("strokeColor","borderColor",S)},rotation:S=>{const N=S.detail.rotation;this.setRotation(N),this.annotationStorage.setValue(this.data.id,{rotation:N})}})}_dispatchEventFromSandbox(d,S){const N=this._commonActions;for(const U of Object.keys(S.detail)){const q=d[U]||N[U];q&&q(S)}}_setDefaultPropertiesFromJS(d){if(!this.enableScripting)return;const S=this.annotationStorage.getRawValue(this.data.id);if(!S)return;const N=this._commonActions;for(const[U,q]of Object.entries(S)){const ee=N[U];ee&&(ee({detail:{[U]:q},target:d}),delete S[U])}}_createQuadrilaterals(d=!1){if(!this.data.quadPoints)return null;const S=[],N=this.data.rect;for(const U of this.data.quadPoints)this.data.rect=[U[2].x,U[2].y,U[1].x,U[1].y],S.push(this._createContainer(d));return this.data.rect=N,S}_createPopup(d,S){let N=this.container;this.quadrilaterals&&(d=d||this.quadrilaterals,N=this.quadrilaterals[0]),d||((d=document.createElement("div")).className="popupTriggerArea",N.append(d));const q=new M({container:N,trigger:d,color:S.color,titleObj:S.titleObj,modificationDate:S.modificationDate,contentsObj:S.contentsObj,richText:S.richText,hideWrapper:!0}).render();q.style.left="100%",N.append(q)}_renderQuadrilaterals(d){for(const S of this.quadrilaterals)S.className=d;return this.quadrilaterals}render(){(0,_.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(d,S=null){const N=[];if(this._fieldObjects){const U=this._fieldObjects[d];if(U)for(const{page:q,id:ee,exportValues:J}of U){if(-1===q||ee===S)continue;const oe="string"==typeof J?J:null,ae=document.querySelector(`[data-element-id="${ee}"]`);!ae||C.has(ae)?N.push({id:ee,exportValue:oe,domElement:ae}):(0,_.warn)(`_getElementsByName - element not allowed: ${ee}`)}return N}for(const U of document.getElementsByName(d)){const{id:q,exportValue:ee}=U;q!==S&&C.has(U)&&N.push({id:q,exportValue:ee,domElement:U})}return N}static get platform(){const d=typeof navigator<"u"?navigator.platform:"";return(0,_.shadow)(this,"platform",{isWin:d.includes("Win"),isMac:d.includes("Mac")})}}class b extends x{constructor(d,S=null){super(d,{isRenderable:!0,ignoreBorder:!!S?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=d.data.isTooltipOnly}render(){const{data:d,linkService:S}=this,N=document.createElement("a");N.setAttribute("data-element-id",d.id);let U=!1;return d.url?(S.addLinkAttributes(N,d.url,d.newWindow),U=!0):d.action?(this._bindNamedAction(N,d.action),U=!0):d.dest?(this._bindLink(N,d.dest),U=!0):(d.actions&&(d.actions.Action||d.actions["Mouse Up"]||d.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(N,d),U=!0),d.resetForm?(this._bindResetFormAction(N,d.resetForm),U=!0):this.isTooltipOnly&&!U&&(this._bindLink(N,""),U=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((q,ee)=>{const J=0===ee?N:N.cloneNode();return q.append(J),q}):(this.container.className="linkAnnotation",U&&this.container.append(N),this.container)}_bindLink(d,S){d.href=this.linkService.getDestinationHash(S),d.onclick=()=>(S&&this.linkService.goToDestination(S),!1),(S||""===S)&&(d.className="internalLink")}_bindNamedAction(d,S){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.linkService.executeNamedAction(S),!1),d.className="internalLink"}_bindJSAction(d,S){d.href=this.linkService.getAnchorUrl("");const N=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const U of Object.keys(S.actions)){const q=N.get(U);q&&(d[q]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S.id,name:U}}),!1))}d.onclick||(d.onclick=()=>!1),d.className="internalLink"}_bindResetFormAction(d,S){const N=d.onclick;if(N||(d.href=this.linkService.getAnchorUrl("")),d.className="internalLink",!this._fieldObjects)return(0,_.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(N||(d.onclick=()=>!1));d.onclick=()=>{N&&N();const{fields:U,refs:q,include:ee}=S,J=[];if(0!==U.length||0!==q.length){const se=new Set(q);for(const he of U){const Ce=this._fieldObjects[he]||[];for(const{id:ve}of Ce)se.add(ve)}for(const he of Object.values(this._fieldObjects))for(const Ce of he)se.has(Ce.id)===ee&&J.push(Ce)}else for(const se of Object.values(this._fieldObjects))J.push(...se);const oe=this.annotationStorage,ae=[];for(const se of J){const{id:he}=se;switch(ae.push(he),se.type){case"text":case"combobox":case"listbox":oe.setValue(he,{value:se.defaultValue||""});break;case"checkbox":case"radiobutton":oe.setValue(he,{value:se.defaultValue===se.exportValues});break;default:continue}const Ce=document.querySelector(`[data-element-id="${he}"]`);Ce&&(C.has(Ce)?Ce.dispatchEvent(new Event("resetform")):(0,_.warn)(`_bindResetFormAction - element not allowed: ${he}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ae,name:"ResetForm"}}),!1}}}class y extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str)})}render(){this.container.className="textAnnotation";const d=document.createElement("img");return d.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",d.alt="[{{type}} Annotation]",d.dataset.l10nId="text_annotation_type",d.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(d,this.data),this.container.append(d),this.container}}class m extends x{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(d){const{isWin:S,isMac:N}=x.platform;return S&&d.ctrlKey||N&&d.metaKey}_setEventListener(d,S,N,U){S.includes("mouse")?d.addEventListener(S,q=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:U(q),shift:q.shiftKey,modifier:this._getKeyModifier(q)}})}):d.addEventListener(S,q=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:U(q)}})})}_setEventListeners(d,S,N){for(const[U,q]of S)("Action"===q||this.data.actions?.[q])&&this._setEventListener(d,U,q,N)}_setBackgroundColor(d){const S=this.data.backgroundColor||null;d.style.backgroundColor=null===S?"transparent":_.Util.makeHexColor(S[0],S[1],S[2])}_setTextStyle(d){const{fontColor:N}=this.data.defaultAppearanceData,U=this.data.defaultAppearanceData.fontSize||9,q=d.style;let ee;if(this.data.multiLine){const J=Math.abs(this.data.rect[3]-this.data.rect[1]),oe=Math.round(J/(_.LINE_FACTOR*U))||1;ee=Math.min(U,Math.round(J/oe/_.LINE_FACTOR))}else{const J=Math.abs(this.data.rect[3]-this.data.rect[1]);ee=Math.min(U,Math.round(J/_.LINE_FACTOR))}q.fontSize=`calc(${ee}px * var(--scale-factor))`,q.color=_.Util.makeHexColor(N[0],N[1],N[2]),null!==this.data.textAlignment&&(q.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(d,S){S?d.setAttribute("required",!0):d.removeAttribute("required"),d.setAttribute("aria-required",S)}}class O extends m{constructor(d){super(d,{isRenderable:d.renderForms||!d.data.hasAppearance&&!!d.data.fieldValue})}setPropertyOnSiblings(d,S,N,U){const q=this.annotationStorage;for(const ee of this._getElementsByName(d.name,d.id))ee.domElement&&(ee.domElement[S]=N),q.setValue(ee.id,{[U]:N})}render(){const d=this.annotationStorage,S=this.data.id;this.container.className="textWidgetAnnotation";let N=null;if(this.renderForms){const U=d.getValue(S,{value:this.data.fieldValue});let q=U.formattedValue||U.value||"";const ee=d.getValue(S,{charLimit:this.data.maxLen}).charLimit;ee&&q.length>ee&&(q=q.slice(0,ee));const J={userValue:q,formattedValue:null,valueOnFocus:""};this.data.multiLine?(N=document.createElement("textarea"),N.textContent=q,this.data.doNotScroll&&(N.style.overflowY="hidden")):(N=document.createElement("input"),N.type="text",N.setAttribute("value",q),this.data.doNotScroll&&(N.style.overflowX="hidden")),C.add(N),N.setAttribute("data-element-id",S),N.disabled=this.data.readOnly,N.name=this.data.fieldName,N.tabIndex=F,this._setRequired(N,this.data.required),ee&&(N.maxLength=ee),N.addEventListener("input",ae=>{d.setValue(S,{value:ae.target.value}),this.setPropertyOnSiblings(N,"value",ae.target.value,"value")}),N.addEventListener("resetform",ae=>{N.value=J.userValue=this.data.defaultFieldValue??"",J.formattedValue=null});let oe=ae=>{const{formattedValue:se}=J;null!=se&&(ae.target.value=se),ae.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){N.addEventListener("focus",se=>{J.userValue&&(se.target.value=J.userValue),J.valueOnFocus=se.target.value}),N.addEventListener("updatefromsandbox",se=>{this._dispatchEventFromSandbox({value(Ce){J.userValue=Ce.detail.value??"",d.setValue(S,{value:J.userValue.toString()}),Ce.target.value=J.userValue},formattedValue(Ce){const{formattedValue:ve}=Ce.detail;J.formattedValue=ve,null!=ve&&Ce.target!==document.activeElement&&(Ce.target.value=ve),d.setValue(S,{formattedValue:ve})},selRange(Ce){Ce.target.setSelectionRange(...Ce.detail.selRange)},charLimit:Ce=>{const{charLimit:ve}=Ce.detail,{target:Ae}=Ce;if(0===ve)return void Ae.removeAttribute("maxLength");Ae.setAttribute("maxLength",ve);let ce=J.userValue;!ce||ce.length<=ve||(ce=ce.slice(0,ve),Ae.value=J.userValue=ce,d.setValue(S,{value:ce}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:ce,willCommit:!0,commitKey:1,selStart:Ae.selectionStart,selEnd:Ae.selectionEnd}}))}},se)}),N.addEventListener("keydown",se=>{let he=-1;if("Escape"===se.key?he=0:"Enter"===se.key?he=2:"Tab"===se.key&&(he=3),-1===he)return;const{value:Ce}=se.target;J.valueOnFocus!==Ce&&(J.userValue=Ce,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:Ce,willCommit:!0,commitKey:he,selStart:se.target.selectionStart,selEnd:se.target.selectionEnd}}))});const ae=oe;oe=null,N.addEventListener("blur",se=>{const{value:he}=se.target;J.userValue=he,this._mouseState.isDown&&J.valueOnFocus!==he&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:he,willCommit:!0,commitKey:1,selStart:se.target.selectionStart,selEnd:se.target.selectionEnd}}),ae(se)}),this.data.actions?.Keystroke&&N.addEventListener("beforeinput",se=>{const{data:he,target:Ce}=se,{value:ve,selectionStart:Ae,selectionEnd:ce}=Ce;let me=Ae,Se=ce;switch(se.inputType){case"deleteWordBackward":{const ge=ve.substring(0,Ae).match(/\w*[^\w]*$/);ge&&(me-=ge[0].length);break}case"deleteWordForward":{const ge=ve.substring(Ae).match(/^[^\w]*\w*/);ge&&(Se+=ge[0].length);break}case"deleteContentBackward":Ae===ce&&(me-=1);break;case"deleteContentForward":Ae===ce&&(Se+=1)}se.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:ve,change:he||"",willCommit:!1,selStart:me,selEnd:Se}})}),this._setEventListeners(N,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],se=>se.target.value)}if(oe&&N.addEventListener("blur",oe),this.data.comb){const se=(this.data.rect[2]-this.data.rect[0])/ee;N.classList.add("comb"),N.style.letterSpacing=`calc(${se}px * var(--scale-factor) - 1ch)`}}else N=document.createElement("div"),N.textContent=this.data.fieldValue,N.style.verticalAlign="middle",N.style.display="table-cell";return this._setTextStyle(N),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class I extends m{constructor(d){super(d,{isRenderable:d.renderForms})}render(){const d=this.annotationStorage,S=this.data,N=S.id;let U=d.getValue(N,{value:S.exportValue===S.fieldValue}).value;"string"==typeof U&&(U="Off"!==U,d.setValue(N,{value:U})),this.container.className="buttonWidgetAnnotation checkBox";const q=document.createElement("input");return C.add(q),q.setAttribute("data-element-id",N),q.disabled=S.readOnly,this._setRequired(q,this.data.required),q.type="checkbox",q.name=S.fieldName,U&&q.setAttribute("checked",!0),q.setAttribute("exportValue",S.exportValue),q.tabIndex=F,q.addEventListener("change",ee=>{const{name:J,checked:oe}=ee.target;for(const ae of this._getElementsByName(J,N)){const se=oe&&ae.exportValue===S.exportValue;ae.domElement&&(ae.domElement.checked=se),d.setValue(ae.id,{value:se})}d.setValue(N,{value:oe})}),q.addEventListener("resetform",ee=>{ee.target.checked=(S.defaultFieldValue||"Off")===S.exportValue}),this.enableScripting&&this.hasJSActions&&(q.addEventListener("updatefromsandbox",ee=>{this._dispatchEventFromSandbox({value(oe){oe.target.checked="Off"!==oe.detail.value,d.setValue(N,{value:oe.target.checked})}},ee)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ee=>ee.target.checked)),this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class T extends m{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const d=this.annotationStorage,S=this.data,N=S.id;let U=d.getValue(N,{value:S.fieldValue===S.buttonValue}).value;"string"==typeof U&&(U=U!==S.buttonValue,d.setValue(N,{value:U}));const q=document.createElement("input");if(C.add(q),q.setAttribute("data-element-id",N),q.disabled=S.readOnly,this._setRequired(q,this.data.required),q.type="radio",q.name=S.fieldName,U&&q.setAttribute("checked",!0),q.tabIndex=F,q.addEventListener("change",ee=>{const{name:J,checked:oe}=ee.target;for(const ae of this._getElementsByName(J,N))d.setValue(ae.id,{value:!1});d.setValue(N,{value:oe})}),q.addEventListener("resetform",ee=>{const J=S.defaultFieldValue;ee.target.checked=null!=J&&J===S.buttonValue}),this.enableScripting&&this.hasJSActions){const ee=S.buttonValue;q.addEventListener("updatefromsandbox",J=>{this._dispatchEventFromSandbox({value:ae=>{const se=ee===ae.detail.value;for(const he of this._getElementsByName(ae.target.name)){const Ce=se&&he.id===N;he.domElement&&(he.domElement.checked=Ce),d.setValue(he.id,{value:Ce})}}},J)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.checked)}return this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class A extends b{constructor(d){super(d,{ignoreBorder:d.data.hasAppearance})}render(){const d=super.render();d.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(d.title=this.data.alternativeText);const S=d.lastChild;return this.enableScripting&&this.hasJSActions&&S&&(this._setDefaultPropertiesFromJS(S),S.addEventListener("updatefromsandbox",N=>{this._dispatchEventFromSandbox({},N)})),d}}class c extends m{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const d=this.annotationStorage,S=this.data.id,N=d.getValue(S,{value:this.data.fieldValue}),U=document.createElement("select");C.add(U),U.setAttribute("data-element-id",S),U.disabled=this.data.readOnly,this._setRequired(U,this.data.required),U.name=this.data.fieldName,U.tabIndex=F;let q=this.data.combo&&this.data.options.length>0;this.data.combo||(U.size=this.data.options.length,this.data.multiSelect&&(U.multiple=!0)),U.addEventListener("resetform",ae=>{const se=this.data.defaultFieldValue;for(const he of U.options)he.selected=he.value===se});for(const ae of this.data.options){const se=document.createElement("option");se.textContent=ae.displayValue,se.value=ae.exportValue,N.value.includes(ae.exportValue)&&(se.setAttribute("selected",!0),q=!1),U.append(se)}let ee=null;if(q){const ae=document.createElement("option");ae.value=" ",ae.setAttribute("hidden",!0),ae.setAttribute("selected",!0),U.prepend(ae),ee=()=>{ae.remove(),U.removeEventListener("input",ee),ee=null},U.addEventListener("input",ee)}const J=(ae,se)=>{const he=se?"value":"textContent",Ce=ae.target.options;return ae.target.multiple?Array.prototype.filter.call(Ce,ve=>ve.selected).map(ve=>ve[he]):-1===Ce.selectedIndex?null:Ce[Ce.selectedIndex][he]},oe=ae=>Array.prototype.map.call(ae.target.options,he=>({displayValue:he.textContent,exportValue:he.value}));return this.enableScripting&&this.hasJSActions?(U.addEventListener("updatefromsandbox",ae=>{this._dispatchEventFromSandbox({value(he){ee?.();const Ce=he.detail.value,ve=new Set(Array.isArray(Ce)?Ce:[Ce]);for(const Ae of U.options)Ae.selected=ve.has(Ae.value);d.setValue(S,{value:J(he,!0)})},multipleSelection(he){U.multiple=!0},remove(he){const Ce=U.options,ve=he.detail.remove;Ce[ve].selected=!1,U.remove(ve),Ce.length>0&&-1===Array.prototype.findIndex.call(Ce,ce=>ce.selected)&&(Ce[0].selected=!0),d.setValue(S,{value:J(he,!0),items:oe(he)})},clear(he){for(;0!==U.length;)U.remove(0);d.setValue(S,{value:null,items:[]})},insert(he){const{index:Ce,displayValue:ve,exportValue:Ae}=he.detail.insert,ce=U.children[Ce],me=document.createElement("option");me.textContent=ve,me.value=Ae,ce?ce.before(me):U.append(me),d.setValue(S,{value:J(he,!0),items:oe(he)})},items(he){const{items:Ce}=he.detail;for(;0!==U.length;)U.remove(0);for(const ve of Ce){const{displayValue:Ae,exportValue:ce}=ve,me=document.createElement("option");me.textContent=Ae,me.value=ce,U.append(me)}U.options.length>0&&(U.options[0].selected=!0),d.setValue(S,{value:J(he,!0),items:oe(he)})},indices(he){const Ce=new Set(he.detail.indices);for(const ve of he.target.options)ve.selected=Ce.has(ve.index);d.setValue(S,{value:J(he,!0)})},editable(he){he.target.disabled=!he.detail.editable}},ae)}),U.addEventListener("input",ae=>{const se=J(ae,!0),he=J(ae,!1);d.setValue(S,{value:se}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:he,changeEx:se,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(U,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ae=>ae.target.checked)):U.addEventListener("input",function(ae){d.setValue(S,{value:J(ae,!0)})}),this.data.combo&&this._setTextStyle(U),this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.append(U),this.container}}class p extends x{constructor(d){super(d,{isRenderable:!!(d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const N=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===N.length)return this.container;const U=new M({container:this.container,trigger:Array.from(N),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),q=this.page,ee=_.Util.normalizeRect([this.data.parentRect[0],q.view[3]-this.data.parentRect[1]+q.view[1],this.data.parentRect[2],q.view[3]-this.data.parentRect[3]+q.view[1]]),J=ee[0]+this.data.parentRect[2]-this.data.parentRect[0],oe=ee[1],[ae,se,he,Ce]=this.viewport.viewBox,Ae=Ce-se;return this.container.style.left=100*(J-ae)/(he-ae)+"%",this.container.style.top=100*(oe-se)/Ae+"%",this.container.append(U.render()),this.container}}class M{constructor(d){this.container=d.container,this.trigger=d.trigger,this.color=d.color,this.titleObj=d.titleObj,this.modificationDate=d.modificationDate,this.contentsObj=d.contentsObj,this.richText=d.richText,this.hideWrapper=d.hideWrapper||!1,this.pinned=!1}render(){const S=document.createElement("div");S.className="popupWrapper",this.hideElement=this.hideWrapper?S:this.container,this.hideElement.hidden=!0;const N=document.createElement("div");N.className="popup";const U=this.color;U&&(N.style.backgroundColor=_.Util.makeHexColor(0|.7*(255-U[0])+U[0],0|.7*(255-U[1])+U[1],0|.7*(255-U[2])+U[2]));const q=document.createElement("h1");q.dir=this.titleObj.dir,q.textContent=this.titleObj.str,N.append(q);const ee=L.PDFDateString.toDateObject(this.modificationDate);if(ee){const J=document.createElement("span");J.className="popupDate",J.textContent="{{date}}, {{time}}",J.dataset.l10nId="annotation_date_string",J.dataset.l10nArgs=JSON.stringify({date:ee.toLocaleDateString(),time:ee.toLocaleTimeString()}),N.append(J)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const J=this._formatContents(this.contentsObj);N.append(J)}else ne.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:N}),N.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const J of this.trigger)J.addEventListener("click",this._toggle.bind(this)),J.addEventListener("mouseover",this._show.bind(this,!1)),J.addEventListener("mouseout",this._hide.bind(this,!1));return N.addEventListener("click",this._hide.bind(this,!0)),S.append(N),S}_formatContents({str:d,dir:S}){const N=document.createElement("p");N.className="popupContent",N.dir=S;const U=d.split(/(?:\r\n?|\n)/);for(let q=0,ee=U.length;q<ee;++q)N.append(document.createTextNode(U[q])),q<ee-1&&N.append(document.createElement("br"));return N}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(d=!1){d&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(d=!0){d&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class H extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.textContent=d.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const d=document.createElement("div");d.className="annotationTextContent",d.setAttribute("role","comment");for(const S of this.textContent){const N=document.createElement("span");N.textContent=S,d.append(N)}this.container.append(d)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class G extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const d=this.data,{width:S,height:N}=h(d.rect),U=this.svgFactory.create(S,N,!0),q=this.svgFactory.createElement("svg:line");return q.setAttribute("x1",d.rect[2]-d.lineCoordinates[0]),q.setAttribute("y1",d.rect[3]-d.lineCoordinates[1]),q.setAttribute("x2",d.rect[2]-d.lineCoordinates[2]),q.setAttribute("y2",d.rect[3]-d.lineCoordinates[3]),q.setAttribute("stroke-width",d.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),U.append(q),this.container.append(U),this._createPopup(q,d),this.container}}class Y extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const d=this.data,{width:S,height:N}=h(d.rect),U=this.svgFactory.create(S,N,!0),q=d.borderStyle.width,ee=this.svgFactory.createElement("svg:rect");return ee.setAttribute("x",q/2),ee.setAttribute("y",q/2),ee.setAttribute("width",S-q),ee.setAttribute("height",N-q),ee.setAttribute("stroke-width",q||1),ee.setAttribute("stroke","transparent"),ee.setAttribute("fill","transparent"),U.append(ee),this.container.append(U),this._createPopup(ee,d),this.container}}class W extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const d=this.data,{width:S,height:N}=h(d.rect),U=this.svgFactory.create(S,N,!0),q=d.borderStyle.width,ee=this.svgFactory.createElement("svg:ellipse");return ee.setAttribute("cx",S/2),ee.setAttribute("cy",N/2),ee.setAttribute("rx",S/2-q/2),ee.setAttribute("ry",N/2-q/2),ee.setAttribute("stroke-width",q||1),ee.setAttribute("stroke","transparent"),ee.setAttribute("fill","transparent"),U.append(ee),this.container.append(U),this._createPopup(ee,d),this.container}}class le extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const d=this.data,{width:S,height:N}=h(d.rect),U=this.svgFactory.create(S,N,!0);let q=[];for(const J of d.vertices)q.push(J.x-d.rect[0]+","+(d.rect[3]-J.y));q=q.join(" ");const ee=this.svgFactory.createElement(this.svgElementName);return ee.setAttribute("points",q),ee.setAttribute("stroke-width",d.borderStyle.width||1),ee.setAttribute("stroke","transparent"),ee.setAttribute("fill","transparent"),U.append(ee),this.container.append(U),this._createPopup(ee,d),this.container}}class ie extends le{constructor(d){super(d),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class k extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class z extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const d=this.data,{width:S,height:N}=h(d.rect),U=this.svgFactory.create(S,N,!0);for(const q of d.inkLists){let ee=[];for(const oe of q)ee.push(`${oe.x-d.rect[0]},${d.rect[3]-oe.y}`);ee=ee.join(" ");const J=this.svgFactory.createElement(this.svgElementName);J.setAttribute("points",ee),J.setAttribute("stroke-width",d.borderStyle.width||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),this._createPopup(J,d),U.append(J)}return this.container.append(U),this.container}}class X extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class V extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class B extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class D extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class g extends x{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class w extends x{constructor(d){super(d,{isRenderable:!0});const{filename:S,content:N}=this.data.file;this.filename=(0,L.getFilenameFromUrl)(S),this.content=N,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:S,content:N})}render(){this.container.className="fileAttachmentAnnotation";const d=document.createElement("div");return d.className="popupTriggerArea",d.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(d,this.data),this.container.append(d),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class j{static#e(d,S,N,U){const q=d.firstChild||d;q.id=`${L.AnnotationPrefix}${S}`,N.append(d),U?.moveElementInDOM(N,d,q,!1)}static render(d){const{annotations:S,div:N,viewport:U,accessibilityManager:q}=d;this.#t(N,U);let ee=0;for(const J of S){if(J.annotationType!==_.AnnotationType.POPUP){const{width:ae,height:se}=h(J.rect);if(ae<=0||se<=0)continue}const oe=v.create({data:J,layer:N,page:d.page,viewport:U,linkService:d.linkService,downloadManager:d.downloadManager,imageResourcesPath:d.imageResourcesPath||"",renderForms:!1!==d.renderForms,svgFactory:new L.DOMSVGFactory,annotationStorage:d.annotationStorage||new te.AnnotationStorage,enableScripting:d.enableScripting,hasJSActions:d.hasJSActions,fieldObjects:d.fieldObjects,mouseState:d.mouseState||{isDown:!1}});if(oe.isRenderable){const ae=oe.render();if(J.hidden&&(ae.style.visibility="hidden"),Array.isArray(ae))for(const se of ae)se.style.zIndex=ee++,j.#e(se,J.id,N,q);else ae.style.zIndex=ee++,oe instanceof p?N.prepend(ae):j.#e(ae,J.id,N,q)}}this.#n(N,d.annotationCanvasMap)}static update(d){const{annotationCanvasMap:S,div:N,viewport:U}=d;this.#t(N,U),this.#n(N,S),N.hidden=!1}static#t(d,{width:S,height:N,rotation:U}){const{style:q}=d,ee=U%180!=0,J=Math.floor(S)+"px",oe=Math.floor(N)+"px";q.width=ee?oe:J,q.height=ee?J:oe,d.setAttribute("data-main-rotation",U)}static#n(d,S){if(S){for(const[N,U]of S){const q=d.querySelector(`[data-annotation-id="${N}"]`);if(!q)continue;const{firstChild:ee}=q;ee?"CANVAS"===ee.nodeName?ee.replaceWith(U):ee.before(U):q.append(U)}S.clear()}}}E.AnnotationLayer=j},(pe,E)=>{function K(L){return Math.floor(255*Math.max(0,Math.min(1,L))).toString(16).padStart(2,"0")}Object.defineProperty(E,"__esModule",{value:!0}),E.ColorConverters=void 0,E.ColorConverters=class _{static CMYK_G([te,Q,ne,F]){return["G",1-Math.min(1,.3*te+.59*ne+.11*Q+F)]}static G_CMYK([te]){return["CMYK",0,0,0,1-te]}static G_RGB([te]){return["RGB",te,te,te]}static G_HTML([te]){const Q=K(te);return`#${Q}${Q}${Q}`}static RGB_G([te,Q,ne]){return["G",.3*te+.59*Q+.11*ne]}static RGB_HTML([te,Q,ne]){return`#${K(te)}${K(Q)}${K(ne)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([te,Q,ne,F]){return["RGB",1-Math.min(1,te+F),1-Math.min(1,ne+F),1-Math.min(1,Q+F)]}static CMYK_HTML(te){const Q=this.CMYK_RGB(te).slice(1);return this.RGB_HTML(Q)}static RGB_CMYK([te,Q,ne]){const F=1-te,f=1-Q,C=1-ne;return["CMYK",F,f,C,Math.min(F,f,C)]}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XfaLayer=void 0;var _=K(20);E.XfaLayer=class L{static setupStorage(Q,ne,F,f,C){const h=f.getValue(ne,{value:null});switch(F.name){case"textarea":if(null!==h.value&&(Q.textContent=h.value),"print"===C)break;Q.addEventListener("input",v=>{f.setValue(ne,{value:v.target.value})});break;case"input":if("radio"===F.attributes.type||"checkbox"===F.attributes.type){if(h.value===F.attributes.xfaOn?Q.setAttribute("checked",!0):h.value===F.attributes.xfaOff&&Q.removeAttribute("checked"),"print"===C)break;Q.addEventListener("change",v=>{f.setValue(ne,{value:v.target.getAttribute(v.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==h.value&&Q.setAttribute("value",h.value),"print"===C)break;Q.addEventListener("input",v=>{f.setValue(ne,{value:v.target.value})})}break;case"select":if(null!==h.value)for(const v of F.children)v.attributes.value===h.value&&(v.attributes.selected=!0);Q.addEventListener("input",v=>{const x=v.target.options;f.setValue(ne,{value:-1===x.selectedIndex?"":x[x.selectedIndex].value})})}}static setAttributes({html:Q,element:ne,storage:F=null,intent:f,linkService:C}){const{attributes:h}=ne,v=Q instanceof HTMLAnchorElement;"radio"===h.type&&(h.name=`${h.name}-${f}`);for(const[x,b]of Object.entries(h))if(null!=b)switch(x){case"class":b.length&&Q.setAttribute(x,b.join(" "));break;case"dataId":break;case"id":Q.setAttribute("data-element-id",b);break;case"style":Object.assign(Q.style,b);break;case"textContent":Q.textContent=b;break;default:(!v||"href"!==x&&"newWindow"!==x)&&Q.setAttribute(x,b)}v&&C.addLinkAttributes(Q,h.href,h.newWindow),F&&h.dataId&&this.setupStorage(Q,h.dataId,ne,F)}static render(Q){const ne=Q.annotationStorage,F=Q.linkService,f=Q.xfaHtml,C=Q.intent||"display",h=document.createElement(f.name);f.attributes&&this.setAttributes({html:h,element:f,intent:C,linkService:F});const v=[[f,-1,h]],x=Q.div;if(x.append(h),Q.viewport){const y=`matrix(${Q.viewport.transform.join(",")})`;x.style.transform=y}"richText"!==C&&x.setAttribute("class","xfaLayer xfaFont");const b=[];for(;v.length>0;){const[y,m,O]=v.at(-1);if(m+1===y.children.length){v.pop();continue}const I=y.children[++v.at(-1)[1]];if(null===I)continue;const{name:T}=I;if("#text"===T){const c=document.createTextNode(I.value);b.push(c),O.append(c);continue}let A;if(A=I?.attributes?.xmlns?document.createElementNS(I.attributes.xmlns,T):document.createElement(T),O.append(A),I.attributes&&this.setAttributes({html:A,element:I,storage:ne,intent:C,linkService:F}),I.children&&I.children.length>0)v.push([I,-1,A]);else if(I.value){const c=document.createTextNode(I.value);_.XfaText.shouldBuildText(T)&&b.push(c),A.append(c)}}for(const y of x.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:b}}static update(Q){const ne=`matrix(${Q.viewport.transform.join(",")})`;Q.div.style.transform=ne,Q.div.hidden=!1}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.TextLayerRenderTask=void 0,E.renderTextLayer=function I(T){const A=new O({textContent:T.textContent,textContentStream:T.textContentStream,container:T.container,viewport:T.viewport,textDivs:T.textDivs,textContentItemsStr:T.textContentItemsStr,enhanceTextSelection:T.enhanceTextSelection});return A._render(T.timeout),A};var _=K(1),L=K(8);const Q=30,F=new Map,f=/^\s+$/g;function h(T,A,c,p){const M=document.createElement("span"),H=T._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==A.str,hasEOL:A.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==A.str,hasEOL:A.hasEOL,fontSize:0};T._textDivs.push(M);const G=_.Util.transform(T._viewport.transform,A.transform);let Y=Math.atan2(G[1],G[0]);const W=c[A.fontName];W.vertical&&(Y+=Math.PI/2);const le=Math.hypot(G[2],G[3]),ie=le*function C(T,A){const c=F.get(T);if(c)return c;A.save(),A.font=`30px ${T}`;const p=A.measureText("");let M=p.fontBoundingBoxAscent,H=Math.abs(p.fontBoundingBoxDescent);if(M){A.restore();const Y=M/(M+H);return F.set(T,Y),Y}A.strokeStyle="red",A.clearRect(0,0,Q,Q),A.strokeText("g",0,0);let G=A.getImageData(0,0,Q,Q).data;H=0;for(let Y=G.length-1-3;Y>=0;Y-=4)if(G[Y]>0){H=Math.ceil(Y/4/Q);break}A.clearRect(0,0,Q,Q),A.strokeText("A",0,Q),G=A.getImageData(0,0,Q,Q).data,M=0;for(let Y=0,W=G.length;Y<W;Y+=4)if(G[Y]>0){M=Q-Math.floor(Y/4/Q);break}if(A.restore(),M){const Y=M/(M+H);return F.set(T,Y),Y}return F.set(T,.8),.8}(W.fontFamily,p);let k,z;0===Y?(k=G[4],z=G[5]-ie):(k=G[4]+ie*Math.sin(Y),z=G[5]-ie*Math.cos(Y)),M.style.left=`${k}px`,M.style.top=`${z}px`,M.style.fontSize=`${le}px`,M.style.fontFamily=W.fontFamily,H.fontSize=le,M.setAttribute("role","presentation"),M.textContent=A.str,M.dir=A.dir,T._fontInspectorEnabled&&(M.dataset.fontName=A.fontName),0!==Y&&(H.angle=Y*(180/Math.PI));let X=!1;if(A.str.length>1||T._enhanceTextSelection&&f.test(A.str))X=!0;else if(" "!==A.str&&A.transform[0]!==A.transform[3]){const V=Math.abs(A.transform[0]),B=Math.abs(A.transform[3]);V!==B&&Math.max(V,B)/Math.min(V,B)>1.5&&(X=!0)}if(X&&(H.canvasWidth=W.vertical?A.height*T._viewport.scale:A.width*T._viewport.scale),T._textDivProperties.set(M,H),T._textContentStream&&T._layoutText(M),T._enhanceTextSelection&&H.hasText){let V=1,B=0;0!==Y&&(V=Math.cos(Y),B=Math.sin(Y));const D=(W.vertical?A.height:A.width)*T._viewport.scale,g=le;let w,j;0!==Y?(w=[V,B,-B,V,k,z],j=_.Util.getAxialAlignedBoundingBox([0,0,D,g],w)):j=[k,z,k+D,z+g],T._bounds.push({left:j[0],top:j[1],right:j[2],bottom:j[3],div:M,size:[D,g],m:w})}}function v(T){if(T._canceled)return;const A=T._textDivs,c=T._capability,p=A.length;if(p>1e5)return T._renderingDone=!0,void c.resolve();if(!T._textContentStream)for(let M=0;M<p;M++)T._layoutText(A[M]);T._renderingDone=!0,c.resolve()}function x(T,A,c){let p=0;for(let M=0;M<c;M++){const H=T[A++];H>0&&(p=p?Math.min(H,p):H)}return p}function m(T,A){A.sort(function(M,H){return M.x1-H.x1||M.index-H.index});const p=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const M of A){let H=0;for(;H<p.length&&p[H].end<=M.y1;)H++;let G=p.length-1;for(;G>=0&&p[G].start>=M.y2;)G--;let Y,W,le,ie,k=-1/0;for(le=H;le<=G;le++){let V;Y=p[le],W=Y.boundary,V=W.x2>M.x1?W.index>M.index?W.x1New:M.x1:void 0===W.x2New?(W.x2+M.x1)/2:W.x2New,V>k&&(k=V)}for(M.x1New=k,le=H;le<=G;le++)Y=p[le],W=Y.boundary,void 0===W.x2New?W.x2>M.x1?W.index>M.index&&(W.x2New=W.x2):W.x2New=k:W.x2New>k&&(W.x2New=Math.max(k,W.x2));const z=[];let X=null;for(le=H;le<=G;le++){Y=p[le],W=Y.boundary;const V=W.x2>M.x2?W:M;X===V?z.at(-1).end=Y.end:(z.push({start:Y.start,end:Y.end,boundary:V}),X=V)}for(p[H].start<M.y1&&(z[0].start=M.y1,z.unshift({start:p[H].start,end:M.y1,boundary:p[H].boundary})),M.y2<p[G].end&&(z.at(-1).end=M.y2,z.push({start:M.y2,end:p[G].end,boundary:p[G].boundary})),le=H;le<=G;le++){if(Y=p[le],W=Y.boundary,void 0!==W.x2New)continue;let V=!1;for(ie=H-1;!V&&ie>=0&&p[ie].start>=W.y1;ie--)V=p[ie].boundary===W;for(ie=G+1;!V&&ie<p.length&&p[ie].end<=W.y2;ie++)V=p[ie].boundary===W;for(ie=0;!V&&ie<z.length;ie++)V=z[ie].boundary===W;V||(W.x2New=k)}Array.prototype.splice.apply(p,[H,G-H+1,...z])}for(const M of p){const H=M.boundary;void 0===H.x2New&&(H.x2New=Math.max(T,H.x2))}}class O{constructor({textContent:A,textContentStream:c,container:p,viewport:M,textDivs:H,textContentItemsStr:G,enhanceTextSelection:Y}){Y&&(0,L.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=A,this._textContentStream=c,this._container=p,this._document=p.ownerDocument,this._viewport=M,this._textDivs=H||[],this._textContentItemsStr=G||[],this._enhanceTextSelection=!!Y,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(A,c){for(let p=0,M=A.length;p<M;p++)if(void 0!==A[p].str)this._textContentItemsStr.push(A[p].str),h(this,A[p],c,this._layoutTextCtx);else if("beginMarkedContentProps"===A[p].type||"beginMarkedContent"===A[p].type){const H=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==A[p].id&&this._container.setAttribute("id",`${A[p].id}`),H.append(this._container)}else"endMarkedContent"===A[p].type&&(this._container=this._container.parentNode)}_layoutText(A){const c=this._textDivProperties.get(A);let p="";if(0!==c.canvasWidth&&c.hasText){const{fontFamily:M}=A.style,{fontSize:H}=c;(H!==this._layoutTextLastFontSize||M!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${H*this._devicePixelRatio}px ${M}`,this._layoutTextLastFontSize=H,this._layoutTextLastFontFamily=M);const{width:G}=this._layoutTextCtx.measureText(A.textContent);if(G>0){const Y=this._devicePixelRatio*c.canvasWidth/G;this._enhanceTextSelection&&(c.scale=Y),p=`scaleX(${Y})`}}if(0!==c.angle&&(p=`rotate(${c.angle}deg) ${p}`),p.length>0&&(this._enhanceTextSelection&&(c.originalTransform=p),A.style.transform=p),c.hasText&&this._container.append(A),c.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),this._container.append(M)}}_render(A=0){const c=(0,_.createPromiseCapability)();let p=Object.create(null);const M=this._document.createElement("canvas");if(M.height=M.width=Q,this._layoutTextCtx=M.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),c.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const H=()=>{this._reader.read().then(({value:G,done:Y})=>{Y?c.resolve():(Object.assign(p,G.styles),this._processItems(G.items,p),H())},c.reject)};this._reader=this._textContentStream.getReader(),H()}}c.promise.then(()=>{p=null,A?this._renderTimer=setTimeout(()=>{v(this),this._renderTimer=null},A):v(this)},this._capability.reject)}expandTextDivs(A=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function b(T){const A=T._bounds,c=T._viewport,p=function y(T,A,c){const p=c.map(function(H,G){return{x1:H.left,y1:H.top,x2:H.right,y2:H.bottom,index:G,x1New:void 0,x2New:void 0}});m(T,p);const M=new Array(c.length);for(const H of p)M[H.index]={left:H.x1New,top:0,right:H.x2New,bottom:0};c.map(function(H,G){const Y=M[G],W=p[G];W.x1=H.top,W.y1=T-Y.right,W.x2=H.bottom,W.y2=T-Y.left,W.index=G,W.x1New=void 0,W.x2New=void 0}),m(A,p);for(const H of p){const G=H.index;M[G].top=H.x1New,M[G].bottom=H.x2New}return M}(c.width,c.height,A);for(let M=0;M<p.length;M++){const H=A[M].div,G=T._textDivProperties.get(H);if(0===G.angle){G.paddingLeft=A[M].left-p[M].left,G.paddingTop=A[M].top-p[M].top,G.paddingRight=p[M].right-A[M].right,G.paddingBottom=p[M].bottom-A[M].bottom,T._textDivProperties.set(H,G);continue}const Y=p[M],W=A[M],le=W.m,ie=le[0],k=le[1],z=[[0,0],[0,W.size[1]],[W.size[0],0],W.size],X=new Float64Array(64);for(let B=0,D=z.length;B<D;B++){const g=_.Util.applyTransform(z[B],le);X[B+0]=ie&&(Y.left-g[0])/ie,X[B+4]=k&&(Y.top-g[1])/k,X[B+8]=ie&&(Y.right-g[0])/ie,X[B+12]=k&&(Y.bottom-g[1])/k,X[B+16]=k&&(Y.left-g[0])/-k,X[B+20]=ie&&(Y.top-g[1])/ie,X[B+24]=k&&(Y.right-g[0])/-k,X[B+28]=ie&&(Y.bottom-g[1])/ie,X[B+32]=ie&&(Y.left-g[0])/-ie,X[B+36]=k&&(Y.top-g[1])/-k,X[B+40]=ie&&(Y.right-g[0])/-ie,X[B+44]=k&&(Y.bottom-g[1])/-k,X[B+48]=k&&(Y.left-g[0])/k,X[B+52]=ie&&(Y.top-g[1])/-ie,X[B+56]=k&&(Y.right-g[0])/k,X[B+60]=ie&&(Y.bottom-g[1])/-ie}const V=1+Math.min(Math.abs(ie),Math.abs(k));G.paddingLeft=x(X,32,16)/V,G.paddingTop=x(X,48,16)/V,G.paddingRight=x(X,0,16)/V,G.paddingBottom=x(X,16,16)/V,T._textDivProperties.set(H,G)}}(this),this._bounds=null);const c=[],p=[];for(let M=0,H=this._textDivs.length;M<H;M++){const G=this._textDivs[M],Y=this._textDivProperties.get(G);Y.hasText&&(A?(c.length=0,p.length=0,Y.originalTransform&&c.push(Y.originalTransform),Y.paddingTop>0?(p.push(`${Y.paddingTop}px`),c.push(`translateY(${-Y.paddingTop}px)`)):p.push(0),p.push(Y.paddingRight>0?Y.paddingRight/Y.scale+"px":0),p.push(Y.paddingBottom>0?`${Y.paddingBottom}px`:0),Y.paddingLeft>0?(p.push(Y.paddingLeft/Y.scale+"px"),c.push(`translateX(${-Y.paddingLeft/Y.scale}px)`)):p.push(0),G.style.padding=p.join(" "),c.length&&(G.style.transform=c.join(" "))):(G.style.padding=null,G.style.transform=Y.originalTransform))}}}E.TextLayerRenderTask=O},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SVGGraphics=void 0;var _=K(8),L=K(1),te=K(3);let Q=class{constructor(){(0,L.unreachable)("Not implemented: SVGGraphics")}};E.SVGGraphics=Q;{let y=function(c){let p=[];const M=[];for(const H of c)"save"!==H.fn?"restore"===H.fn?p=M.pop():p.push(H):(p.push({fnId:92,fn:"group",items:[]}),M.push(p),p=p.at(-1).items);return p},m=function(c){if(Number.isInteger(c))return c.toString();const p=c.toFixed(10);let M=p.length-1;if("0"!==p[M])return p;do{M--}while("0"===p[M]);return p.substring(0,"."===p[M]?M:M+1)},O=function(c){if(0===c[4]&&0===c[5]){if(0===c[1]&&0===c[2])return 1===c[0]&&1===c[3]?"":`scale(${m(c[0])} ${m(c[3])})`;if(c[0]===c[3]&&c[1]===-c[2]){const p=180*Math.acos(c[0])/Math.PI;return`rotate(${m(p)})`}}else if(1===c[0]&&0===c[1]&&0===c[2]&&1===c[3])return`translate(${m(c[4])} ${m(c[5])})`;return`matrix(${m(c[0])} ${m(c[1])} ${m(c[2])} ${m(c[3])} ${m(c[4])} ${m(c[5])})`};const ne={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},F="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/1999/xlink",C=["butt","round","square"],h=["miter","round","bevel"],v=function(c,p="",M=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!M)return URL.createObjectURL(new Blob([c],{type:p}));const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let G=`data:${p};base64,`;for(let Y=0,W=c.length;Y<W;Y+=3){const le=255&c[Y],ie=255&c[Y+1],k=255&c[Y+2];G+=H[le>>2]+H[(3&le)<<4|ie>>4]+H[Y+1<W?(15&ie)<<2|k>>6:64]+H[Y+2<W?63&k:64]}return G},x=function(){const c=new Uint8Array([137,80,78,71,13,10,26,10]),M=new Int32Array(256);for(let k=0;k<256;k++){let z=k;for(let X=0;X<8;X++)z=1&z?3988292384^z>>1&2147483647:z>>1&2147483647;M[k]=z}function G(k,z,X,V){let B=V;const D=z.length;X[B]=D>>24&255,X[B+1]=D>>16&255,X[B+2]=D>>8&255,X[B+3]=255&D,B+=4,X[B]=255&k.charCodeAt(0),X[B+1]=255&k.charCodeAt(1),X[B+2]=255&k.charCodeAt(2),X[B+3]=255&k.charCodeAt(3),B+=4,X.set(z,B),B+=z.length;const g=function H(k,z,X){let V=-1;for(let B=z;B<X;B++)V=V>>>8^M[255&(V^k[B])];return-1^V}(X,V+4,B);X[B]=g>>24&255,X[B+1]=g>>16&255,X[B+2]=g>>8&255,X[B+3]=255&g}function le(k){let z=k.length;const X=65535,V=Math.ceil(z/X),B=new Uint8Array(2+z+5*V+4);let D=0;B[D++]=120,B[D++]=156;let g=0;for(;z>X;)B[D++]=0,B[D++]=255,B[D++]=255,B[D++]=0,B[D++]=0,B.set(k.subarray(g,g+X),D),D+=X,g+=X,z-=X;B[D++]=1,B[D++]=255&z,B[D++]=z>>8&255,B[D++]=255&~z,B[D++]=(65535&~z)>>8&255,B.set(k.subarray(g),D),D+=k.length-g;const w=function Y(k,z,X){let V=1,B=0;for(let D=z;D<X;++D)V=(V+(255&k[D]))%65521,B=(B+V)%65521;return B<<16|V}(k,0,k.length);return B[D++]=w>>24&255,B[D++]=w>>16&255,B[D++]=w>>8&255,B[D++]=255&w,B}return function(z,X,V){return function ie(k,z,X,V){const B=k.width,D=k.height;let g,w,j;const R=k.data;switch(z){case L.ImageKind.GRAYSCALE_1BPP:w=0,g=1,j=B+7>>3;break;case L.ImageKind.RGB_24BPP:w=2,g=8,j=3*B;break;case L.ImageKind.RGBA_32BPP:w=6,g=8,j=4*B;break;default:throw new Error("invalid format")}const d=new Uint8Array((1+j)*D);let S=0,N=0;for(let ae=0;ae<D;++ae)d[S++]=0,d.set(R.subarray(N,N+j),S),N+=j,S+=j;if(z===L.ImageKind.GRAYSCALE_1BPP&&V){S=0;for(let ae=0;ae<D;ae++){S++;for(let se=0;se<j;se++)d[S++]^=255}}const U=new Uint8Array([B>>24&255,B>>16&255,B>>8&255,255&B,D>>24&255,D>>16&255,D>>8&255,255&D,g,w,0,0,0]),q=function W(k){if(!te.isNodeJS)return le(k);try{let z;z=parseInt(process.versions.node)>=8?k:Buffer.from(k);const X=__webpack_require__(258).deflateSync(z,{level:9});return X instanceof Uint8Array?X:new Uint8Array(X)}catch(z){(0,L.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+z)}return le(k)}(d),J=new Uint8Array(c.length+36+U.length+q.length);let oe=0;return J.set(c,oe),oe+=c.length,G("IHDR",U,J,oe),oe+=12+U.length,G("IDATA",q,J,oe),oe+=12+q.length,G("IEND",new Uint8Array(0),J,oe),v(J,"image/png",X)}(z,void 0===z.kind?L.ImageKind.GRAYSCALE_1BPP:z.kind,X,V)}}();class b{constructor(){this.fontSizeScale=1,this.fontWeight=ne.fontWeight,this.fontSize=0,this.textMatrix=L.IDENTITY_MATRIX,this.fontMatrix=L.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=L.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ne.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(p,M){this.x=p,this.y=M}}let I=0,T=0,A=0;E.SVGGraphics=Q=class{constructor(c,p,M=!1){(0,_.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _.DOMSVGFactory,this.current=new b,this.transformMatrix=L.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=c,this.objs=p,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!M,this._operatorIdMapping=[];for(const H in L.OPS)this._operatorIdMapping[L.OPS[H]]=H}save(){this.transformStack.push(this.transformMatrix);const c=this.current;this.extraStack.push(c),this.current=c.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(c){this.save(),this.executeOpTree(c),this.restore()}loadDependencies(c){const p=c.fnArray,M=c.argsArray;for(let H=0,G=p.length;H<G;H++)if(p[H]===L.OPS.dependency)for(const Y of M[H]){const W=Y.startsWith("g_")?this.commonObjs:this.objs,le=new Promise(ie=>{W.get(Y,ie)});this.current.dependencies.push(le)}return Promise.all(this.current.dependencies)}transform(c,p,M,H,G,Y){this.transformMatrix=L.Util.transform(this.transformMatrix,[c,p,M,H,G,Y]),this.tgrp=null}getSVG(c,p){this.viewport=p;const M=this._initialize(p);return this.loadDependencies(c).then(()=>(this.transformMatrix=L.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(c)),M))}convertOpList(c){const p=this._operatorIdMapping,M=c.argsArray,H=c.fnArray,G=[];for(let Y=0,W=H.length;Y<W;Y++){const le=H[Y];G.push({fnId:le,fn:p[le],args:M[Y]})}return y(G)}executeOpTree(c){for(const p of c){const M=p.fn,G=p.args;switch(0|p.fnId){case L.OPS.beginText:this.beginText();break;case L.OPS.dependency:break;case L.OPS.setLeading:this.setLeading(G);break;case L.OPS.setLeadingMoveText:this.setLeadingMoveText(G[0],G[1]);break;case L.OPS.setFont:this.setFont(G);break;case L.OPS.showText:case L.OPS.showSpacedText:this.showText(G[0]);break;case L.OPS.endText:this.endText();break;case L.OPS.moveText:this.moveText(G[0],G[1]);break;case L.OPS.setCharSpacing:this.setCharSpacing(G[0]);break;case L.OPS.setWordSpacing:this.setWordSpacing(G[0]);break;case L.OPS.setHScale:this.setHScale(G[0]);break;case L.OPS.setTextMatrix:this.setTextMatrix(G[0],G[1],G[2],G[3],G[4],G[5]);break;case L.OPS.setTextRise:this.setTextRise(G[0]);break;case L.OPS.setTextRenderingMode:this.setTextRenderingMode(G[0]);break;case L.OPS.setLineWidth:this.setLineWidth(G[0]);break;case L.OPS.setLineJoin:this.setLineJoin(G[0]);break;case L.OPS.setLineCap:this.setLineCap(G[0]);break;case L.OPS.setMiterLimit:this.setMiterLimit(G[0]);break;case L.OPS.setFillRGBColor:this.setFillRGBColor(G[0],G[1],G[2]);break;case L.OPS.setStrokeRGBColor:this.setStrokeRGBColor(G[0],G[1],G[2]);break;case L.OPS.setStrokeColorN:this.setStrokeColorN(G);break;case L.OPS.setFillColorN:this.setFillColorN(G);break;case L.OPS.shadingFill:this.shadingFill(G[0]);break;case L.OPS.setDash:this.setDash(G[0],G[1]);break;case L.OPS.setRenderingIntent:this.setRenderingIntent(G[0]);break;case L.OPS.setFlatness:this.setFlatness(G[0]);break;case L.OPS.setGState:this.setGState(G[0]);break;case L.OPS.fill:this.fill();break;case L.OPS.eoFill:this.eoFill();break;case L.OPS.stroke:this.stroke();break;case L.OPS.fillStroke:this.fillStroke();break;case L.OPS.eoFillStroke:this.eoFillStroke();break;case L.OPS.clip:this.clip("nonzero");break;case L.OPS.eoClip:this.clip("evenodd");break;case L.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case L.OPS.paintImageXObject:this.paintImageXObject(G[0]);break;case L.OPS.paintInlineImageXObject:this.paintInlineImageXObject(G[0]);break;case L.OPS.paintImageMaskXObject:this.paintImageMaskXObject(G[0]);break;case L.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(G[0],G[1]);break;case L.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case L.OPS.closePath:this.closePath();break;case L.OPS.closeStroke:this.closeStroke();break;case L.OPS.closeFillStroke:this.closeFillStroke();break;case L.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case L.OPS.nextLine:this.nextLine();break;case L.OPS.transform:this.transform(G[0],G[1],G[2],G[3],G[4],G[5]);break;case L.OPS.constructPath:this.constructPath(G[0],G[1]);break;case L.OPS.endPath:this.endPath();break;case 92:this.group(p.items);break;default:(0,L.warn)(`Unimplemented operator ${M}`)}}}setWordSpacing(c){this.current.wordSpacing=c}setCharSpacing(c){this.current.charSpacing=c}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(c,p,M,H,G,Y){const W=this.current;W.textMatrix=W.lineMatrix=[c,p,M,H,G,Y],W.textMatrixScale=Math.hypot(c,p),W.x=W.lineX=0,W.y=W.lineY=0,W.xcoords=[],W.ycoords=[],W.tspan=this.svgFactory.createElement("svg:tspan"),W.tspan.setAttributeNS(null,"font-family",W.fontFamily),W.tspan.setAttributeNS(null,"font-size",`${m(W.fontSize)}px`),W.tspan.setAttributeNS(null,"y",m(-W.y)),W.txtElement=this.svgFactory.createElement("svg:text"),W.txtElement.append(W.tspan)}beginText(){const c=this.current;c.x=c.lineX=0,c.y=c.lineY=0,c.textMatrix=L.IDENTITY_MATRIX,c.lineMatrix=L.IDENTITY_MATRIX,c.textMatrixScale=1,c.tspan=this.svgFactory.createElement("svg:tspan"),c.txtElement=this.svgFactory.createElement("svg:text"),c.txtgrp=this.svgFactory.createElement("svg:g"),c.xcoords=[],c.ycoords=[]}moveText(c,p){const M=this.current;M.x=M.lineX+=c,M.y=M.lineY+=p,M.xcoords=[],M.ycoords=[],M.tspan=this.svgFactory.createElement("svg:tspan"),M.tspan.setAttributeNS(null,"font-family",M.fontFamily),M.tspan.setAttributeNS(null,"font-size",`${m(M.fontSize)}px`),M.tspan.setAttributeNS(null,"y",m(-M.y))}showText(c){const p=this.current,M=p.font,H=p.fontSize;if(0===H)return;const G=p.fontSizeScale,Y=p.charSpacing,W=p.wordSpacing,le=p.fontDirection,ie=p.textHScale*le,k=M.vertical,z=k?1:-1,X=M.defaultVMetrics,V=H*p.fontMatrix[0];let B=0;for(const w of c){if(null===w){B+=le*W;continue}if("number"==typeof w){B+=z*w*H/1e3;continue}const j=(w.isSpace?W:0)+Y,R=w.fontChar;let d,S,U,N=w.width;if(k){let q;const ee=w.vmetric||X;q=w.vmetric?ee[1]:.5*N,q=-q*V,N=ee?-ee[0]:N,d=q/G,S=(B+ee[2]*V)/G}else d=B/G,S=0;(w.isInFont||M.missingFile)&&(p.xcoords.push(p.x+d),k&&p.ycoords.push(-p.y+S),p.tspan.textContent+=R),U=k?N*V-j*le:N*V+j*le,B+=U}p.tspan.setAttributeNS(null,"x",p.xcoords.map(m).join(" ")),p.tspan.setAttributeNS(null,"y",k?p.ycoords.map(m).join(" "):m(-p.y)),k?p.y-=B:p.x+=B*ie,p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${m(p.fontSize)}px`),p.fontStyle!==ne.fontStyle&&p.tspan.setAttributeNS(null,"font-style",p.fontStyle),p.fontWeight!==ne.fontWeight&&p.tspan.setAttributeNS(null,"font-weight",p.fontWeight);const D=p.textRenderingMode&L.TextRenderingMode.FILL_STROKE_MASK;D===L.TextRenderingMode.FILL||D===L.TextRenderingMode.FILL_STROKE?(p.fillColor!==ne.fillColor&&p.tspan.setAttributeNS(null,"fill",p.fillColor),p.fillAlpha<1&&p.tspan.setAttributeNS(null,"fill-opacity",p.fillAlpha)):p.tspan.setAttributeNS(null,"fill",p.textRenderingMode===L.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(D===L.TextRenderingMode.STROKE||D===L.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(p.tspan,1/(p.textMatrixScale||1));let g=p.textMatrix;0!==p.textRise&&(g=g.slice(),g[5]+=p.textRise),p.txtElement.setAttributeNS(null,"transform",`${O(g)} scale(${m(ie)}, -1)`),p.txtElement.setAttributeNS(F,"xml:space","preserve"),p.txtElement.append(p.tspan),p.txtgrp.append(p.txtElement),this._ensureTransformGroup().append(p.txtElement)}setLeadingMoveText(c,p){this.setLeading(-p),this.moveText(c,p)}addFontStyle(c){if(!c.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const p=v(c.data,c.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${c.loadedName}"; src: url(${p}); }\n`}setFont(c){const p=this.current,M=this.commonObjs.get(c[0]);let H=c[1];p.font=M,this.embedFonts&&!M.missingFile&&!this.embeddedFonts[M.loadedName]&&(this.addFontStyle(M),this.embeddedFonts[M.loadedName]=M),p.fontMatrix=M.fontMatrix||L.FONT_IDENTITY_MATRIX;let G="normal";M.black?G="900":M.bold&&(G="bold");const Y=M.italic?"italic":"normal";H<0?(H=-H,p.fontDirection=-1):p.fontDirection=1,p.fontSize=H,p.fontFamily=M.loadedName,p.fontWeight=G,p.fontStyle=Y,p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"y",m(-p.y)),p.xcoords=[],p.ycoords=[]}endText(){const c=this.current;c.textRenderingMode&L.TextRenderingMode.ADD_TO_PATH_FLAG&&c.txtElement?.hasChildNodes()&&(c.element=c.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(c){c>0&&(this.current.lineWidth=c)}setLineCap(c){this.current.lineCap=C[c]}setLineJoin(c){this.current.lineJoin=h[c]}setMiterLimit(c){this.current.miterLimit=c}setStrokeAlpha(c){this.current.strokeAlpha=c}setStrokeRGBColor(c,p,M){this.current.strokeColor=L.Util.makeHexColor(c,p,M)}setFillAlpha(c){this.current.fillAlpha=c}setFillRGBColor(c,p,M){this.current.fillColor=L.Util.makeHexColor(c,p,M),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(c){this.current.strokeColor=this._makeColorN_Pattern(c)}setFillColorN(c){this.current.fillColor=this._makeColorN_Pattern(c)}shadingFill(c){const p=this.viewport.width,M=this.viewport.height,H=L.Util.inverseTransform(this.transformMatrix),G=L.Util.applyTransform([0,0],H),Y=L.Util.applyTransform([0,M],H),W=L.Util.applyTransform([p,0],H),le=L.Util.applyTransform([p,M],H),ie=Math.min(G[0],Y[0],W[0],le[0]),k=Math.min(G[1],Y[1],W[1],le[1]),z=Math.max(G[0],Y[0],W[0],le[0]),X=Math.max(G[1],Y[1],W[1],le[1]),V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x",ie),V.setAttributeNS(null,"y",k),V.setAttributeNS(null,"width",z-ie),V.setAttributeNS(null,"height",X-k),V.setAttributeNS(null,"fill",this._makeShadingPattern(c)),this.current.fillAlpha<1&&V.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(V)}_makeColorN_Pattern(c){return"TilingPattern"===c[0]?this._makeTilingPattern(c):this._makeShadingPattern(c)}_makeTilingPattern(c){const p=c[1],M=c[2],H=c[3]||L.IDENTITY_MATRIX,[G,Y,W,le]=c[4],ie=c[5],k=c[6],z=c[7],X="shading"+A++,[V,B,D,g]=L.Util.normalizeRect([...L.Util.applyTransform([G,Y],H),...L.Util.applyTransform([W,le],H)]),[w,j]=L.Util.singularValueDecompose2dScale(H),R=ie*w,d=k*j,S=this.svgFactory.createElement("svg:pattern");S.setAttributeNS(null,"id",X),S.setAttributeNS(null,"patternUnits","userSpaceOnUse"),S.setAttributeNS(null,"width",R),S.setAttributeNS(null,"height",d),S.setAttributeNS(null,"x",`${V}`),S.setAttributeNS(null,"y",`${B}`);const N=this.svg,U=this.transformMatrix,q=this.current.fillColor,ee=this.current.strokeColor,J=this.svgFactory.create(D-V,g-B);if(this.svg=J,this.transformMatrix=H,2===z){const oe=L.Util.makeHexColor(...p);this.current.fillColor=oe,this.current.strokeColor=oe}return this.executeOpTree(this.convertOpList(M)),this.svg=N,this.transformMatrix=U,this.current.fillColor=q,this.current.strokeColor=ee,S.append(J.childNodes[0]),this.defs.append(S),`url(#${X})`}_makeShadingPattern(c){switch("string"==typeof c&&(c=this.objs.get(c)),c[0]){case"RadialAxial":const p="shading"+A++,M=c[3];let H;switch(c[1]){case"axial":const G=c[4],Y=c[5];H=this.svgFactory.createElement("svg:linearGradient"),H.setAttributeNS(null,"id",p),H.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),H.setAttributeNS(null,"x1",G[0]),H.setAttributeNS(null,"y1",G[1]),H.setAttributeNS(null,"x2",Y[0]),H.setAttributeNS(null,"y2",Y[1]);break;case"radial":const W=c[4],le=c[5],ie=c[6],k=c[7];H=this.svgFactory.createElement("svg:radialGradient"),H.setAttributeNS(null,"id",p),H.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),H.setAttributeNS(null,"cx",le[0]),H.setAttributeNS(null,"cy",le[1]),H.setAttributeNS(null,"r",k),H.setAttributeNS(null,"fx",W[0]),H.setAttributeNS(null,"fy",W[1]),H.setAttributeNS(null,"fr",ie);break;default:throw new Error(`Unknown RadialAxial type: ${c[1]}`)}for(const G of M){const Y=this.svgFactory.createElement("svg:stop");Y.setAttributeNS(null,"offset",G[0]),Y.setAttributeNS(null,"stop-color",G[1]),H.append(Y)}return this.defs.append(H),`url(#${p})`;case"Mesh":return(0,L.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${c[0]}`)}}setDash(c,p){this.current.dashArray=c,this.current.dashPhase=p}constructPath(c,p){const M=this.current;let H=M.x,G=M.y,Y=[],W=0;for(const le of c)switch(0|le){case L.OPS.rectangle:H=p[W++],G=p[W++];const z=H+p[W++],X=G+p[W++];Y.push("M",m(H),m(G),"L",m(z),m(G),"L",m(z),m(X),"L",m(H),m(X),"Z");break;case L.OPS.moveTo:H=p[W++],G=p[W++],Y.push("M",m(H),m(G));break;case L.OPS.lineTo:H=p[W++],G=p[W++],Y.push("L",m(H),m(G));break;case L.OPS.curveTo:H=p[W+4],G=p[W+5],Y.push("C",m(p[W]),m(p[W+1]),m(p[W+2]),m(p[W+3]),m(H),m(G)),W+=6;break;case L.OPS.curveTo2:Y.push("C",m(H),m(G),m(p[W]),m(p[W+1]),m(p[W+2]),m(p[W+3])),H=p[W+2],G=p[W+3],W+=4;break;case L.OPS.curveTo3:H=p[W+2],G=p[W+3],Y.push("C",m(p[W]),m(p[W+1]),m(H),m(G),m(H),m(G)),W+=4;break;case L.OPS.closePath:Y.push("Z")}Y=Y.join(" "),M.path&&c.length>0&&c[0]!==L.OPS.rectangle&&c[0]!==L.OPS.moveTo?Y=M.path.getAttributeNS(null,"d")+Y:(M.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(M.path)),M.path.setAttributeNS(null,"d",Y),M.path.setAttributeNS(null,"fill","none"),M.element=M.path,M.setCurrentPoint(H,G)}endPath(){const c=this.current;if(c.path=null,!this.pendingClip)return;if(!c.element)return void(this.pendingClip=null);const p="clippath"+I++,M=this.svgFactory.createElement("svg:clipPath");M.setAttributeNS(null,"id",p),M.setAttributeNS(null,"transform",O(this.transformMatrix));const H=c.element.cloneNode(!0);if(H.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,M.append(H),this.defs.append(M),c.activeClipUrl){c.clipGroup=null;for(const G of this.extraStack)G.clipGroup=null;M.setAttributeNS(null,"clip-path",c.activeClipUrl)}c.activeClipUrl=`url(#${p})`,this.tgrp=null}clip(c){this.pendingClip=c}closePath(){const c=this.current;if(c.path){const p=`${c.path.getAttributeNS(null,"d")}Z`;c.path.setAttributeNS(null,"d",p)}}setLeading(c){this.current.leading=-c}setTextRise(c){this.current.textRise=c}setTextRenderingMode(c){this.current.textRenderingMode=c}setHScale(c){this.current.textHScale=c/100}setRenderingIntent(c){}setFlatness(c){}setGState(c){for(const[p,M]of c)switch(p){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M);break;case"CA":this.setStrokeAlpha(M);break;case"ca":this.setFillAlpha(M);break;default:(0,L.warn)(`Unimplemented graphic state operator ${p}`)}}fill(){const c=this.current;c.element&&(c.element.setAttributeNS(null,"fill",c.fillColor),c.element.setAttributeNS(null,"fill-opacity",c.fillAlpha),this.endPath())}stroke(){const c=this.current;c.element&&(this._setStrokeAttributes(c.element),c.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(c,p=1){const M=this.current;let H=M.dashArray;1!==p&&H.length>0&&(H=H.map(function(G){return p*G})),c.setAttributeNS(null,"stroke",M.strokeColor),c.setAttributeNS(null,"stroke-opacity",M.strokeAlpha),c.setAttributeNS(null,"stroke-miterlimit",m(M.miterLimit)),c.setAttributeNS(null,"stroke-linecap",M.lineCap),c.setAttributeNS(null,"stroke-linejoin",M.lineJoin),c.setAttributeNS(null,"stroke-width",m(p*M.lineWidth)+"px"),c.setAttributeNS(null,"stroke-dasharray",H.map(m).join(" ")),c.setAttributeNS(null,"stroke-dashoffset",m(p*M.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y","0"),c.setAttributeNS(null,"width","1px"),c.setAttributeNS(null,"height","1px"),c.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(c)}paintImageXObject(c){const p=c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c);p?this.paintInlineImageXObject(p):(0,L.warn)(`Dependent image with object ID ${c} is not ready yet`)}paintInlineImageXObject(c,p){const M=c.width,H=c.height,G=x(c,this.forceDataSchema,!!p),Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y","0"),Y.setAttributeNS(null,"width",m(M)),Y.setAttributeNS(null,"height",m(H)),this.current.element=Y,this.clip("nonzero");const W=this.svgFactory.createElement("svg:image");W.setAttributeNS(f,"xlink:href",G),W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y",m(-H)),W.setAttributeNS(null,"width",m(M)+"px"),W.setAttributeNS(null,"height",m(H)+"px"),W.setAttributeNS(null,"transform",`scale(${m(1/M)} ${m(-1/H)})`),p?p.append(W):this._ensureTransformGroup().append(W)}paintImageMaskXObject(c){const p=this.current,M=c.width,H=c.height,G=p.fillColor;p.maskId="mask"+T++;const Y=this.svgFactory.createElement("svg:mask");Y.setAttributeNS(null,"id",p.maskId);const W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y","0"),W.setAttributeNS(null,"width",m(M)),W.setAttributeNS(null,"height",m(H)),W.setAttributeNS(null,"fill",G),W.setAttributeNS(null,"mask",`url(#${p.maskId})`),this.defs.append(Y),this._ensureTransformGroup().append(W),this.paintInlineImageXObject(c,Y)}paintFormXObjectBegin(c,p){if(Array.isArray(c)&&6===c.length&&this.transform(c[0],c[1],c[2],c[3],c[4],c[5]),p){const M=p[2]-p[0],H=p[3]-p[1],G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",p[0]),G.setAttributeNS(null,"y",p[1]),G.setAttributeNS(null,"width",m(M)),G.setAttributeNS(null,"height",m(H)),this.current.element=G,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(c){const p=this.svgFactory.create(c.width,c.height),M=this.svgFactory.createElement("svg:defs");p.append(M),this.defs=M;const H=this.svgFactory.createElement("svg:g");return H.setAttributeNS(null,"transform",O(c.transform)),p.append(H),this.svg=H,p}_ensureClipGroup(){if(!this.current.clipGroup){const c=this.svgFactory.createElement("svg:g");c.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(c),this.current.clipGroup=c}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",O(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFNodeStream=void 0;var _=K(1),L=K(33);const te=__webpack_require__(172),Q=__webpack_require__(1),ne=__webpack_require__(779),F=__webpack_require__(558),f=/^file:\/\/\/[a-zA-Z]:\//;E.PDFNodeStream=class h{constructor(A){this.source=A,this.url=function C(T){const A=F.parse(T);return"file:"===A.protocol||A.host?A:/^[a-z]:[/\\]/i.test(T)?F.parse(`file:///${T}`):(A.host||(A.protocol="file:"),A)}(A.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&A.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new O(this):new y(this),this._fullRequestReader}getRangeReader(A,c){if(c<=this._progressiveDataLength)return null;const p=this.isFsUrl?new I(this,A,c):new m(this,A,c);return this._rangeRequestReaders.push(p),p}cancelAllRequests(A){this._fullRequestReader&&this._fullRequestReader.cancel(A);for(const c of this._rangeRequestReaders.slice(0))c.cancel(A)}};class v{constructor(A){this._url=A.url,this._done=!1,this._storedError=null,this.onProgress=null;const c=A.source;this._contentLength=c.length,this._loaded=0,this._filename=null,this._disableRange=c.disableRange||!1,this._rangeChunkSize=c.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._readableStream=null,this._readCapability=(0,_.createPromiseCapability)(),this._headersCapability=(0,_.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var A=this;return _asyncToGenerator(function*(){if(yield A._readCapability.promise,A._done)return{value:void 0,done:!0};if(A._storedError)throw A._storedError;const c=A._readableStream.read();return null===c?(A._readCapability=(0,_.createPromiseCapability)(),A.read()):(A._loaded+=c.length,A.onProgress&&A.onProgress({loaded:A._loaded,total:A._contentLength}),{value:new Uint8Array(c).buffer,done:!1})})()}cancel(A){this._readableStream?this._readableStream.destroy(A):this._error(A)}_error(A){this._storedError=A,this._readCapability.resolve()}_setReadableStream(A){this._readableStream=A,A.on("readable",()=>{this._readCapability.resolve()}),A.on("end",()=>{A.destroy(),this._done=!0,this._readCapability.resolve()}),A.on("error",c=>{this._error(c)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class x{constructor(A){this._url=A.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_.createPromiseCapability)(),this._isStreamingSupported=!A.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var A=this;return _asyncToGenerator(function*(){if(yield A._readCapability.promise,A._done)return{value:void 0,done:!0};if(A._storedError)throw A._storedError;const c=A._readableStream.read();return null===c?(A._readCapability=(0,_.createPromiseCapability)(),A.read()):(A._loaded+=c.length,A.onProgress&&A.onProgress({loaded:A._loaded}),{value:new Uint8Array(c).buffer,done:!1})})()}cancel(A){this._readableStream?this._readableStream.destroy(A):this._error(A)}_error(A){this._storedError=A,this._readCapability.resolve()}_setReadableStream(A){this._readableStream=A,A.on("readable",()=>{this._readCapability.resolve()}),A.on("end",()=>{A.destroy(),this._done=!0,this._readCapability.resolve()}),A.on("error",c=>{this._error(c)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b(T,A){return{protocol:T.protocol,auth:T.auth,host:T.hostname,port:T.port,path:T.path,method:"GET",headers:A}}class y extends v{constructor(A){super(A);const c=p=>{if(404===p.statusCode){const Y=new _.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=Y,void this._headersCapability.reject(Y)}this._headersCapability.resolve(),this._setReadableStream(p);const M=Y=>this._readableStream.headers[Y.toLowerCase()],{allowRangeRequests:H,suggestedLength:G}=(0,L.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:A.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=H,this._contentLength=G||this._contentLength,this._filename=(0,L.extractFilenameFromHeader)(M)};this._request=null,this._request="http:"===this._url.protocol?Q.request(b(this._url,A.httpHeaders),c):ne.request(b(this._url,A.httpHeaders),c),this._request.on("error",p=>{this._storedError=p,this._headersCapability.reject(p)}),this._request.end()}}class m extends x{constructor(A,c,p){super(A),this._httpHeaders={};for(const H in A.httpHeaders){const G=A.httpHeaders[H];typeof G>"u"||(this._httpHeaders[H]=G)}this._httpHeaders.Range=`bytes=${c}-${p-1}`;const M=H=>{if(404!==H.statusCode)this._setReadableStream(H);else{const G=new _.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=G}};this._request=null,this._request="http:"===this._url.protocol?Q.request(b(this._url,this._httpHeaders),M):ne.request(b(this._url,this._httpHeaders),M),this._request.on("error",H=>{this._storedError=H}),this._request.end()}}class O extends v{constructor(A){super(A);let c=decodeURIComponent(this._url.path);f.test(this._url.href)&&(c=c.replace(/^\//,"")),te.lstat(c,(p,M)=>{if(p)return"ENOENT"===p.code&&(p=new _.MissingPDFException(`Missing PDF "${c}".`)),this._storedError=p,void this._headersCapability.reject(p);this._contentLength=M.size,this._setReadableStream(te.createReadStream(c)),this._headersCapability.resolve()})}}class I extends x{constructor(A,c,p){super(A);let M=decodeURIComponent(this._url.path);f.test(this._url.href)&&(M=M.replace(/^\//,"")),this._setReadableStream(te.createReadStream(M,{start:c,end:p-1}))}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.createResponseStatusError=function F(C,h){return 404===C||0===C&&h.startsWith("file:")?new _.MissingPDFException('Missing PDF "'+h+'".'):new _.UnexpectedResponseException(`Unexpected server response (${C}) while retrieving PDF "${h}".`,C)},E.extractFilenameFromHeader=function ne(C){const h=C("Content-Disposition");if(h){let v=(0,L.getFilenameFromContentDispositionHeader)(h);if(v.includes("%"))try{v=decodeURIComponent(v)}catch{}if((0,te.isPdfFile)(v))return v}return null},E.validateRangeRequestCapabilities=function Q({getResponseHeader:C,isHttp:h,rangeChunkSize:v,disableRange:x}){const b={allowRangeRequests:!1,suggestedLength:void 0},y=parseInt(C("Content-Length"),10);return!Number.isInteger(y)||(b.suggestedLength=y,y<=2*v)||x||!h||"bytes"!==C("Accept-Ranges")||"identity"!==(C("Content-Encoding")||"identity")||(b.allowRangeRequests=!0),b},E.validateResponseStatus=function f(C){return 200===C||206===C};var _=K(1),L=K(34),te=K(8)},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.getFilenameFromContentDispositionHeader=function L(te){let Q=!0,ne=F("filename\\*","i").exec(te);if(ne){ne=ne[1];let y=v(ne);return y=unescape(y),y=x(y),y=b(y),C(y)}if(ne=function h(y){const m=[];let O;const I=F("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(O=I.exec(y));){let[,A,c,p]=O;if(A=parseInt(A,10),A in m){if(0===A)break}else m[A]=[c,p]}const T=[];for(let A=0;A<m.length&&A in m;++A){let[c,p]=m[A];p=v(p),c&&(p=unescape(p),0===A&&(p=x(p))),T.push(p)}return T.join("")}(te),ne)return C(b(ne));if(ne=F("filename","i").exec(te),ne){ne=ne[1];let y=v(ne);return y=b(y),C(y)}function F(y,m){return new RegExp("(?:^|;)\\s*"+y+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function f(y,m){if(y){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const O=new TextDecoder(y,{fatal:!0}),I=(0,_.stringToBytes)(m);m=O.decode(I),Q=!1}catch{}}return m}function C(y){return Q&&/[\x80-\xff]/.test(y)&&(y=f("utf-8",y),Q&&(y=f("iso-8859-1",y))),y}function v(y){if(y.startsWith('"')){const m=y.slice(1).split('\\"');for(let O=0;O<m.length;++O){const I=m[O].indexOf('"');-1!==I&&(m[O]=m[O].slice(0,I),m.length=O+1),m[O]=m[O].replace(/\\(.)/g,"$1")}y=m.join('"')}return y}function x(y){const m=y.indexOf("'");return-1===m?y:f(y.slice(0,m),y.slice(m+1).replace(/^[^']*'/,""))}function b(y){return!y.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(y)?y:y.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,O,I,T){if("q"===I||"Q"===I)return f(O,T=(T=T.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(A,c){return String.fromCharCode(parseInt(c,16))}));try{T=atob(T)}catch{}return f(O,T)})}return""};var _=K(1)},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFNetworkStream=void 0;var _=K(1),L=K(33);class F{constructor(x,b={}){this.url=x,this.isHttp=/^https?:/i.test(x),this.httpHeaders=this.isHttp&&b.httpHeaders||Object.create(null),this.withCredentials=b.withCredentials||!1,this.getXhr=b.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(x,b,y){const m={begin:x,end:b};for(const O in y)m[O]=y[O];return this.request(m)}requestFull(x){return this.request(x)}request(x){const b=this.getXhr(),y=this.currXhrId++,m=this.pendingRequests[y]={xhr:b};b.open("GET",this.url),b.withCredentials=this.withCredentials;for(const O in this.httpHeaders){const I=this.httpHeaders[O];typeof I>"u"||b.setRequestHeader(O,I)}return this.isHttp&&"begin"in x&&"end"in x?(b.setRequestHeader("Range",`bytes=${x.begin}-${x.end-1}`),m.expectedStatus=206):m.expectedStatus=200,b.responseType="arraybuffer",x.onError&&(b.onerror=function(O){x.onError(b.status)}),b.onreadystatechange=this.onStateChange.bind(this,y),b.onprogress=this.onProgress.bind(this,y),m.onHeadersReceived=x.onHeadersReceived,m.onDone=x.onDone,m.onError=x.onError,m.onProgress=x.onProgress,b.send(null),y}onProgress(x,b){const y=this.pendingRequests[x];y&&y.onProgress?.(b)}onStateChange(x,b){const y=this.pendingRequests[x];if(!y)return;const m=y.xhr;if(m.readyState>=2&&y.onHeadersReceived&&(y.onHeadersReceived(),delete y.onHeadersReceived),4!==m.readyState||!(x in this.pendingRequests))return;if(delete this.pendingRequests[x],0===m.status&&this.isHttp)return void y.onError?.(m.status);const O=m.status||200;if((200!==O||206!==y.expectedStatus)&&O!==y.expectedStatus)return void y.onError?.(m.status);const T=function ne(v){const x=v.response;return"string"!=typeof x?x:(0,_.stringToBytes)(x).buffer}(m);if(206===O){const A=m.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(A);y.onDone({begin:parseInt(c[1],10),chunk:T})}else T?y.onDone({begin:0,chunk:T}):y.onError?.(m.status)}getRequestXhr(x){return this.pendingRequests[x].xhr}isPendingRequest(x){return x in this.pendingRequests}abortRequest(x){const b=this.pendingRequests[x].xhr;delete this.pendingRequests[x],b.abort()}}E.PDFNetworkStream=class f{constructor(x){this._source=x,this._manager=new F(x.url,{httpHeaders:x.httpHeaders,withCredentials:x.withCredentials}),this._rangeChunkSize=x.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(x){const b=this._rangeRequestReaders.indexOf(x);b>=0&&this._rangeRequestReaders.splice(b,1)}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new C(this._manager,this._source),this._fullRequestReader}getRangeReader(x,b){const y=new h(this._manager,x,b);return y.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(y),y}cancelAllRequests(x){this._fullRequestReader?.cancel(x);for(const b of this._rangeRequestReaders.slice(0))b.cancel(x)}};class C{constructor(x,b){this._manager=x;const y={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._fullRequestId=x.requestFull(y),this._headersReceivedCapability=(0,_.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._contentLength=b.length,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const x=this._fullRequestId,b=this._manager.getRequestXhr(x),y=I=>b.getResponseHeader(I),{allowRangeRequests:m,suggestedLength:O}=(0,L.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});m&&(this._isRangeSupported=!0),this._contentLength=O||this._contentLength,this._filename=(0,L.extractFilenameFromHeader)(y),this._isRangeSupported&&this._manager.abortRequest(x),this._headersReceivedCapability.resolve()}_onDone(x){if(x&&(this._requests.length>0?this._requests.shift().resolve({value:x.chunk,done:!1}):this._cachedChunks.push(x.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(x){this._storedError=(0,L.createResponseStatusError)(x,this._url),this._headersReceivedCapability.reject(this._storedError);for(const b of this._requests)b.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(x){this.onProgress?.({loaded:x.loaded,total:x.lengthComputable?x.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var x=this;return _asyncToGenerator(function*(){if(x._storedError)throw x._storedError;if(x._cachedChunks.length>0)return{value:x._cachedChunks.shift(),done:!1};if(x._done)return{value:void 0,done:!0};const b=(0,_.createPromiseCapability)();return x._requests.push(b),b.promise})()}cancel(x){this._done=!0,this._headersReceivedCapability.reject(x);for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class h{constructor(x,b,y){this._manager=x;const m={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=x.url,this._requestId=x.requestRange(b,y,m),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(x){const b=x.chunk;this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b,this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(x){this._storedError=(0,L.createResponseStatusError)(x,this._url);for(const b of this._requests)b.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(x){this.isStreamingSupported||this.onProgress?.({loaded:x.loaded})}get isStreamingSupported(){return!1}read(){var x=this;return _asyncToGenerator(function*(){if(x._storedError)throw x._storedError;if(null!==x._queuedChunk){const y=x._queuedChunk;return x._queuedChunk=null,{value:y,done:!1}}if(x._done)return{value:void 0,done:!0};const b=(0,_.createPromiseCapability)();return x._requests.push(b),b.promise})()}cancel(x){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(pe,E,K)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFFetchStream=void 0;var _=K(1),L=K(33);function te(C,h,v){return{method:"GET",headers:C,signal:v.signal,mode:"cors",credentials:h?"include":"same-origin",redirect:"follow"}}function Q(C){const h=new Headers;for(const v in C){const x=C[v];typeof x>"u"||h.append(v,x)}return h}E.PDFFetchStream=class ne{constructor(h){this.source=h,this.isHttp=/^https?:/i.test(h.url),this.httpHeaders=this.isHttp&&h.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new F(this),this._fullRequestReader}getRangeReader(h,v){if(v<=this._progressiveDataLength)return null;const x=new f(this,h,v);return this._rangeRequestReaders.push(x),x}cancelAllRequests(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);for(const v of this._rangeRequestReaders.slice(0))v.cancel(h)}};class F{constructor(h){this._stream=h,this._reader=null,this._loaded=0,this._filename=null;const v=h.source;this._withCredentials=v.withCredentials||!1,this._contentLength=v.length,this._headersCapability=(0,_.createPromiseCapability)(),this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._headers=Q(this._stream.httpHeaders);const x=v.url;fetch(x,te(this._headers,this._withCredentials,this._abortController)).then(b=>{if(!(0,L.validateResponseStatus)(b.status))throw(0,L.createResponseStatusError)(b.status,x);this._reader=b.body.getReader(),this._headersCapability.resolve();const y=I=>b.headers.get(I),{allowRangeRequests:m,suggestedLength:O}=(0,L.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=O||this._contentLength,this._filename=(0,L.extractFilenameFromHeader)(y),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var h=this;return _asyncToGenerator(function*(){yield h._headersCapability.promise;const{value:v,done:x}=yield h._reader.read();return x?{value:v,done:x}:(h._loaded+=v.byteLength,h.onProgress&&h.onProgress({loaded:h._loaded,total:h._contentLength}),{value:new Uint8Array(v).buffer,done:!1})})()}cancel(h){this._reader&&this._reader.cancel(h),this._abortController.abort()}}class f{constructor(h,v,x){this._stream=h,this._reader=null,this._loaded=0;const b=h.source;this._withCredentials=b.withCredentials||!1,this._readCapability=(0,_.createPromiseCapability)(),this._isStreamingSupported=!b.disableStream,this._abortController=new AbortController,this._headers=Q(this._stream.httpHeaders),this._headers.append("Range",`bytes=${v}-${x-1}`);const y=b.url;fetch(y,te(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,L.validateResponseStatus)(m.status))throw(0,L.createResponseStatusError)(m.status,y);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var h=this;return _asyncToGenerator(function*(){yield h._readCapability.promise;const{value:v,done:x}=yield h._reader.read();return x?{value:v,done:x}:(h._loaded+=v.byteLength,h.onProgress&&h.onProgress({loaded:h._loaded}),{value:new Uint8Array(v).buffer,done:!1})})()}cancel(h){this._reader&&this._reader.cancel(h),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(pe){var E=__webpack_module_cache__[pe];if(void 0!==E)return E.exports;var K=__webpack_module_cache__[pe]={exports:{}};return __webpack_modules__[pe](K,K.exports,__w_pdfjs_require__),K.exports}var __nested_webpack_exports__={};return(()=>{var pe=__nested_webpack_exports__;Object.defineProperty(pe,"__esModule",{value:!0}),Object.defineProperty(pe,"AnnotationEditorLayer",{enumerable:!0,get:function(){return L.AnnotationEditorLayer}}),Object.defineProperty(pe,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return E.AnnotationEditorParamsType}}),Object.defineProperty(pe,"AnnotationEditorType",{enumerable:!0,get:function(){return E.AnnotationEditorType}}),Object.defineProperty(pe,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return te.AnnotationEditorUIManager}}),Object.defineProperty(pe,"AnnotationLayer",{enumerable:!0,get:function(){return Q.AnnotationLayer}}),Object.defineProperty(pe,"AnnotationMode",{enumerable:!0,get:function(){return E.AnnotationMode}}),Object.defineProperty(pe,"CMapCompressionType",{enumerable:!0,get:function(){return E.CMapCompressionType}}),Object.defineProperty(pe,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ne.GlobalWorkerOptions}}),Object.defineProperty(pe,"InvalidPDFException",{enumerable:!0,get:function(){return E.InvalidPDFException}}),Object.defineProperty(pe,"LoopbackPort",{enumerable:!0,get:function(){return K.LoopbackPort}}),Object.defineProperty(pe,"MissingPDFException",{enumerable:!0,get:function(){return E.MissingPDFException}}),Object.defineProperty(pe,"OPS",{enumerable:!0,get:function(){return E.OPS}}),Object.defineProperty(pe,"PDFDataRangeTransport",{enumerable:!0,get:function(){return K.PDFDataRangeTransport}}),Object.defineProperty(pe,"PDFDateString",{enumerable:!0,get:function(){return _.PDFDateString}}),Object.defineProperty(pe,"PDFWorker",{enumerable:!0,get:function(){return K.PDFWorker}}),Object.defineProperty(pe,"PasswordResponses",{enumerable:!0,get:function(){return E.PasswordResponses}}),Object.defineProperty(pe,"PermissionFlag",{enumerable:!0,get:function(){return E.PermissionFlag}}),Object.defineProperty(pe,"PixelsPerInch",{enumerable:!0,get:function(){return _.PixelsPerInch}}),Object.defineProperty(pe,"RenderingCancelledException",{enumerable:!0,get:function(){return _.RenderingCancelledException}}),Object.defineProperty(pe,"SVGGraphics",{enumerable:!0,get:function(){return C.SVGGraphics}}),Object.defineProperty(pe,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return E.UNSUPPORTED_FEATURES}}),Object.defineProperty(pe,"UnexpectedResponseException",{enumerable:!0,get:function(){return E.UnexpectedResponseException}}),Object.defineProperty(pe,"Util",{enumerable:!0,get:function(){return E.Util}}),Object.defineProperty(pe,"VerbosityLevel",{enumerable:!0,get:function(){return E.VerbosityLevel}}),Object.defineProperty(pe,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(pe,"build",{enumerable:!0,get:function(){return K.build}}),Object.defineProperty(pe,"createPromiseCapability",{enumerable:!0,get:function(){return E.createPromiseCapability}}),Object.defineProperty(pe,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return E.createValidAbsoluteUrl}}),Object.defineProperty(pe,"getDocument",{enumerable:!0,get:function(){return K.getDocument}}),Object.defineProperty(pe,"getFilenameFromUrl",{enumerable:!0,get:function(){return _.getFilenameFromUrl}}),Object.defineProperty(pe,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _.getPdfFilenameFromUrl}}),Object.defineProperty(pe,"getXfaPageViewport",{enumerable:!0,get:function(){return _.getXfaPageViewport}}),Object.defineProperty(pe,"isPdfFile",{enumerable:!0,get:function(){return _.isPdfFile}}),Object.defineProperty(pe,"loadScript",{enumerable:!0,get:function(){return _.loadScript}}),Object.defineProperty(pe,"renderTextLayer",{enumerable:!0,get:function(){return f.renderTextLayer}}),Object.defineProperty(pe,"shadow",{enumerable:!0,get:function(){return E.shadow}}),Object.defineProperty(pe,"version",{enumerable:!0,get:function(){return K.version}});var E=__w_pdfjs_require__(1),K=__w_pdfjs_require__(4),_=__w_pdfjs_require__(8),L=__w_pdfjs_require__(22),te=__w_pdfjs_require__(7),Q=__w_pdfjs_require__(27),ne=__w_pdfjs_require__(15),F=__w_pdfjs_require__(3),f=__w_pdfjs_require__(30),C=__w_pdfjs_require__(31),h=__w_pdfjs_require__(29);if(F.isNodeJS){const{PDFNodeStream:b}=__w_pdfjs_require__(32);(0,K.setPDFNetworkStreamFactory)(y=>new b(y))}else{const{PDFNetworkStream:b}=__w_pdfjs_require__(35),{PDFFetchStream:y}=__w_pdfjs_require__(36);(0,K.setPDFNetworkStreamFactory)(m=>(0,_.isValidFetchUrl)(m.url)?new y(m):new b(m))}})(),__nested_webpack_exports__})(),module.exports=K()},16:(pe,E,K)=>{var _=K(156).default;globalThis,pe.exports=(()=>{"use strict";var L=[,(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DefaultXfaLayerFactory=f.DefaultTextLayerFactory=f.DefaultStructTreeLayerFactory=f.DefaultAnnotationLayerFactory=f.DefaultAnnotationEditorLayerFactory=void 0;var h=C(2),v=C(5),x=C(4),b=C(6),y=C(8),m=C(9),O=C(10);f.DefaultAnnotationLayerFactory=class I{createAnnotationLayerBuilder({pageDiv:H,pdfPage:G,annotationStorage:Y=null,imageResourcesPath:W="",renderForms:le=!0,l10n:ie=x.NullL10n,enableScripting:k=!1,hasJSActionsPromise:z=null,mouseState:X=null,fieldObjectsPromise:V=null,annotationCanvasMap:B=null,accessibilityManager:D=null}){return new v.AnnotationLayerBuilder({pageDiv:H,pdfPage:G,imageResourcesPath:W,renderForms:le,linkService:new b.SimpleLinkService,l10n:ie,annotationStorage:Y,enableScripting:k,hasJSActionsPromise:z,fieldObjectsPromise:V,mouseState:X,annotationCanvasMap:B,accessibilityManager:D})}},f.DefaultAnnotationEditorLayerFactory=class T{createAnnotationEditorLayerBuilder({uiManager:H=null,pageDiv:G,pdfPage:Y,accessibilityManager:W=null,l10n:le,annotationStorage:ie=null}){return new h.AnnotationEditorLayerBuilder({uiManager:H,pageDiv:G,pdfPage:Y,accessibilityManager:W,l10n:le,annotationStorage:ie})}},f.DefaultStructTreeLayerFactory=class A{createStructTreeLayerBuilder({pdfPage:H}){return new y.StructTreeLayerBuilder({pdfPage:H})}},f.DefaultTextLayerFactory=class c{createTextLayerBuilder({textLayerDiv:H,pageIndex:G,viewport:Y,enhanceTextSelection:W=!1,eventBus:le,highlighter:ie,accessibilityManager:k=null}){return new m.TextLayerBuilder({textLayerDiv:H,pageIndex:G,viewport:Y,enhanceTextSelection:W,eventBus:le,highlighter:ie,accessibilityManager:k})}},f.DefaultXfaLayerFactory=class p{createXfaLayerBuilder({pageDiv:H,pdfPage:G,annotationStorage:Y=null}){return new O.XfaLayerBuilder({pageDiv:H,pdfPage:G,annotationStorage:Y,linkService:new b.SimpleLinkService})}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AnnotationEditorLayerBuilder=void 0;var h=C(3),v=C(4);f.AnnotationEditorLayerBuilder=class x{#e;constructor(y){this.pageDiv=y.pageDiv,this.pdfPage=y.pdfPage,this.annotationStorage=y.annotationStorage||null,this.accessibilityManager=y.accessibilityManager,this.l10n=y.l10n||v.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#e=y.uiManager}render(y,m="display"){var O=this;return _(function*(){if("display"!==m||O._cancelled)return;const I=y.clone({dontFlip:!0});if(O.div)return O.annotationEditorLayer.update({viewport:I}),void O.show();O.div=document.createElement("div"),O.div.className="annotationEditorLayer",O.div.tabIndex=0,O.pageDiv.append(O.div),O.annotationEditorLayer=new h.AnnotationEditorLayer({uiManager:O.#e,div:O.div,annotationStorage:O.annotationStorage,accessibilityManager:O.accessibilityManager,pageIndex:O.pdfPage._pageIndex,l10n:O.l10n,viewport:I}),O.annotationEditorLayer.render({viewport:I,div:O.div,annotations:null,intent:m})})()}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}},F=>{let f;f=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:K(627),F.exports=f},(F,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.NullL10n=void 0,f.fixupLangCode=function x(m){return v[m?.toLowerCase()]||m},f.getL10nFallback=h;const C={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function h(m,O){switch(m){case"find_match_count":m=`find_match_count[${1===O.total?"one":"other"}]`;break;case"find_match_count_limit":m=`find_match_count_limit[${1===O.limit?"one":"other"}]`}return C[m]||""}const v={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};f.NullL10n={getLanguage:()=>_(function*(){return"en-us"})(),getDirection:()=>_(function*(){return"ltr"})(),get:(m,O=null,I=h(m,O))=>_(function*(){return function b(m,O){return O?m.replace(/\{\{\s*(\w+)\s*\}\}/g,(I,T)=>T in O?O[T]:"{{"+T+"}}"):m}(I,O)})(),translate:m=>_(function*(){})()}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AnnotationLayerBuilder=void 0;var h=C(3),v=C(4);f.AnnotationLayerBuilder=class x{constructor({pageDiv:y,pdfPage:m,linkService:O,downloadManager:I,annotationStorage:T=null,imageResourcesPath:A="",renderForms:c=!0,l10n:p=v.NullL10n,enableScripting:M=!1,hasJSActionsPromise:H=null,fieldObjectsPromise:G=null,mouseState:Y=null,annotationCanvasMap:W=null,accessibilityManager:le=null}){this.pageDiv=y,this.pdfPage=m,this.linkService=O,this.downloadManager=I,this.imageResourcesPath=A,this.renderForms=c,this.l10n=p,this.annotationStorage=T,this.enableScripting=M,this._hasJSActionsPromise=H,this._fieldObjectsPromise=G,this._mouseState=Y,this._annotationCanvasMap=W,this._accessibilityManager=le,this.div=null,this._cancelled=!1}render(y,m="display"){var O=this;return _(function*(){const[I,T=!1,A=null]=yield Promise.all([O.pdfPage.getAnnotations({intent:m}),O._hasJSActionsPromise,O._fieldObjectsPromise]);if(O._cancelled||0===I.length)return;const c={viewport:y.clone({dontFlip:!0}),div:O.div,annotations:I,page:O.pdfPage,imageResourcesPath:O.imageResourcesPath,renderForms:O.renderForms,linkService:O.linkService,downloadManager:O.downloadManager,annotationStorage:O.annotationStorage,enableScripting:O.enableScripting,hasJSActions:T,fieldObjects:A,mouseState:O._mouseState,annotationCanvasMap:O._annotationCanvasMap,accessibilityManager:O._accessibilityManager};O.div?h.AnnotationLayer.update(c):(O.div=document.createElement("div"),O.div.className="annotationLayer",O.pageDiv.append(O.div),c.div=O.div,h.AnnotationLayer.render(c),O.l10n.translate(O.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SimpleLinkService=f.PDFLinkService=f.LinkTarget=void 0;var h=C(7);const x={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function b(O,{url:I,target:T,rel:A,enabled:c=!0}={}){if(!I||"string"!=typeof I)throw new Error('A valid "url" parameter must provided.');const p=(0,h.removeNullCharacters)(I);c?O.href=O.title=p:(O.href="",O.title=`Disabled: ${p}`,O.onclick=()=>!1);let M="";switch(T){case x.NONE:break;case x.SELF:M="_self";break;case x.BLANK:M="_blank";break;case x.PARENT:M="_parent";break;case x.TOP:M="_top"}O.target=M,O.rel="string"==typeof A?A:"noopener noreferrer nofollow"}f.LinkTarget=x;class y{#e=new Map;constructor({eventBus:I,externalLinkTarget:T=null,externalLinkRel:A=null,ignoreDestinationZoom:c=!1}={}){this.eventBus=I,this.externalLinkTarget=T,this.externalLinkRel=A,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=c,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(I,T=null){this.baseUrl=T,this.pdfDocument=I,this.#e.clear()}setViewer(I){this.pdfViewer=I}setHistory(I){this.pdfHistory=I}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(I){this.pdfViewer.currentPageNumber=I}get rotation(){return this.pdfViewer.pagesRotation}set rotation(I){this.pdfViewer.pagesRotation=I}#t(I,T=null,A){const c=A[0];let p;if("object"==typeof c&&null!==c){if(p=this._cachedPageNumber(c),!p)return void this.pdfDocument.getPageIndex(c).then(M=>{this.cachePageRef(M+1,c),this.#t(I,T,A)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${c}" is not a valid page reference, for dest="${I}".`)})}else{if(!Number.isInteger(c))return void console.error(`PDFLinkService.#goToDestinationHelper: "${c}" is not a valid destination reference, for dest="${I}".`);p=c+1}!p||p<1||p>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${p}" is not a valid page number, for dest="${I}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:T,explicitDest:A,pageNumber:p})),this.pdfViewer.scrollPageIntoView({pageNumber:p,destArray:A,ignoreDestinationZoom:this._ignoreDestinationZoom}))}goToDestination(I){var T=this;return _(function*(){if(!T.pdfDocument)return;let A,c;"string"==typeof I?(A=I,c=yield T.pdfDocument.getDestination(I)):(A=null,c=yield I),Array.isArray(c)?T.#t(I,A,c):console.error(`PDFLinkService.goToDestination: "${c}" is not a valid destination array, for dest="${I}".`)})()}goToPage(I){if(!this.pdfDocument)return;const T="string"==typeof I&&this.pdfViewer.pageLabelToPageNumber(I)||0|I;Number.isInteger(T)&&T>0&&T<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(T)),this.pdfViewer.scrollPageIntoView({pageNumber:T})):console.error(`PDFLinkService.goToPage: "${I}" is not a valid page.`)}addLinkAttributes(I,T,A=!1){b(I,{url:T,target:A?x.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(I){if("string"==typeof I){if(I.length>0)return this.getAnchorUrl("#"+escape(I))}else if(Array.isArray(I)){const T=JSON.stringify(I);if(T.length>0)return this.getAnchorUrl("#"+escape(T))}return this.getAnchorUrl("")}getAnchorUrl(I){return(this.baseUrl||"")+I}setHash(I){if(!this.pdfDocument)return;let T,A;if(I.includes("=")){const c=(0,h.parseQueryString)(I);if(c.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:c.get("search").replace(/"/g,""),phraseSearch:"true"===c.get("phrase")}),c.has("page")&&(T=0|c.get("page")||1),c.has("zoom")){const p=c.get("zoom").split(","),M=p[0],H=parseFloat(M);M.includes("Fit")?"Fit"===M||"FitB"===M?A=[null,{name:M}]:"FitH"===M||"FitBH"===M||"FitV"===M||"FitBV"===M?A=[null,{name:M},p.length>1?0|p[1]:null]:"FitR"===M?5!==p.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):A=[null,{name:M},0|p[1],0|p[2],0|p[3],0|p[4]]:console.error(`PDFLinkService.setHash: "${M}" is not a valid zoom value.`):A=[null,{name:"XYZ"},p.length>1?0|p[1]:null,p.length>2?0|p[2]:null,H?H/100:M]}A?this.pdfViewer.scrollPageIntoView({pageNumber:T||this.page,destArray:A,allowNegativeOffset:!0}):T&&(this.page=T),c.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:c.get("pagemode")}),c.has("nameddest")&&this.goToDestination(c.get("nameddest"))}else{A=unescape(I);try{A=JSON.parse(A),Array.isArray(A)||(A=A.toString())}catch{}if("string"==typeof A||y.#n(A))return void this.goToDestination(A);console.error(`PDFLinkService.setHash: "${unescape(I)}" is not a valid destination.`)}}executeNamedAction(I){switch(I){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:I})}cachePageRef(I,T){T&&this.#e.set(0===T.gen?`${T.num}R`:`${T.num}R${T.gen}`,I)}_cachedPageNumber(I){return I&&this.#e.get(0===I.gen?`${I.num}R`:`${I.num}R${I.gen}`)||null}isPageVisible(I){return this.pdfViewer.isPageVisible(I)}isPageCached(I){return this.pdfViewer.isPageCached(I)}static#n(I){if(!Array.isArray(I))return!1;const T=I.length;if(T<2)return!1;const A=I[0];if(!("object"==typeof A&&Number.isInteger(A.num)&&Number.isInteger(A.gen)||Number.isInteger(A)&&A>=0))return!1;const c=I[1];if("object"!=typeof c||"string"!=typeof c.name)return!1;let p=!0;switch(c.name){case"XYZ":if(5!==T)return!1;break;case"Fit":case"FitB":return 2===T;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==T)return!1;break;case"FitR":if(6!==T)return!1;p=!1;break;default:return!1}for(let M=2;M<T;M++){const H=I[M];if(!("number"==typeof H||p&&null===H))return!1}return!0}}f.PDFLinkService=y,f.SimpleLinkService=class m{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(I){}get rotation(){return 0}set rotation(I){}goToDestination(I){return _(function*(){})()}goToPage(I){}addLinkAttributes(I,T,A=!1){b(I,{url:T,enabled:this.externalLinkEnabled})}getDestinationHash(I){return"#"}getAnchorUrl(I){return"#"}setHash(I){}executeNamedAction(I){}cachePageRef(I,T){}isPageVisible(I){return!0}isPageCached(I){return!0}}},(F,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.animationStarted=f.VERTICAL_PADDING=f.UNKNOWN_SCALE=f.TextLayerMode=f.SpreadMode=f.SidebarView=f.ScrollMode=f.SCROLLBAR_PADDING=f.RenderingStates=f.RendererType=f.ProgressBar=f.PresentationModeState=f.OutputScale=f.MIN_SCALE=f.MAX_SCALE=f.MAX_AUTO_SCALE=f.DEFAULT_SCALE_VALUE=f.DEFAULT_SCALE_DELTA=f.DEFAULT_SCALE=f.AutoPrintRegExp=void 0,f.apiPageLayoutToViewerModes=function ve(ce){let me=H.VERTICAL,Se=G.NONE;switch(ce){case"SinglePage":me=H.PAGE;break;case"OneColumn":break;case"TwoPageLeft":me=H.PAGE;case"TwoColumnLeft":Se=G.ODD;break;case"TwoPageRight":me=H.PAGE;case"TwoColumnRight":Se=G.EVEN}return{scrollMode:me,spreadMode:Se}},f.apiPageModeToSidebarView=function Ae(ce){switch(ce){case"UseNone":return c.NONE;case"UseThumbs":return c.THUMBS;case"UseOutlines":return c.OUTLINE;case"UseAttachments":return c.ATTACHMENTS;case"UseOC":return c.LAYERS}return c.NONE},f.approximateFraction=function D(ce){if(Math.floor(ce)===ce)return[ce,1];const me=1/ce;if(me>8)return[1,8];if(Math.floor(me)===me)return[1,me];const ge=ce>1?me:ce;let et,Oe=0,ke=1,xe=1,Ke=1;for(;;){const gt=Oe+xe,vt=ke+Ke;if(vt>8)break;ge<=gt/vt?(xe=gt,Ke=vt):(Oe=gt,ke=vt)}return et=ge-Oe/ke<xe/Ke-ge?ge===ce?[Oe,ke]:[ke,Oe]:ge===ce?[xe,Ke]:[Ke,xe],et},f.backtrackBeforeAllVisibleElements=j,f.binarySearchFirstItem=B,f.docStyle=void 0,f.getActiveOrFocusedElement=function Ce(){let ce=document,me=ce.activeElement||ce.querySelector(":focus");for(;me?.shadowRoot;)ce=me.shadowRoot,me=ce.activeElement||ce.querySelector(":focus");return me},f.getPageSizeInches=function w({view:ce,userUnit:me,rotate:Se}){const[ge,Oe,ke,xe]=ce,Ke=Se%180!=0,et=(ke-ge)/72*me,gt=(xe-Oe)/72*me;return{width:Ke?gt:et,height:Ke?et:gt}},f.getVisibleElements=function R({scrollEl:ce,views:me,sortByVisibility:Se=!1,horizontal:ge=!1,rtl:Oe=!1}){const ke=ce.scrollTop,xe=ke+ce.clientHeight,Ke=ce.scrollLeft,et=Ke+ce.clientWidth,rn=[],Dt=new Set,at=me.length;let An=B(me,ge?function vt(gn){const Ut=gn.div,_e=Ut.offsetLeft+Ut.clientLeft;return Oe?_e<et:_e+Ut.clientWidth>Ke}:function gt(gn){const Ut=gn.div;return Ut.offsetTop+Ut.clientTop+Ut.clientHeight>ke});An>0&&An<at&&!ge&&(An=j(An,me,ke));let si=ge?et:-1;for(let gn=An;gn<at;gn++){const Ut=me[gn],_e=Ut.div,ue=_e.offsetLeft+_e.clientLeft,de=_e.offsetTop+_e.clientTop,Pe=_e.clientWidth,Ue=_e.clientHeight,dt=ue+Pe,ot=de+Ue;if(-1===si)ot>=xe&&(si=ot);else if((ge?ue:de)>si)break;if(ot<=ke||de>=xe||dt<=Ke||ue>=et)continue;const Wn=Math.max(0,ke-de)+Math.max(0,ot-xe),Bt=(Pe-(Math.max(0,Ke-ue)+Math.max(0,dt-et)))/Pe;rn.push({id:Ut.id,x:ue,y:de,view:Ut,percent:(Ue-Wn)/Ue*Bt*100|0,widthPercent:100*Bt|0}),Dt.add(Ut.id)}const Ii=rn[0],$s=rn.at(-1);return Se&&rn.sort(function(gn,Ut){const _e=gn.percent-Ut.percent;return Math.abs(_e)>.001?-_e:gn.id-Ut.id}),{first:Ii,last:$s,views:rn,ids:Dt}},f.isPortraitOrientation=function J(ce){return ce.width<=ce.height},f.isValidRotation=function U(ce){return Number.isInteger(ce)&&ce%90==0},f.isValidScrollMode=function q(ce){return Number.isInteger(ce)&&Object.values(H).includes(ce)&&ce!==H.UNKNOWN},f.isValidSpreadMode=function ee(ce){return Number.isInteger(ce)&&Object.values(G).includes(ce)&&ce!==G.UNKNOWN},f.noContextMenuHandler=function d(ce){ce.preventDefault()},f.normalizeWheelEventDelta=function N(ce){let me=S(ce);return 0===ce.deltaMode?me/=900:1===ce.deltaMode&&(me/=30),me},f.normalizeWheelEventDirection=S,f.parseQueryString=function k(ce){const me=new Map;for(const[Se,ge]of new URLSearchParams(ce))me.set(Se.toLowerCase(),ge);return me},f.removeNullCharacters=function V(ce,me=!1){return"string"!=typeof ce?(console.error("The argument must be a string."),ce):(me&&(ce=ce.replace(X," ")),ce.replace(z,""))},f.roundToDivide=function g(ce,me){const Se=ce%me;return 0===Se?ce:Math.round(ce-Se+me)},f.scrollIntoView=function le(ce,me,Se=!1){let ge=ce.offsetParent;if(!ge)return void console.error("offsetParent is not set -- cannot scroll");let Oe=ce.offsetTop+ce.clientTop,ke=ce.offsetLeft+ce.clientLeft;for(;ge.clientHeight===ge.scrollHeight&&ge.clientWidth===ge.scrollWidth||Se&&(ge.classList.contains("markedContent")||"hidden"===getComputedStyle(ge).overflow);)if(Oe+=ge.offsetTop,ke+=ge.offsetLeft,ge=ge.offsetParent,!ge)return;me&&(void 0!==me.top&&(Oe+=me.top),void 0!==me.left&&(ke+=me.left,ge.scrollLeft=ke)),ge.scrollTop=Oe},f.watchScroll=function ie(ce,me){const Se=function(ke){Oe||(Oe=window.requestAnimationFrame(function(){Oe=null;const Ke=ce.scrollLeft,et=ge.lastX;Ke!==et&&(ge.right=Ke>et),ge.lastX=Ke;const gt=ce.scrollTop,vt=ge.lastY;gt!==vt&&(ge.down=gt>vt),ge.lastY=gt,me(ge)}))},ge={right:!0,down:!0,lastX:ce.scrollLeft,lastY:ce.scrollTop,_eventHandler:Se};let Oe=null;return ce.addEventListener("scroll",Se,!0),ge},f.DEFAULT_SCALE_VALUE="auto",f.DEFAULT_SCALE=1,f.DEFAULT_SCALE_DELTA=1.1,f.MIN_SCALE=.1,f.MAX_SCALE=10,f.UNKNOWN_SCALE=0,f.MAX_AUTO_SCALE=1.25,f.SCROLLBAR_PADDING=40,f.VERTICAL_PADDING=5,f.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},f.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const c={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};f.SidebarView=c,f.RendererType={CANVAS:"canvas",SVG:"svg"},f.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const H={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};f.ScrollMode=H;const G={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};f.SpreadMode=G,f.AutoPrintRegExp=/\bprint\s*\(/,f.OutputScale=class W{constructor(){const me=window.devicePixelRatio||1;this.sx=me,this.sy=me}get scaled(){return 1!==this.sx||1!==this.sy}};const z=/\x00/g,X=/[\x01-\x1F]/g;function B(ce,me,Se=0){let ge=Se,Oe=ce.length-1;if(Oe<0||!me(ce[Oe]))return ce.length;if(me(ce[ge]))return ge;for(;ge<Oe;){const ke=ge+Oe>>1;me(ce[ke])?Oe=ke:ge=ke+1}return ge}function j(ce,me,Se){if(ce<2)return ce;let ge=me[ce].div,Oe=ge.offsetTop+ge.clientTop;Oe>=Se&&(ge=me[ce-1].div,Oe=ge.offsetTop+ge.clientTop);for(let ke=ce-2;ke>=0&&(ge=me[ke].div,!(ge.offsetTop+ge.clientTop+ge.clientHeight<=Oe));--ke)ce=ke;return ce}function S(ce){let me=Math.hypot(ce.deltaX,ce.deltaY);const Se=Math.atan2(ce.deltaY,ce.deltaX);return-.25*Math.PI<Se&&Se<.75*Math.PI&&(me=-me),me}const oe=new Promise(function(ce){window.requestAnimationFrame(ce)});f.animationStarted=oe;const ae=document.documentElement.style;f.docStyle=ae,f.ProgressBar=class he{#e=null;#t=0;#n=!0;constructor(me){if(arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const Se=document.getElementById(me);this.#e=Se.classList}get percent(){return this.#t}set percent(me){this.#t=function se(ce,me,Se){return Math.min(Math.max(ce,me),Se)}(me,0,100),isNaN(me)?this.#e.add("indeterminate"):(this.#e.remove("indeterminate"),ae.setProperty("--progressBar-percent",`${this.#t}%`))}setWidth(me){if(!me)return;const ge=me.parentNode.offsetWidth-me.offsetWidth;ge>0&&ae.setProperty("--progressBar-end-offset",`${ge}px`)}hide(){this.#n&&(this.#n=!1,this.#e.add("hidden"))}show(){this.#n||(this.#n=!0,this.#e.remove("hidden"))}}},(F,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.StructTreeLayerBuilder=void 0;const C={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},h=/^H(\d+)$/;f.StructTreeLayerBuilder=class v{constructor({pdfPage:b}){this.pdfPage=b}render(b){return this._walk(b)}_setAttributes(b,y){void 0!==b.alt&&y.setAttribute("aria-label",b.alt),void 0!==b.id&&y.setAttribute("aria-owns",b.id),void 0!==b.lang&&y.setAttribute("lang",b.lang)}_walk(b){if(!b)return null;const y=document.createElement("span");if("role"in b){const{role:m}=b,O=m.match(h);O?(y.setAttribute("role","heading"),y.setAttribute("aria-level",O[1])):C[m]&&y.setAttribute("role",C[m])}if(this._setAttributes(b,y),b.children)if(1===b.children.length&&"id"in b.children[0])this._setAttributes(b.children[0],y);else for(const m of b.children)y.append(this._walk(m));return y}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextLayerBuilder=void 0;var h=C(3);f.TextLayerBuilder=class x{constructor({textLayerDiv:y,eventBus:m,pageIndex:O,viewport:I,highlighter:T=null,enhanceTextSelection:A=!1,accessibilityManager:c=null}){this.textLayerDiv=y,this.eventBus=m,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=O+1,this.viewport=I,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=T,this.enhanceTextSelection=A,this.accessibilityManager=c,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const y=document.createElement("div");y.className="endOfContent",this.textLayerDiv.append(y)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(y=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs);const m=document.createDocumentFragment();this.textLayerRenderTask=(0,h.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:m,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:y,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.append(m),this._finishRendering(),this.highlighter?.enable(),this.accessibilityManager?.enable()},function(O){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable()}setTextContentStream(y){this.cancel(),this.textContentStream=y}setTextContent(y){this.cancel(),this.textContent=y}_bindMouse(){const y=this.textLayerDiv;let m=null;y.addEventListener("mousedown",O=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(m&&(clearTimeout(m),m=null));const I=y.querySelector(".endOfContent");if(!I)return;let T=O.target!==y;if(T=T&&"none"!==window.getComputedStyle(I).getPropertyValue("-moz-user-select"),T){const A=y.getBoundingClientRect(),c=Math.max(0,(O.pageY-A.top)/A.height);I.style.top=(100*c).toFixed(2)+"%"}I.classList.add("active")}),y.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(m=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),m=null},300));const O=y.querySelector(".endOfContent");O&&(O.style.top="",O.classList.remove("active"))})}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XfaLayerBuilder=void 0;var h=C(3);f.XfaLayerBuilder=class v{constructor({pageDiv:b,pdfPage:y,annotationStorage:m=null,linkService:O,xfaHtml:I=null}){this.pageDiv=b,this.pdfPage=y,this.annotationStorage=m,this.linkService=O,this.xfaHtml=I,this.div=null,this._cancelled=!1}render(b,y="display"){if("print"===y){const m={viewport:b.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:y},O=document.createElement("div");this.pageDiv.append(O),m.div=O;const I=h.XfaLayer.render(m);return Promise.resolve(I)}return this.pdfPage.getXfa().then(m=>{if(this._cancelled||!m)return{textDivs:[]};const O={viewport:b.clone({dontFlip:!0}),div:this.div,xfaHtml:m,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:y};return this.div?h.XfaLayer.update(O):(this.div=document.createElement("div"),this.pageDiv.append(this.div),O.div=this.div,h.XfaLayer.render(O))}).catch(m=>{console.error(m)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFViewer=f.PDFSinglePageViewer=void 0;var h=C(7),v=C(12);f.PDFViewer=class x extends v.BaseViewer{},f.PDFSinglePageViewer=class b extends v.BaseViewer{_resetView(){super._resetView(),this._scrollMode=h.ScrollMode.PAGE,this._spreadMode=h.SpreadMode.NONE}set scrollMode(m){}_updateScrollMode(){}set spreadMode(m){}_updateSpreadMode(){}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PagesCountLimit=f.PDFPageViewBuffer=f.BaseViewer=void 0;var h=C(3),v=C(7),x=C(2),b=C(5),y=C(4),m=C(13),O=C(16),I=C(6),T=C(8),A=C(17),c=C(9),p=C(10);const H="enablePermissions",G={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function Y(ie){return Object.values(h.AnnotationEditorType).includes(ie)&&ie!==h.AnnotationEditorType.DISABLE}f.PagesCountLimit=G;class W{#e=new Set;#t=0;constructor(k){this.#t=k}push(k){const z=this.#e;z.has(k)&&z.delete(k),z.add(k),z.size>this.#t&&this.#n()}resize(k,z=null){this.#t=k;const X=this.#e;if(z){const V=X.size;let B=1;for(const D of X)if(z.has(D.id)&&(X.delete(D),X.add(D)),++B>V)break}for(;X.size>this.#t;)this.#n()}has(k){return this.#e.has(k)}[Symbol.iterator](){return this.#e.keys()}#n(){const k=this.#e.keys().next().value;k?.destroy(),this.#e.delete(k)}}f.PDFPageViewBuffer=W;class le{#e=null;#t=h.AnnotationEditorType.DISABLE;#n=null;#r=h.AnnotationMode.ENABLE_FORMS;#s=!1;#c=0;#a=null;#i=null;constructor(k){if(this.constructor===le)throw new Error("Cannot initialize BaseViewer.");const z="2.16.105";if(h.version!==z)throw new Error(`The API version "${h.version}" does not match the Viewer version "${z}".`);if(this.container=k.container,this.viewer=k.viewer||k.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=k.eventBus,this.linkService=k.linkService||new I.SimpleLinkService,this.downloadManager=k.downloadManager||null,this.findController=k.findController||null,this._scriptingManager=k.scriptingManager||null,this.removePageBorders=k.removePageBorders||!1,this.textLayerMode=k.textLayerMode??v.TextLayerMode.ENABLE,this.#r=k.annotationMode??h.AnnotationMode.ENABLE_FORMS,this.#t=k.annotationEditorMode??h.AnnotationEditorType.DISABLE,this.imageResourcesPath=k.imageResourcesPath||"",this.enablePrintAutoRotate=k.enablePrintAutoRotate||!1,this.renderer=k.renderer||v.RendererType.CANVAS,this.useOnlyCssZoom=k.useOnlyCssZoom||!1,this.maxCanvasPixels=k.maxCanvasPixels,this.l10n=k.l10n||y.NullL10n,this.#s=k.enablePermissions||!1,this.pageColors=k.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!k.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new O.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=k.renderingQueue,this.scroll=(0,v.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=v.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(k){return this._pages[k]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(k){return k?.pdfPage})}get renderForms(){return this.#r===h.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(k){if(!Number.isInteger(k))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(k,!0)||console.error(`currentPageNumber: "${k}" is not a valid page.`))}_setCurrentPageNumber(k,z=!1){if(this._currentPageNumber===k)return z&&this.#f(),!0;if(!(0<k&&k<=this.pagesCount))return!1;const X=this._currentPageNumber;return this._currentPageNumber=k,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:k,pageLabel:this._pageLabels?.[k-1]??null,previous:X}),z&&this.#f(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(k){if(!this.pdfDocument)return;let z=0|k;if(this._pageLabels){const X=this._pageLabels.indexOf(k);X>=0&&(z=X+1)}this._setCurrentPageNumber(z,!0)||console.error(`currentPageLabel: "${k}" is not a valid page.`)}get currentScale(){return this._currentScale!==v.UNKNOWN_SCALE?this._currentScale:v.DEFAULT_SCALE}set currentScale(k){if(isNaN(k))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(k,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(k){this.pdfDocument&&this._setScale(k,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(k){if(!(0,v.isValidRotation)(k))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((k%=360)<0&&(k+=360),this._pagesRotation===k))return;this._pagesRotation=k;const z=this._currentPageNumber,X={rotation:k};for(const V of this._pages)V.update(X);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:k,pageNumber:z}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#h(k){const z={annotationEditorMode:this.#t,annotationMode:this.#r,textLayerMode:this.textLayerMode};return k&&(k.includes(h.PermissionFlag.COPY)||this.viewer.classList.add(H),k.includes(h.PermissionFlag.MODIFY_CONTENTS)||(z.annotationEditorMode=h.AnnotationEditorType.DISABLE),!k.includes(h.PermissionFlag.MODIFY_ANNOTATIONS)&&!k.includes(h.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#r===h.AnnotationMode.ENABLE_FORMS&&(z.annotationMode=h.AnnotationMode.ENABLE)),z}#u(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const k=new Promise(z=>{this.#i=()=>{"hidden"===document.visibilityState&&(z(),document.removeEventListener("visibilitychange",this.#i),this.#i=null)},document.addEventListener("visibilitychange",this.#i)});return Promise.race([this._onePageRenderedCapability.promise,k])}setDocument(k){var z=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),this.#n&&(this.#n.destroy(),this.#n=null)),this.pdfDocument=k,!k)return;const X=k.isPureXfa,V=k.numPages,B=k.getPage(1),D=k.getOptionalContentConfig(),g=this.#s?k.getPermissions():Promise.resolve();if(V>G.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const w=this._scrollMode=v.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:w})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:V})},()=>{}),this._onBeforeDraw=w=>{const j=this._pages[w.pageNumber-1];j&&this.#e.push(j)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=w=>{w.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:w.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([B,g]).then(([w,j])=>{if(k!==this.pdfDocument)return;this._firstPageCapability.resolve(w),this._optionalContentConfigPromise=D;const{annotationEditorMode:R,annotationMode:d,textLayerMode:S}=this.#h(j);if(R!==h.AnnotationEditorType.DISABLE){const he=R;X?console.warn("Warning: XFA-editing is not implemented."):Y(he)?(this.#n=new h.AnnotationEditorUIManager(this.container,this.eventBus),he!==h.AnnotationEditorType.NONE&&this.#n.updateMode(he)):console.error(`Invalid AnnotationEditor mode: ${he}`)}const N=this._scrollMode===v.ScrollMode.PAGE?null:this.viewer,U=this.currentScale,q=w.getViewport({scale:U*h.PixelsPerInch.PDF_TO_CSS_UNITS}),ee=S===v.TextLayerMode.DISABLE||X?null:this,J=d!==h.AnnotationMode.DISABLE?this:null,oe=X?this:null,ae=this.#n?this:null;for(let he=1;he<=V;++he){const Ce=new m.PDFPageView({container:N,eventBus:this.eventBus,id:he,scale:U,defaultViewport:q.clone(),optionalContentConfigPromise:D,renderingQueue:this.renderingQueue,textLayerFactory:ee,textLayerMode:S,annotationLayerFactory:J,annotationMode:d,xfaLayerFactory:oe,annotationEditorLayerFactory:ae,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ce)}const se=this._pages[0];se&&(se.setPdfPage(w),this.linkService.cachePageRef(1,w.ref)),this._scrollMode===v.ScrollMode.PAGE?this.#l():this._spreadMode!==v.SpreadMode.NONE&&this._updateSpreadMode(),this.#u().then(_(function*(){if(z.findController&&z.findController.setDocument(k),z._scriptingManager&&z._scriptingManager.setDocument(k),z.#n&&z.eventBus.dispatch("annotationeditormodechanged",{source:z,mode:z.#t}),k.loadingParams.disableAutoFetch||V>G.FORCE_LAZY_PAGE_INIT)return void z._pagesCapability.resolve();let he=V-1;if(he<=0)z._pagesCapability.resolve();else for(let Ce=2;Ce<=V;++Ce){const ve=k.getPage(Ce).then(Ae=>{const ce=z._pages[Ce-1];ce.pdfPage||ce.setPdfPage(Ae),z.linkService.cachePageRef(Ce,Ae.ref),0==--he&&z._pagesCapability.resolve()},Ae=>{console.error(`Unable to get page ${Ce} to initialize viewer`,Ae),0==--he&&z._pagesCapability.resolve()});Ce%G.PAUSE_EAGER_PAGE_INIT==0&&(yield ve)}})),this.eventBus.dispatch("pagesinit",{source:this}),k.getMetadata().then(({info:he})=>{k===this.pdfDocument&&he.Language&&(this.viewer.lang=he.Language)}),this.defaultRenderingQueue&&this.update()}).catch(w=>{console.error("Unable to initialize viewer",w),this._pagesCapability.reject(w)})}setPageLabels(k){if(this.pdfDocument){k?Array.isArray(k)&&this.pdfDocument.numPages===k.length?this._pageLabels=k:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let z=0,X=this._pages.length;z<X;z++)this._pages[z].setPageLabel(this._pageLabels?.[z]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=v.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new W(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,h.createPromiseCapability)(),this._onePageRenderedCapability=(0,h.createPromiseCapability)(),this._pagesCapability=(0,h.createPromiseCapability)(),this._scrollMode=v.ScrollMode.VERTICAL,this._previousScrollMode=v.ScrollMode.UNKNOWN,this._spreadMode=v.SpreadMode.NONE,this.#a={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(H)}#l(){if(this._scrollMode!==v.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const k=this._currentPageNumber,z=this.#a,X=this.viewer;if(X.textContent="",z.pages.length=0,this._spreadMode!==v.SpreadMode.NONE||this.isInPresentationMode){const V=new Set,B=this._spreadMode-1;-1===B?V.add(k-1):k%2!==B?(V.add(k-1),V.add(k)):(V.add(k-2),V.add(k-1));const D=document.createElement("div");if(D.className="spread",this.isInPresentationMode){const g=document.createElement("div");g.className="dummyPage",D.append(g)}for(const g of V){const w=this._pages[g];w&&(D.append(w.div),z.pages.push(w))}X.append(D)}else{const V=this._pages[k-1];X.append(V.div),z.pages.push(V)}z.scrollDown=k>=z.previousPageNumber,z.previousPageNumber=k}_scrollUpdate(){0!==this.pagesCount&&this.update()}#o(k,z=null){const{div:X,id:V}=k;if(this._scrollMode===v.ScrollMode.PAGE&&(this._setCurrentPageNumber(V),this.#l(),this.update()),!z&&!this.isInPresentationMode){const B=X.offsetLeft+X.clientLeft,D=B+X.clientWidth,{scrollLeft:g,clientWidth:w}=this.container;(this._scrollMode===v.ScrollMode.HORIZONTAL||B<g||D>g+w)&&(z={left:0,top:0})}(0,v.scrollIntoView)(X,z)}#p(k){return k===this._currentScale||Math.abs(k-this._currentScale)<1e-15}_setScaleUpdatePages(k,z,X=!1,V=!1){if(this._currentScaleValue=z.toString(),this.#p(k))return void(V&&this.eventBus.dispatch("scalechanging",{source:this,scale:k,presetValue:z}));v.docStyle.setProperty("--scale-factor",k*h.PixelsPerInch.PDF_TO_CSS_UNITS);const B={scale:k};for(const D of this._pages)D.update(B);if(this._currentScale=k,!X){let g,D=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(D=this._location.pageNumber,g=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:D,destArray:g,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:k,presetValue:V?z:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==v.SpreadMode.NONE&&this._scrollMode!==v.ScrollMode.HORIZONTAL?2:1}_setScale(k,z=!1){let X=parseFloat(k);if(X>0)this._setScaleUpdatePages(X,k,z,!1);else{const V=this._pages[this._currentPageNumber-1];if(!V)return;let B=v.SCROLLBAR_PADDING,D=v.VERTICAL_PADDING;this.isInPresentationMode?B=D=4:this.removePageBorders?B=D=0:this._scrollMode===v.ScrollMode.HORIZONTAL&&([B,D]=[D,B]);const g=(this.container.clientWidth-B)/V.width*V.scale/this._pageWidthScaleFactor,w=(this.container.clientHeight-D)/V.height*V.scale;switch(k){case"page-actual":X=1;break;case"page-width":X=g;break;case"page-height":X=w;break;case"page-fit":X=Math.min(g,w);break;case"auto":const j=(0,v.isPortraitOrientation)(V)?g:Math.min(w,g);X=Math.min(v.MAX_AUTO_SCALE,j);break;default:return void console.error(`_setScale: "${k}" is an unknown zoom value.`)}this._setScaleUpdatePages(X,k,z,!0)}}#f(){const k=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this.#o(k)}pageLabelToPageNumber(k){if(!this._pageLabels)return null;const z=this._pageLabels.indexOf(k);return z<0?null:z+1}scrollPageIntoView({pageNumber:k,destArray:z=null,allowNegativeOffset:X=!1,ignoreDestinationZoom:V=!1}){if(!this.pdfDocument)return;const B=Number.isInteger(k)&&this._pages[k-1];if(!B)return void console.error(`scrollPageIntoView: "${k}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!z)return void this._setCurrentPageNumber(k,!0);let R,d,D=0,g=0,w=0,j=0;const S=B.rotation%180!=0,N=(S?B.height:B.width)/B.scale/h.PixelsPerInch.PDF_TO_CSS_UNITS,U=(S?B.width:B.height)/B.scale/h.PixelsPerInch.PDF_TO_CSS_UNITS;let q=0;switch(z[1].name){case"XYZ":D=z[2],g=z[3],q=z[4],D=null!==D?D:0,g=null!==g?g:U;break;case"Fit":case"FitB":q="page-fit";break;case"FitH":case"FitBH":g=z[2],q="page-width",null===g&&this._location?(D=this._location.left,g=this._location.top):("number"!=typeof g||g<0)&&(g=U);break;case"FitV":case"FitBV":D=z[2],w=N,j=U,q="page-height";break;case"FitR":D=z[2],g=z[3],w=z[4]-D,j=z[5]-g,R=(this.container.clientWidth-(this.removePageBorders?0:v.SCROLLBAR_PADDING))/w/h.PixelsPerInch.PDF_TO_CSS_UNITS,d=(this.container.clientHeight-(this.removePageBorders?0:v.VERTICAL_PADDING))/j/h.PixelsPerInch.PDF_TO_CSS_UNITS,q=Math.min(Math.abs(R),Math.abs(d));break;default:return void console.error(`scrollPageIntoView: "${z[1].name}" is not a valid destination type.`)}if(V||(q&&q!==this._currentScale?this.currentScaleValue=q:this._currentScale===v.UNKNOWN_SCALE&&(this.currentScaleValue=v.DEFAULT_SCALE_VALUE)),"page-fit"===q&&!z[4])return void this.#o(B);const ee=[B.viewport.convertToViewportPoint(D,g),B.viewport.convertToViewportPoint(D+w,g+j)];let J=Math.min(ee[0][0],ee[1][0]),oe=Math.min(ee[0][1],ee[1][1]);X||(J=Math.max(J,0),oe=Math.max(oe,0)),this.#o(B,{left:J,top:oe})}_updateLocation(k){const z=this._currentScale,X=this._currentScaleValue,V=parseFloat(X)===z?Math.round(1e4*z)/100:X,B=k.id,g=this.container,w=this._pages[B-1].getPagePoint(g.scrollLeft-k.x,g.scrollTop-k.y),j=Math.round(w[0]),R=Math.round(w[1]);let d=`#page=${B}`;this.isInPresentationMode||(d+=`&zoom=${V},${j},${R}`),this._location={pageNumber:B,scale:V,top:R,left:j,rotation:this._pagesRotation,pdfOpenParams:d}}update(){const k=this._getVisiblePages(),z=k.views,X=z.length;if(0===X)return;const V=Math.max(10,2*X+1);this.#e.resize(V,k.ids),this.renderingQueue.renderHighestPriority(k);const B=this._spreadMode===v.SpreadMode.NONE&&(this._scrollMode===v.ScrollMode.PAGE||this._scrollMode===v.ScrollMode.VERTICAL),D=this._currentPageNumber;let g=!1;for(const w of z){if(w.percent<100)break;if(w.id===D&&B){g=!0;break}}this._setCurrentPageNumber(g?D:z[0].id),this._updateLocation(k.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(k){return this.container.contains(k)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===v.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===v.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const k=this._scrollMode===v.ScrollMode.PAGE?this.#a.pages:this._pages,z=this._scrollMode===v.ScrollMode.HORIZONTAL;return(0,v.getVisibleElements)({scrollEl:this.container,views:k,sortByVisibility:!0,horizontal:z,rtl:z&&this._isContainerRtl})}isPageVisible(k){return!!this.pdfDocument&&(Number.isInteger(k)&&k>0&&k<=this.pagesCount?this._getVisiblePages().ids.has(k):(console.error(`isPageVisible: "${k}" is not a valid page.`),!1))}isPageCached(k){return!!this.pdfDocument&&(Number.isInteger(k)&&k>0&&k<=this.pagesCount?this.#e.has(this._pages[k-1]):(console.error(`isPageCached: "${k}" is not a valid page.`),!1))}cleanup(){for(const k of this._pages)k.renderingState!==v.RenderingStates.FINISHED&&k.reset()}_cancelRendering(){for(const k of this._pages)k.cancelRendering()}#y(k){var z=this;return _(function*(){if(k.pdfPage)return k.pdfPage;try{const X=yield z.pdfDocument.getPage(k.id);return k.pdfPage||k.setPdfPage(X),z.linkService._cachedPageNumber?.(X.ref)||z.linkService.cachePageRef(k.id,X.ref),X}catch(X){return console.error("Unable to get page for page view",X),null}})()}#m(k){if(1===k.first?.id)return!0;if(k.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case v.ScrollMode.PAGE:return this.#a.scrollDown;case v.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}#v(k){for(const z of k)this._pages[z-1]?.toggleLoadingIconSpinner(!0);for(const z of this.#e)k.has(z.id)||z.toggleLoadingIconSpinner(!1)}forceRendering(k){const z=k||this._getVisiblePages(),X=this.#m(z),B=this.renderingQueue.getHighestPriority(z,this._pages,X,this._spreadMode!==v.SpreadMode.NONE&&this._scrollMode!==v.ScrollMode.HORIZONTAL);return this.#v(z.ids),!!B&&(this.#y(B).then(()=>{this.renderingQueue.renderView(B)}),!0)}createTextLayerBuilder({textLayerDiv:k,pageIndex:z,viewport:X,enhanceTextSelection:V=!1,eventBus:B,highlighter:D,accessibilityManager:g=null}){return new c.TextLayerBuilder({textLayerDiv:k,eventBus:B,pageIndex:z,viewport:X,enhanceTextSelection:!this.isInPresentationMode&&V,highlighter:D,accessibilityManager:g})}createTextHighlighter({pageIndex:k,eventBus:z}){return new A.TextHighlighter({eventBus:z,pageIndex:k,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:k,pdfPage:z,annotationStorage:X=this.pdfDocument?.annotationStorage,imageResourcesPath:V="",renderForms:B=!0,l10n:D=y.NullL10n,enableScripting:g=this.enableScripting,hasJSActionsPromise:w=this.pdfDocument?.hasJSActions(),mouseState:j=this._scriptingManager?.mouseState,fieldObjectsPromise:R=this.pdfDocument?.getFieldObjects(),annotationCanvasMap:d=null,accessibilityManager:S=null}){return new b.AnnotationLayerBuilder({pageDiv:k,pdfPage:z,annotationStorage:X,imageResourcesPath:V,renderForms:B,linkService:this.linkService,downloadManager:this.downloadManager,l10n:D,enableScripting:g,hasJSActionsPromise:w,mouseState:j,fieldObjectsPromise:R,annotationCanvasMap:d,accessibilityManager:S})}createAnnotationEditorLayerBuilder({uiManager:k=this.#n,pageDiv:z,pdfPage:X,accessibilityManager:V=null,l10n:B,annotationStorage:D=this.pdfDocument?.annotationStorage}){return new x.AnnotationEditorLayerBuilder({uiManager:k,pageDiv:z,pdfPage:X,annotationStorage:D,accessibilityManager:V,l10n:B})}createXfaLayerBuilder({pageDiv:k,pdfPage:z,annotationStorage:X=this.pdfDocument?.annotationStorage}){return new p.XfaLayerBuilder({pageDiv:k,pdfPage:z,annotationStorage:X,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:k}){return new T.StructTreeLayerBuilder({pdfPage:k})}get hasEqualPageSizes(){const k=this._pages[0];for(let z=1,X=this._pages.length;z<X;++z){const V=this._pages[z];if(V.width!==k.width||V.height!==k.height)return!1}return!0}getPagesOverview(){return this._pages.map(k=>{const z=k.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,v.isPortraitOrientation)(z)?{width:z.width,height:z.height,rotation:z.rotation}:{width:z.height,height:z.width,rotation:(z.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(k){if(!(k instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${k}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=k;const z={optionalContentConfigPromise:k};for(const X of this._pages)X.update(z);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:k})}get scrollMode(){return this._scrollMode}set scrollMode(k){if(this._scrollMode!==k){if(!(0,v.isValidScrollMode)(k))throw new Error(`Invalid scroll mode: ${k}`);this.pagesCount>G.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=k,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:k}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(k=null){const z=this._scrollMode,X=this.viewer;X.classList.toggle("scrollHorizontal",z===v.ScrollMode.HORIZONTAL),X.classList.toggle("scrollWrapped",z===v.ScrollMode.WRAPPED),this.pdfDocument&&k&&(z===v.ScrollMode.PAGE?this.#l():this._previousScrollMode===v.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(k,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(k){if(this._spreadMode!==k){if(!(0,v.isValidSpreadMode)(k))throw new Error(`Invalid spread mode: ${k}`);this._spreadMode=k,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:k}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(k=null){if(!this.pdfDocument)return;const z=this.viewer,X=this._pages;if(this._scrollMode===v.ScrollMode.PAGE)this.#l();else if(z.textContent="",this._spreadMode===v.SpreadMode.NONE)for(const V of this._pages)z.append(V.div);else{const V=this._spreadMode-1;let B=null;for(let D=0,g=X.length;D<g;++D)null===B?(B=document.createElement("div"),B.className="spread",z.append(B)):D%2===V&&(B=B.cloneNode(!1),z.append(B)),B.append(X[D].div)}k&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(k,!0),this.update())}_getPageAdvance(k,z=!1){switch(this._scrollMode){case v.ScrollMode.WRAPPED:{const{views:X}=this._getVisiblePages(),V=new Map;for(const{id:B,y:D,percent:g,widthPercent:w}of X){if(0===g||w<100)continue;let j=V.get(D);j||V.set(D,j||=[]),j.push(B)}for(const B of V.values()){const D=B.indexOf(k);if(-1===D)continue;const g=B.length;if(1===g)break;if(z)for(let w=D-1,j=0;w>=j;w--){const d=B[w+1]-1;if(B[w]<d)return k-d}else for(let w=D+1,j=g;w<j;w++){const d=B[w-1]+1;if(B[w]>d)return d-k}if(z){const w=B[0];if(w<k)return k-w+1}else{const w=B[g-1];if(w>k)return w-k+1}break}break}case v.ScrollMode.HORIZONTAL:break;case v.ScrollMode.PAGE:case v.ScrollMode.VERTICAL:{if(this._spreadMode===v.SpreadMode.NONE)break;const X=this._spreadMode-1;if(z&&k%2!==X)break;if(!z&&k%2===X)break;const{views:V}=this._getVisiblePages(),B=z?k-1:k+1;for(const{id:D,percent:g,widthPercent:w}of V)if(D===B){if(g>0&&100===w)return 2;break}break}}return 1}nextPage(){const k=this._currentPageNumber,z=this.pagesCount;if(k>=z)return!1;const X=this._getPageAdvance(k,!1)||1;return this.currentPageNumber=Math.min(k+X,z),!0}previousPage(){const k=this._currentPageNumber;if(k<=1)return!1;const z=this._getPageAdvance(k,!0)||1;return this.currentPageNumber=Math.max(k-z,1),!0}increaseScale(k=1){let z=this._currentScale;do{z=(z*v.DEFAULT_SCALE_DELTA).toFixed(2),z=Math.ceil(10*z)/10,z=Math.min(v.MAX_SCALE,z)}while(--k>0&&z<v.MAX_SCALE);this.currentScaleValue=z}decreaseScale(k=1){let z=this._currentScale;do{z=(z/v.DEFAULT_SCALE_DELTA).toFixed(2),z=Math.floor(10*z)/10,z=Math.max(v.MIN_SCALE,z)}while(--k>0&&z>v.MIN_SCALE);this.currentScaleValue=z}updateContainerHeightCss(){const k=this.container.clientHeight;k!==this.#c&&(this.#c=k,v.docStyle.setProperty("--viewer-container-height",`${k}px`))}get annotationEditorMode(){return this.#n?this.#t:h.AnnotationEditorType.DISABLE}set annotationEditorMode(k){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");if(this.#t!==k){if(!Y(k))throw new Error(`Invalid AnnotationEditor mode: ${k}`);this.pdfDocument&&(this.#t=k,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:k}),this.#n.updateMode(k))}}set annotationEditorParams({type:k,value:z}){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");this.#n.updateParams(k,z)}refresh(){if(!this.pdfDocument)return;const k={};for(const z of this._pages)z.update(k);this.update()}}f.BaseViewer=le},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFPageView=void 0;var h=C(3),v=C(7),x=C(14),b=C(4),y=C(15);const m=x.compatibilityParams.maxCanvasPixels||16777216;f.PDFPageView=class O{#e=h.AnnotationMode.ENABLE_FORMS;#t={initialOptionalContent:!0,regularAnnotations:!0};constructor(T){const A=T.container,c=T.defaultViewport;this.id=T.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=T.scale||v.DEFAULT_SCALE,this.viewport=c,this.pdfPageRotate=c.rotation,this._optionalContentConfigPromise=T.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=T.textLayerMode??v.TextLayerMode.ENABLE,this.#e=T.annotationMode??h.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=T.imageResourcesPath||"",this.useOnlyCssZoom=T.useOnlyCssZoom||!1,this.maxCanvasPixels=T.maxCanvasPixels||m,this.pageColors=T.pageColors||null,this.eventBus=T.eventBus,this.renderingQueue=T.renderingQueue,this.textLayerFactory=T.textLayerFactory,this.annotationLayerFactory=T.annotationLayerFactory,this.annotationEditorLayerFactory=T.annotationEditorLayerFactory,this.xfaLayerFactory=T.xfaLayerFactory,this.textHighlighter=T.textHighlighterFactory?.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=T.structTreeLayerFactory,this.renderer=T.renderer||v.RendererType.CANVAS,this.l10n=T.l10n||b.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=v.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const p=document.createElement("div");if(p.className="page",p.style.width=Math.floor(this.viewport.width)+"px",p.style.height=Math.floor(this.viewport.height)+"px",p.setAttribute("data-page-number",this.id),p.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(M=>{p.setAttribute("aria-label",M)}),this.div=p,A?.append(p),this._isStandalone){const{optionalContentConfigPromise:M}=T;M&&M.then(H=>{M===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=H.hasInitialVisibility)})}}setPdfPage(T){this.pdfPage=T,this.pdfPageRotate=T.rotate,this.viewport=T.getViewport({scale:this.scale*h.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var T=this;return _(function*(){let A=null;try{yield T.annotationLayer.render(T.viewport,"display")}catch(c){console.error(`_renderAnnotationLayer: "${c}".`),A=c}finally{T.eventBus.dispatch("annotationlayerrendered",{source:T,pageNumber:T.id,error:A})}})()}_renderAnnotationEditorLayer(){var T=this;return _(function*(){let A=null;try{yield T.annotationEditorLayer.render(T.viewport,"display")}catch(c){console.error(`_renderAnnotationEditorLayer: "${c}".`),A=c}finally{T.eventBus.dispatch("annotationeditorlayerrendered",{source:T,pageNumber:T.id,error:A})}})()}_renderXfaLayer(){var T=this;return _(function*(){let A=null;try{const c=yield T.xfaLayer.render(T.viewport,"display");T.textHighlighter&&T._buildXfaTextContentItems(c.textDivs)}catch(c){console.error(`_renderXfaLayer: "${c}".`),A=c}finally{T.eventBus.dispatch("xfalayerrendered",{source:T,pageNumber:T.id,error:A})}})()}_buildXfaTextContentItems(T){var A=this;return _(function*(){const c=yield A.pdfPage.getTextContent(),p=[];for(const M of c.items)p.push(M.str);A.textHighlighter.setTextMapping(T,p),A.textHighlighter.enable()})()}_resetZoomLayer(T=!1){if(!this.zoomLayer)return;const A=this.zoomLayer.firstChild;this.paintedViewportMap.delete(A),A.width=0,A.height=0,T&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:T=!1,keepAnnotationLayer:A=!1,keepAnnotationEditorLayer:c=!1,keepXfaLayer:p=!1}={}){this.cancelRendering({keepAnnotationLayer:A,keepAnnotationEditorLayer:c,keepXfaLayer:p}),this.renderingState=v.RenderingStates.INITIAL;const M=this.div;M.style.width=Math.floor(this.viewport.width)+"px",M.style.height=Math.floor(this.viewport.height)+"px";const H=M.childNodes,G=T&&this.zoomLayer||null,Y=A&&this.annotationLayer?.div||null,W=c&&this.annotationEditorLayer?.div||null,le=p&&this.xfaLayer?.div||null;for(let ie=H.length-1;ie>=0;ie--){const k=H[ie];switch(k){case G:case Y:case W:case le:continue}k.remove()}M.removeAttribute("data-loaded"),Y&&this.annotationLayer.hide(),W?this.annotationEditorLayer.hide():this.annotationEditorLayer?.destroy(),le&&this.xfaLayer.hide(),G||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ie=>{this.loadingIconDiv?.setAttribute("aria-label",ie)}),M.append(this.loadingIconDiv)}update({scale:T=0,rotation:A=null,optionalContentConfigPromise:c=null}){if(this.scale=T||this.scale,"number"==typeof A&&(this.rotation=A),c instanceof Promise&&(this._optionalContentConfigPromise=c,c.then(H=>{c===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=H.hasInitialVisibility)})),this.viewport=this.viewport.clone({scale:this.scale*h.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone&&v.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let M=!1;if(this.canvas&&this.maxCanvasPixels>0){const H=this.outputScale;(Math.floor(this.viewport.width)*H.sx|0)*(Math.floor(this.viewport.height)*H.sy|0)>this.maxCanvasPixels&&(M=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&M)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:T=!1,keepAnnotationEditorLayer:A=!1,keepXfaLayer:c=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!T||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!A||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!c||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:T,redrawAnnotationLayer:A=!1,redrawAnnotationEditorLayer:c=!1,redrawXfaLayer:p=!1}){const M=this.viewport.width,H=this.viewport.height,G=this.div;T.style.width=T.parentNode.style.width=G.style.width=Math.floor(M)+"px",T.style.height=T.parentNode.style.height=G.style.height=Math.floor(H)+"px";const Y=this.viewport.rotation-this.paintedViewportMap.get(T).rotation,W=Math.abs(Y);let le=1,ie=1;if((90===W||270===W)&&(le=H/M,ie=M/H),T.style.transform=`rotate(${Y}deg) scale(${le}, ${ie})`,this.textLayer){const k=this.textLayer.viewport,X=Math.abs(this.viewport.rotation-k.rotation);let V=M/k.width;(90===X||270===X)&&(V=M/k.height);const B=this.textLayer.textLayerDiv;let D,g;switch(X){case 0:D=g=0;break;case 90:D=0,g="-"+B.style.height;break;case 180:D="-"+B.style.width,g="-"+B.style.height;break;case 270:D="-"+B.style.width,g=0;break;default:console.error("Bad rotation value.")}B.style.transform=`rotate(${X}deg) scale(${V}) translate(${D}, ${g})`,B.style.transformOrigin="0% 0%"}A&&this.annotationLayer&&this._renderAnnotationLayer(),c&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),p&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(T,A){return this.viewport.convertToPdfPoint(T,A)}toggleLoadingIconSpinner(T=!1){this.loadingIconDiv?.classList.toggle("notVisible",!T)}draw(){var T=this;this.renderingState!==v.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:A,pdfPage:c}=this;if(!c)return this.renderingState=v.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=v.RenderingStates.RUNNING;const p=document.createElement("div");p.style.width=A.style.width,p.style.height=A.style.height,p.classList.add("canvasWrapper");const M=this.annotationLayer?.div||this.annotationEditorLayer?.div;M?M.before(p):A.append(p);let H=null;if(this.textLayerMode!==v.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||=new y.TextAccessibilityManager;const ie=document.createElement("div");ie.className="textLayer",ie.style.width=p.style.width,ie.style.height=p.style.height,M?M.before(ie):A.append(ie),H=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:ie,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===v.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=H,this.#e!==h.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:A,pdfPage:c,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===h.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})),this.xfaLayer?.div&&A.append(this.xfaLayer.div);let G=null;this.renderingQueue&&(G=ie=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=v.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=v.RenderingStates.RUNNING,ie()});ie()});const Y=function(){var ie=_(function*(k=null){if(W===T.paintTask&&(T.paintTask=null),k instanceof h.RenderingCancelledException)T._renderError=null;else if(T._renderError=k,T.renderingState=v.RenderingStates.FINISHED,T.loadingIconDiv&&(T.loadingIconDiv.remove(),delete T.loadingIconDiv),T._resetZoomLayer(!0),T.#t.regularAnnotations=!W.separateAnnots,T.eventBus.dispatch("pagerendered",{source:T,pageNumber:T.id,cssTransform:!1,timestamp:performance.now(),error:T._renderError}),k)throw k});return function(){return ie.apply(this,arguments)}}(),W=this.renderer===v.RendererType.SVG?this.paintOnSvg(p):this.paintOnCanvas(p);W.onRenderContinue=G,this.paintTask=W;const le=W.promise.then(()=>Y(null).then(()=>{if(H){const ie=c.streamTextContent({includeMarkedContent:!0});H.setTextContentStream(ie),H.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:A,pdfPage:c,l10n:this.l10n,accessibilityManager:this._accessibilityManager}),this._renderAnnotationEditorLayer())})}),function(ie){return Y(ie)});return this.xfaLayerFactory&&(this.xfaLayer||=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:A,pdfPage:c}),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ie=>{ie.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(k=>{if(!k||!this.canvas)return;const z=this.structTreeLayer.render(k);z.classList.add("structTree"),this.canvas.append(z)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:c})),A.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),le}paintOnCanvas(T){const A=(0,h.createPromiseCapability)(),c={promise:A.promise,onRenderContinue(V){V()},cancel(){X.cancel()},get separateAnnots(){return X.separateAnnots}},p=this.viewport,M=document.createElement("canvas");M.setAttribute("role","presentation"),M.hidden=!0;let H=!0;const G=function(){H&&(M.hidden=!1,H=!1)};T.append(M),this.canvas=M;const Y=M.getContext("2d",{alpha:!1}),W=this.outputScale=new v.OutputScale;if(this.useOnlyCssZoom){const V=p.clone({scale:h.PixelsPerInch.PDF_TO_CSS_UNITS});W.sx*=V.width/p.width,W.sy*=V.height/p.height}if(this.maxCanvasPixels>0){const B=Math.sqrt(this.maxCanvasPixels/(p.width*p.height));W.sx>B||W.sy>B?(W.sx=B,W.sy=B,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const le=(0,v.approximateFraction)(W.sx),ie=(0,v.approximateFraction)(W.sy);M.width=(0,v.roundToDivide)(p.width*W.sx,le[0]),M.height=(0,v.roundToDivide)(p.height*W.sy,ie[0]),M.style.width=(0,v.roundToDivide)(p.width,le[1])+"px",M.style.height=(0,v.roundToDivide)(p.height,ie[1])+"px",this.paintedViewportMap.set(M,p);const z={canvasContext:Y,transform:W.scaled?[W.sx,0,0,W.sy,0,0]:null,viewport:this.viewport,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},X=this.pdfPage.render(z);return X.onContinue=function(V){G(),c.onRenderContinue?c.onRenderContinue(V):V()},X.promise.then(function(){G(),A.resolve()},function(V){G(),A.reject(V)}),c}paintOnSvg(T){let A=!1;const c=()=>{if(A)throw new h.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},p=this.pdfPage,M=this.viewport.clone({scale:h.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:p.getOperatorList({annotationMode:this.#e}).then(G=>(c(),new h.SVGGraphics(p.commonObjs,p.objs).getSVG(G,M).then(W=>{c(),this.svg=W,this.paintedViewportMap.set(W,M),W.style.width=T.style.width,W.style.height=T.style.height,this.renderingState=v.RenderingStates.FINISHED,T.append(W)}))),onRenderContinue(G){G()},cancel(){A=!0},get separateAnnots(){return!1}}}setPageLabel(T){this.pageLabel="string"==typeof T?T:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:T,regularAnnotations:A}=this.#t;return T&&A?this.canvas:null}}},(F,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.compatibilityParams=f.OptionKind=f.AppOptions=void 0;const C=Object.create(null);f.compatibilityParams=C;{const y=navigator.userAgent||"",m=navigator.platform||"",O=navigator.maxTouchPoints||1,I=/Android/.test(y);(/\b(iPad|iPhone|iPod)(?=;)/.test(y)||"MacIntel"===m&&O>1||I)&&(C.maxCanvasPixels=5242880)}const h={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};f.OptionKind=h;const v={annotationEditorMode:{value:-1,kind:h.VIEWER+h.PREFERENCE},annotationMode:{value:2,kind:h.VIEWER+h.PREFERENCE},cursorToolOnLoad:{value:0,kind:h.VIEWER+h.PREFERENCE},defaultZoomValue:{value:"",kind:h.VIEWER+h.PREFERENCE},disableHistory:{value:!1,kind:h.VIEWER},disablePageLabels:{value:!1,kind:h.VIEWER+h.PREFERENCE},enablePermissions:{value:!1,kind:h.VIEWER+h.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:h.VIEWER+h.PREFERENCE},enableScripting:{value:!0,kind:h.VIEWER+h.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:h.VIEWER},externalLinkTarget:{value:0,kind:h.VIEWER+h.PREFERENCE},historyUpdateUrl:{value:!1,kind:h.VIEWER+h.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:h.VIEWER+h.PREFERENCE},imageResourcesPath:{value:"./images/",kind:h.VIEWER},maxCanvasPixels:{value:16777216,kind:h.VIEWER},forcePageColors:{value:!1,kind:h.VIEWER+h.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:h.VIEWER+h.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:h.VIEWER+h.PREFERENCE},pdfBugEnabled:{value:!1,kind:h.VIEWER+h.PREFERENCE},printResolution:{value:150,kind:h.VIEWER},sidebarViewOnLoad:{value:-1,kind:h.VIEWER+h.PREFERENCE},scrollModeOnLoad:{value:-1,kind:h.VIEWER+h.PREFERENCE},spreadModeOnLoad:{value:-1,kind:h.VIEWER+h.PREFERENCE},textLayerMode:{value:1,kind:h.VIEWER+h.PREFERENCE},useOnlyCssZoom:{value:!1,kind:h.VIEWER+h.PREFERENCE},viewerCssTheme:{value:0,kind:h.VIEWER+h.PREFERENCE},viewOnLoad:{value:0,kind:h.VIEWER+h.PREFERENCE},cMapPacked:{value:!0,kind:h.API},cMapUrl:{value:"../web/cmaps/",kind:h.API},disableAutoFetch:{value:!1,kind:h.API+h.PREFERENCE},disableFontFace:{value:!1,kind:h.API+h.PREFERENCE},disableRange:{value:!1,kind:h.API+h.PREFERENCE},disableStream:{value:!1,kind:h.API+h.PREFERENCE},docBaseUrl:{value:"",kind:h.API},enableXfa:{value:!0,kind:h.API+h.PREFERENCE},fontExtraProperties:{value:!1,kind:h.API},isEvalSupported:{value:!0,kind:h.API},maxImageSize:{value:-1,kind:h.API},pdfBug:{value:!1,kind:h.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:h.API},verbosity:{value:1,kind:h.API},workerPort:{value:null,kind:h.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:h.WORKER}};v.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:h.VIEWER},v.disablePreferences={value:!1,kind:h.VIEWER},v.locale={value:navigator.language||"en-US",kind:h.VIEWER},v.renderer={value:"canvas",kind:h.VIEWER+h.PREFERENCE},v.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:h.VIEWER};const x=Object.create(null);f.AppOptions=class b{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(m){const O=x[m];if(void 0!==O)return O;const I=v[m];return void 0!==I?C[m]??I.value:void 0}static getAll(m=null){const O=Object.create(null);for(const I in v){const T=v[I];if(m){if(!(m&T.kind))continue;if(m===h.PREFERENCE){const c=T.value,p=typeof c;if("boolean"===p||"string"===p||"number"===p&&Number.isInteger(c)){O[I]=c;continue}throw new Error(`Invalid type for preference: ${I}`)}}const A=x[I];O[I]=void 0!==A?A:C[I]??T.value}return O}static set(m,O){x[m]=O}static setAll(m){for(const O in m)x[O]=m[O]}static remove(m){delete x[m]}static _hasUserOptions(){return Object.keys(x).length>0}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextAccessibilityManager=void 0;var h=C(7);class v{#e=!1;#t=null;#n=new Map;#r=new Map;setTextMapping(b){this.#t=b}static#s(b,y){const m=b.getBoundingClientRect(),O=y.getBoundingClientRect();if(0===m.width&&0===m.height)return 1;if(0===O.width&&0===O.height)return-1;const A=m.y+m.height/2,M=O.y+O.height/2;return A<=O.y&&M>=m.y+m.height?-1:M<=m.y&&A>=O.y+O.height?1:m.x+m.width/2-(O.x+O.width/2)}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(v.#s),this.#n.size>0){const b=this.#t;for(const[y,m]of this.#n)document.getElementById(y)?this.#c(y,b[m]):this.#n.delete(y)}for(const[b,y]of this.#r)this.addPointerInTextLayer(b,y);this.#r.clear()}disable(){this.#e&&(this.#r.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(b){if(!this.#e)return void this.#r.delete(b);const y=this.#t;if(!y||0===y.length)return;const{id:m}=b,O=this.#n.get(m);if(void 0===O)return;const I=y[O];this.#n.delete(m);let T=I.getAttribute("aria-owns");T?.includes(m)&&(T=T.split(" ").filter(A=>A!==m).join(" "),T?I.setAttribute("aria-owns",T):(I.removeAttribute("aria-owns"),I.setAttribute("role","presentation")))}#c(b,y){const m=y.getAttribute("aria-owns");m?.includes(b)||y.setAttribute("aria-owns",m?`${m} ${b}`:b),y.removeAttribute("role")}addPointerInTextLayer(b,y){const{id:m}=b;if(!m)return;if(!this.#e)return void this.#r.set(b,y);y&&this.removePointerInTextLayer(b);const O=this.#t;if(!O||0===O.length)return;const I=(0,h.binarySearchFirstItem)(O,A=>v.#s(b,A)<0),T=Math.max(0,I-1);this.#c(m,O[T]),this.#n.set(m,T)}moveElementInDOM(b,y,m,O){if(this.addPointerInTextLayer(m,O),!b.hasChildNodes())return void b.append(y);const I=Array.from(b.childNodes).filter(c=>c!==y);if(0===I.length)return;const T=m||y,A=(0,h.binarySearchFirstItem)(I,c=>v.#s(T,c)<0);0===A?I[0].before(y):I[A-1].after(y)}}f.TextAccessibilityManager=v},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFRenderingQueue=void 0;var h=C(3),v=C(7);f.PDFRenderingQueue=class b{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(m){this.pdfViewer=m}setThumbnailViewer(m){this.pdfThumbnailViewer=m}isHighestPriority(m){return this.highestPriorityPage===m.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(m){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(m)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(m,O,I,T=!1){const A=m.views,c=A.length;if(0===c)return null;for(let Y=0;Y<c;Y++){const W=A[Y].view;if(!this.isViewFinished(W))return W}const p=m.first.id,M=m.last.id;if(M-p+1>c){const Y=m.ids;for(let W=1,le=M-p;W<le;W++){const ie=I?p+W:M-W;if(Y.has(ie))continue;const k=O[ie-1];if(!this.isViewFinished(k))return k}}let H=I?M:p-2,G=O[H];return G&&!this.isViewFinished(G)||T&&(H+=I?1:-1,G=O[H],G&&!this.isViewFinished(G))?G:null}isViewFinished(m){return m.renderingState===v.RenderingStates.FINISHED}renderView(m){switch(m.renderingState){case v.RenderingStates.FINISHED:return!1;case v.RenderingStates.PAUSED:this.highestPriorityPage=m.renderingId,m.resume();break;case v.RenderingStates.RUNNING:this.highestPriorityPage=m.renderingId;break;case v.RenderingStates.INITIAL:this.highestPriorityPage=m.renderingId,m.draw().finally(()=>{this.renderHighestPriority()}).catch(O=>{O instanceof h.RenderingCancelledException||console.error(`renderView: "${O}"`)})}return!0}}},(F,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextHighlighter=void 0,f.TextHighlighter=class C{constructor({findController:v,eventBus:x,pageIndex:b}){this.findController=v,this.matches=[],this.eventBus=x,this.pageIdx=b,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(v,x){this.textDivs=v,this.textContentItemsStr=x}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=v=>{(v.pageIndex===this.pageIdx||-1===v.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(v,x){if(!v)return[];const{textContentItemsStr:b}=this;let y=0,m=0;const O=b.length-1,I=[];for(let T=0,A=v.length;T<A;T++){let c=v[T];for(;y!==O&&c>=m+b[y].length;)m+=b[y].length,y++;y===b.length&&console.error("Could not find a matching mapping");const p={begin:{divIdx:y,offset:c-m}};for(c+=x[T];y!==O&&c>m+b[y].length;)m+=b[y].length,y++;p.end={divIdx:y,offset:c-m},I.push(p)}return I}_renderMatches(v){if(0===v.length)return;const{findController:x,pageIdx:b}=this,{textContentItemsStr:y,textDivs:m}=this,O=b===x.selected.pageIdx,I=x.selected.matchIdx;let A=null;function p(Y,W){const le=Y.divIdx;return m[le].textContent="",M(le,0,Y.offset,W)}function M(Y,W,le,ie){let k=m[Y];if(k.nodeType===Node.TEXT_NODE){const V=document.createElement("span");k.before(V),V.append(k),m[Y]=V,k=V}const z=y[Y].substring(W,le),X=document.createTextNode(z);if(ie){const V=document.createElement("span");return V.className=`${ie} appended`,V.append(X),k.append(V),ie.includes("selected")?V.offsetLeft:0}return k.append(X),0}let H=I,G=H+1;if(x.state.highlightAll)H=0,G=v.length;else if(!O)return;for(let Y=H;Y<G;Y++){const W=v[Y],le=W.begin,ie=W.end,k=O&&Y===I,z=k?" selected":"";let X=0;if(A&&le.divIdx===A.divIdx?M(A.divIdx,A.offset,le.offset):(null!==A&&M(A.divIdx,A.offset,void 0),p(le)),le.divIdx===ie.divIdx)X=M(le.divIdx,le.offset,ie.offset,"highlight"+z);else{X=M(le.divIdx,le.offset,void 0,"highlight begin"+z);for(let V=le.divIdx+1,B=ie.divIdx;V<B;V++)m[V].className="highlight middle"+z;p(ie,"highlight end"+z)}A=ie,k&&x.scrollMatchIntoView({element:m[le.divIdx],selectedLeft:X,pageIndex:b,matchIndex:I})}A&&M(A.divIdx,A.offset,void 0)}_updateMatches(){if(!this.enabled)return;const{findController:v,matches:x,pageIdx:b}=this,{textContentItemsStr:y,textDivs:m}=this;let O=-1;for(let A=0,c=x.length;A<c;A++){const p=x[A];for(let H=Math.max(O,p.begin.divIdx),G=p.end.divIdx;H<=G;H++){const Y=m[H];Y.textContent=y[H],Y.className=""}O=p.end.divIdx+1}v?.highlightMatches&&(this.matches=this._convertMatches(v.pageMatches[b]||null,v.pageMatchesLength[b]||null),this._renderMatches(this.matches))}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DownloadManager=void 0;var h=C(3);function v(b,y){const m=document.createElement("a");if(!m.click)throw new Error('DownloadManager: "a.click()" is not supported.');m.href=b,m.target="_parent","download"in m&&(m.download=y),(document.body||document.documentElement).append(m),m.click(),m.remove()}f.DownloadManager=class x{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(y,m){(0,h.createValidAbsoluteUrl)(y,"http://example.com")?v(y+"#pdfjs.action=download",m):console.error(`downloadUrl - not a valid URL: ${y}`)}downloadData(y,m,O){v(URL.createObjectURL(new Blob([y],{type:O})),m)}openOrDownloadData(y,m,O){const I=(0,h.isPdfFile)(O),T=I?"application/pdf":"";if(I){let c,A=this._openBlobUrls.get(y);A||(A=URL.createObjectURL(new Blob([m],{type:T})),this._openBlobUrls.set(y,A)),c="?file="+encodeURIComponent(A+"#"+O);try{return window.open(c),!0}catch(p){console.error(`openOrDownloadData: ${p}`),URL.revokeObjectURL(A),this._openBlobUrls.delete(y)}}return this.downloadData(m,O,T),!1}download(y,m,O){v(URL.createObjectURL(y),O)}}},(F,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WaitOnType=f.EventBus=f.AutomationEventBus=void 0,f.waitOnEventOrTimeout=function h({target:b,name:y,delay:m=0}){return new Promise(function(O,I){if("object"!=typeof b||!y||"string"!=typeof y||!(Number.isInteger(m)&&m>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function T(M){b instanceof v?b._off(y,A):b.removeEventListener(y,A),p&&clearTimeout(p),O(M)}const A=T.bind(null,C.EVENT);b instanceof v?b._on(y,A):b.addEventListener(y,A);const c=T.bind(null,C.TIMEOUT),p=setTimeout(c,m)})};const C={EVENT:"event",TIMEOUT:"timeout"};f.WaitOnType=C;class v{constructor(){this._listeners=Object.create(null)}on(y,m,O=null){this._on(y,m,{external:!0,once:O?.once})}off(y,m,O=null){this._off(y,m,{external:!0,once:O?.once})}dispatch(y,m){const O=this._listeners[y];if(!O||0===O.length)return;let I;for(const{listener:T,external:A,once:c}of O.slice(0))c&&this._off(y,T),A?(I||=[]).push(T):T(m);if(I){for(const T of I)T(m);I=null}}_on(y,m,O=null){(this._listeners[y]||=[]).push({listener:m,external:!0===O?.external,once:!0===O?.once})}_off(y,m,O=null){const I=this._listeners[y];if(I)for(let T=0,A=I.length;T<A;T++)if(I[T].listener===m)return void I.splice(T,1)}}f.EventBus=v,f.AutomationEventBus=class x extends v{dispatch(y,m){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GenericL10n=void 0,C(21);var h=C(4);const v=document.webL10n;f.GenericL10n=class x{constructor(y){this._lang=y,this._ready=new Promise((m,O)=>{v.setLanguage((0,h.fixupLangCode)(y),()=>{m(v)})})}getLanguage(){var y=this;return _(function*(){return(yield y._ready).getLanguage()})()}getDirection(){var y=this;return _(function*(){return(yield y._ready).getDirection()})()}get(y,m=null,O=(0,h.getL10nFallback)(y,m)){var I=this;return _(function*(){return(yield I._ready).get(y,m,O)})()}translate(y){var m=this;return _(function*(){return(yield m._ready).translate(y)})()}}},()=>{document.webL10n=function(F,f,C){var h={},v="",x="textContent",b="",y={},m="loading",O=!0;function p(V,B,D){B=B||function(j){},D=D||function(){};var g=new XMLHttpRequest;g.open("GET",V,O),g.overrideMimeType&&g.overrideMimeType("text/plain; charset=utf-8"),g.onreadystatechange=function(){4==g.readyState&&(200==g.status||0===g.status?B(g.responseText):D())},g.onerror=D,g.ontimeout=D;try{g.send(null)}catch{D()}}function H(V,B){V&&(V=V.toLowerCase()),B=B||function(){},function G(){h={},v="",b=""}(),b=V;var D=function I(){return f.querySelectorAll('link[type="application/l10n"]')}(),g=D.length;if(0!==g){var d,S=0;d=function(){++S>=g&&(B(),m="complete")};for(var U=0;U<g;U++)new N(D[U]).load(V,d)}else{var w=function T(){var V=f.querySelector('script[type="application/l10n"]');return V?JSON.parse(V.innerHTML):null}();if(w&&w.locales&&w.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(h=w.locales[V])){var j=w.default_locale.toLowerCase();for(var R in w.locales){if((R=R.toLowerCase())===V){h=w.locales[V];break}R===j&&(h=w.locales[j])}}B()}else console.log("no resource to load, early way out");m="complete"}function N(ee){var J=ee.href;this.load=function(oe,ae){!function M(V,B,D,g){var w=V.replace(/[^\/]*$/,"")||"./";function j(d){return d.lastIndexOf("\\")<0?d:d.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}p(V,function(d){v+=d,function R(d,S){var N={},U=/^\s*|\s*$/,q=/^\s*#|^\s*$/,ee=/^\s*\[(.*)\]\s*$/,J=/^\s*@import\s+url\((.*)\)\s*$/i,oe=/^([^=\s]*)\s*=\s*(.+)$/;function ae(he,Ce,ve){var Ae=he.replace(U,"").split(/[\r\n]+/),ce="*",me=B.split("-",1)[0],Se=!1,ge="";!function Oe(){for(;;){if(!Ae.length)return void ve();var ke=Ae.shift();if(!q.test(ke)){if(Ce){if(ge=ee.exec(ke)){ce=ge[1].toLowerCase(),Se="*"!==ce&&ce!==B&&ce!==me;continue}if(Se)continue;if(ge=J.exec(ke))return void se(w+ge[1],Oe)}var xe=ke.match(oe);xe&&3==xe.length&&(N[xe[1]]=j(xe[2]))}}}()}function se(he,Ce){p(he,function(ve){ae(ve,!1,Ce)},function(){console.warn(he+" not found."),Ce()})}ae(d,!0,function(){S(N)})}(d,function(S){for(var N in S){var U,q,ee=N.lastIndexOf(".");ee>0?(U=N.substring(0,ee),q=N.substring(ee+1)):(U=N,q=x),h[U]||(h[U]={}),h[U][q]=S[N]}D&&D()})},g)}(J,oe,ae,function(){console.warn(J+" not found."),console.warn('"'+oe+'" resource not found'),b="",ae()})}}}function W(V,B,D){var g=h[V];if(!g){if(console.warn("#"+V+" is undefined."),!D)return null;g=D}var w={};for(var j in g){var R=g[j];R=ie(R=le(R,B,V,j),B,V),w[j]=R}return w}function le(V,B,D,g){var j=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(V);if(!j||!j.length)return V;var S,R=j[1],d=j[2];return B&&d in B?S=B[d]:d in h&&(S=h[d]),R in y&&(V=(0,y[R])(V,S,D,g)),V}function ie(V,B,D){return V.replace(/\{\{\s*(.+?)\s*\}\}/g,function(w,j){return B&&j in B?B[j]:j in h?h[j]:(console.log("argument {{"+j+"}} for #"+D+" is undefined."),w)})}function k(V){var B=function c(V){if(!V)return{};var B=V.getAttribute("data-l10n-id"),D=V.getAttribute("data-l10n-args"),g={};if(D)try{g=JSON.parse(D)}catch{console.warn("could not parse arguments for #"+B)}return{id:B,args:g}}(V);if(B.id){var D=W(B.id,B.args);if(!D)return void console.warn("#"+B.id+" is undefined.");if(D[x]){if(0===function z(V){if(V.children)return V.children.length;if(typeof V.childElementCount<"u")return V.childElementCount;for(var B=0,D=0;D<V.childNodes.length;D++)B+=1===V.nodeType?1:0;return B}(V))V[x]=D[x];else{for(var g=V.childNodes,w=!1,j=0,R=g.length;j<R;j++)3===g[j].nodeType&&/\S/.test(g[j].nodeValue)&&(w?g[j].nodeValue="":(g[j].nodeValue=D[x],w=!0));if(!w){var d=f.createTextNode(D[x]);V.prepend(d)}}delete D[x]}for(var S in D)V[S]=D[S]}}return y.plural=function(V,B,D,g){var w=parseFloat(B);if(isNaN(w)||g!=x)return V;y._pluralRules||(y._pluralRules=function Y(V){function D(R,d){return-1!==d.indexOf(R)}function g(R,d,S){return d<=R&&R<=S}var w={0:function(R){return"other"},1:function(R){return g(R%100,3,10)?"few":0===R?"zero":g(R%100,11,99)?"many":2==R?"two":1==R?"one":"other"},2:function(R){return 0!==R&&R%10==0?"many":2==R?"two":1==R?"one":"other"},3:function(R){return 1==R?"one":"other"},4:function(R){return g(R,0,1)?"one":"other"},5:function(R){return g(R,0,2)&&2!=R?"one":"other"},6:function(R){return 0===R?"zero":R%10==1&&R%100!=11?"one":"other"},7:function(R){return 2==R?"two":1==R?"one":"other"},8:function(R){return g(R,3,6)?"few":g(R,7,10)?"many":2==R?"two":1==R?"one":"other"},9:function(R){return 0===R||1!=R&&g(R%100,1,19)?"few":1==R?"one":"other"},10:function(R){return g(R%10,2,9)&&!g(R%100,11,19)?"few":R%10!=1||g(R%100,11,19)?"other":"one"},11:function(R){return g(R%10,2,4)&&!g(R%100,12,14)?"few":R%10==0||g(R%10,5,9)||g(R%100,11,14)?"many":R%10==1&&R%100!=11?"one":"other"},12:function(R){return g(R,2,4)?"few":1==R?"one":"other"},13:function(R){return g(R%10,2,4)&&!g(R%100,12,14)?"few":1!=R&&g(R%10,0,1)||g(R%10,5,9)||g(R%100,12,14)?"many":1==R?"one":"other"},14:function(R){return g(R%100,3,4)?"few":R%100==2?"two":R%100==1?"one":"other"},15:function(R){return 0===R||g(R%100,2,10)?"few":g(R%100,11,19)?"many":1==R?"one":"other"},16:function(R){return R%10==1&&11!=R?"one":"other"},17:function(R){return 3==R?"few":0===R?"zero":6==R?"many":2==R?"two":1==R?"one":"other"},18:function(R){return 0===R?"zero":g(R,0,2)&&0!==R&&2!=R?"one":"other"},19:function(R){return g(R,2,10)?"few":g(R,0,1)?"one":"other"},20:function(R){return!g(R%10,3,4)&&R%10!=9||g(R%100,10,19)||g(R%100,70,79)||g(R%100,90,99)?R%1e6==0&&0!==R?"many":R%10!=2||D(R%100,[12,72,92])?R%10!=1||D(R%100,[11,71,91])?"other":"one":"two":"few"},21:function(R){return 0===R?"zero":1==R?"one":"other"},22:function(R){return g(R,0,1)||g(R,11,99)?"one":"other"},23:function(R){return g(R%10,1,2)||R%20==0?"one":"other"},24:function(R){return g(R,3,10)||g(R,13,19)?"few":D(R,[2,12])?"two":D(R,[1,11])?"one":"other"}},j={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[V.replace(/-.*$/,"")];return j in w?w[j]:(console.warn("plural form unknown for ["+V+"]"),function(){return"other"})}(b));var j="["+y._pluralRules(w)+"]";return 0===w&&D+"[zero]"in h?V=h[D+"[zero]"][g]:1==w&&D+"[one]"in h?V=h[D+"[one]"][g]:2==w&&D+"[two]"in h?V=h[D+"[two]"][g]:D+j in h?V=h[D+j][g]:D+"[other]"in h&&(V=h[D+"[other]"][g]),V},{get:function(V,B,D){var j,g=V.lastIndexOf("."),w=x;g>0&&(w=V.substring(g+1),V=V.substring(0,g)),D&&((j={})[w]=D);var R=W(V,B,j);return R&&w in R?R[w]:"{{"+V+"}}"},getData:function(){return h},getText:function(){return v},getLanguage:function(){return b},setLanguage:function(V,B){H(V,function(){B&&B()})},getDirection:function(){var B=b.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(B)>=0?"rtl":"ltr"},translate:function X(V){for(var B=function A(V){return V?V.querySelectorAll("*[data-l10n-id]"):[]}(V=V||f.documentElement),D=B.length,g=0;g<D;g++)k(B[g]);k(V)},getReadyState:function(){return m},ready:function(V){V&&("complete"==m||"interactive"==m?F.setTimeout(function(){V()}):f.addEventListener&&f.addEventListener("localized",function B(){f.removeEventListener("localized",B),V()}))}}}(window,document)},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFFindController=f.FindState=void 0;var h=C(7),v=C(3),x=C(23);const b={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};f.FindState=b;const I={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},T=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),A=[...T.values()].map(V=>String.fromCharCode(V)).join(""),c=/\p{M}+/gu,p=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,M=/([^\p{M}])\p{M}*$/u,H=/^\p{M}*([^\p{M}])/u,G=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Y=new Map;let le=null,ie=null;function k(V){const B=[];let D,g;for(;null!==(D=G.exec(V));){let{index:J}=D;for(const oe of D[0]){let ae=Y.get(oe);ae||(ae=oe.normalize("NFD").length,Y.set(oe,ae)),B.push([ae,J++])}}if(0===B.length&&le)g=le;else if(B.length>0&&ie)g=ie;else{const oe=`([${Object.keys(I).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;g=0===B.length?le=new RegExp(oe+"|(\\u0000)","gum"):ie=new RegExp(oe+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const w=[];for(;null!==(D=c.exec(V));)w.push([D[0].length,D.index]);let j=V.normalize("NFD");const R=[[0,0]];let d=0,S=0,N=0,U=0,q=0,ee=!1;return j=j.replace(g,(J,oe,ae,se,he,Ce,ve)=>{if(ve-=U,oe){const Ae=I[J],ce=Ae.length;for(let me=1;me<ce;me++)R.push([ve-N+me,N-me]);return N-=ce-1,Ae}if(ae){const Ae=ae.endsWith("\n"),ce=Ae?ae.length-2:ae.length;ee=!0;let me=ce;ve+q===w[d]?.[1]&&(me-=w[d][0],++d);for(let Se=1;Se<=me;Se++)R.push([ve-1-N+Se,N-Se]);return N-=me,U+=me,Ae?(R.push([(ve+=ce-1)-N+1,1+N]),N+=1,U+=1,q+=1,ae.slice(0,ce)):ae}if(se)return R.push([ve-N+1,1+N]),N+=1,U+=1,q+=1,se.charAt(0);if(he)return R.push([ve-N+1,N-1]),N-=1,U+=1,q+=1," ";if(ve+q===B[S]?.[1]){const Ae=B[S][0]-1;++S;for(let ce=1;ce<=Ae;ce++)R.push([ve-(N-ce),N-ce]);N-=Ae,U+=Ae}return Ce}),R.push([j.length,N]),[j,R,ee]}function z(V,B,D){if(!V)return[B,D];const g=B,w=B+D;let j=(0,h.binarySearchFirstItem)(V,d=>d[0]>=g);V[j][0]>g&&--j;let R=(0,h.binarySearchFirstItem)(V,d=>d[0]>=w,j);return V[R][0]>w&&--R,[g+V[j][1],D+V[R][1]-V[j][1]]}f.PDFFindController=class X{constructor({linkService:B,eventBus:D}){this._linkService=B,this._eventBus=D,this.#t(),D._on("find",this.#e.bind(this)),D._on("findbarclose",this.#v.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(B){this._pdfDocument&&this.#t(),B&&(this._pdfDocument=B,this._firstPageCapability.resolve())}#e(B){if(!B)return;const D=this._pdfDocument,{type:g}=B;(null===this._state||this.#r(B))&&(this._dirtyMatch=!0),this._state=B,"highlightallchange"!==g&&this.#d(b.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||D&&this._pdfDocument!==D)return;this.#h();const w=!this._highlightMatches,j=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),g?this._dirtyMatch?this.#o():"again"===g?(this.#o(),w&&this._state.highlightAll&&this.#l()):"highlightallchange"===g?(j?this.#o():this._highlightMatches=!0,this.#l()):this.#o():this._findTimeout=setTimeout(()=>{this.#o(),this._findTimeout=null},250)})}scrollMatchIntoView({element:B=null,selectedLeft:D=0,pageIndex:g=-1,matchIndex:w=-1}){this._scrollMatches&&B&&-1!==w&&w===this._selected.matchIdx&&-1!==g&&g===this._selected.pageIdx&&(this._scrollMatches=!1,(0,h.scrollIntoView)(B,{top:-50,left:D+-400},!0))}#t(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,v.createPromiseCapability)()}get#n(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=k(this._state.query)),this._normalizedQuery}#r(B){if(B.query!==this._state.query)return!0;switch(B.type){case"again":const D=this._selected.pageIdx+1,g=this._linkService;return D>=1&&D<=g.pagesCount&&D!==g.page&&!g.isPageVisible(D);case"highlightallchange":return!1}return!0}#s(B,D,g){let w=B.slice(0,D).match(M);if(w){const j=B.charCodeAt(D),R=w[1].charCodeAt(0);if((0,x.getCharacterType)(j)===(0,x.getCharacterType)(R))return!1}if(w=B.slice(D+g).match(H),w){const j=B.charCodeAt(D+g-1),R=w[1].charCodeAt(0);if((0,x.getCharacterType)(j)===(0,x.getCharacterType)(R))return!1}return!0}#c(B,D,g,w){const j=[],R=[],d=this._pageDiffs[g];let S;for(;null!==(S=B.exec(w));){if(D&&!this.#s(w,S.index,S[0].length))continue;const[N,U]=z(d,S.index,S[0].length);U&&(j.push(N),R.push(U))}this._pageMatches[g]=j,this._pageMatchesLength[g]=R}#a(B,D){const{matchDiacritics:g}=this._state;let w=!1;return(B=B.replace(p,(R,d,S,N,U,q)=>d?`[ ]*\\${d}[ ]*`:S?`[ ]*${S}[ ]*`:N?"[ ]+":g?U||q:U?T.has(U.charCodeAt(0))?U:"":D?(w=!0,`${q}\\p{M}*`):q)).endsWith("[ ]*")&&(B=B.slice(0,B.length-4)),g&&D&&(w=!0,B=`${B}(?=[${A}]|[^\\p{M}]|$)`),[w,B]}#i(B){let D=this.#n;if(0===D.length)return;const{caseSensitive:g,entireWord:w,phraseSearch:j}=this._state,R=this._pageContents[B],d=this._hasDiacritics[B];let S=!1;if(j)[S,D]=this.#a(D,d);else{const q=D.match(/\S+/g);q&&(D=q.sort().reverse().map(ee=>{const[J,oe]=this.#a(ee,d);return S||=J,`(${oe})`}).join("|"))}D=new RegExp(D,`g${S?"u":""}${g?"":"i"}`),this.#c(D,w,B,R),this._state.highlightAll&&this.#u(B),this._resumePageIdx===B&&(this._resumePageIdx=null,this.#f());const U=this._pageMatches[B].length;U>0&&(this._matchesCountTotal+=U,this.#b())}#h(){if(this._extractTextPromises.length>0)return;let B=Promise.resolve();for(let D=0,g=this._linkService.pagesCount;D<g;D++){const w=(0,v.createPromiseCapability)();this._extractTextPromises[D]=w.promise,B=B.then(()=>this._pdfDocument.getPage(D+1).then(j=>j.getTextContent()).then(j=>{const R=[];for(const d of j.items)R.push(d.str),d.hasEOL&&R.push("\n");[this._pageContents[D],this._pageDiffs[D],this._hasDiacritics[D]]=k(R.join("")),w.resolve()},j=>{console.error(`Unable to get text content for page ${D+1}`,j),this._pageContents[D]="",this._pageDiffs[D]=null,this._hasDiacritics[D]=!1,w.resolve()}))}}#u(B){this._scrollMatches&&this._selected.pageIdx===B&&(this._linkService.page=B+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:B})}#l(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#o(){const B=this._state.findPrevious,D=this._linkService.page-1,g=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=D,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this.#l();for(let j=0;j<g;j++)this._pendingFindMatches.has(j)||(this._pendingFindMatches.add(j),this._extractTextPromises[j].then(()=>{this._pendingFindMatches.delete(j),this.#i(j)}))}if(""===this.#n)return void this.#d(b.FOUND);if(this._resumePageIdx)return;const w=this._offset;if(this._pagesToSearch=g,null!==w.matchIdx){if(!B&&w.matchIdx+1<this._pageMatches[w.pageIdx].length||B&&w.matchIdx>0)return w.matchIdx=B?w.matchIdx-1:w.matchIdx+1,void this.#m(!0);this.#y(B)}this.#f()}#p(B){const D=this._offset,g=B.length,w=this._state.findPrevious;return g?(D.matchIdx=w?g-1:0,this.#m(!0),!0):(this.#y(w),!!(D.wrapped&&(D.matchIdx=null,this._pagesToSearch<0))&&(this.#m(!1),!0))}#f(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let B=null;do{const D=this._offset.pageIdx;if(B=this._pageMatches[D],!B){this._resumePageIdx=D;break}}while(!this.#p(B))}#y(B){const D=this._offset,g=this._linkService.pagesCount;D.pageIdx=B?D.pageIdx-1:D.pageIdx+1,D.matchIdx=null,this._pagesToSearch--,(D.pageIdx>=g||D.pageIdx<0)&&(D.pageIdx=B?g-1:0,D.wrapped=!0)}#m(B=!1){let D=b.NOT_FOUND;const g=this._offset.wrapped;if(this._offset.wrapped=!1,B){const w=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,D=g?b.WRAPPED:b.FOUND,-1!==w&&w!==this._selected.pageIdx&&this.#u(w)}this.#d(D,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#u(this._selected.pageIdx))}#v(B){const D=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||D&&this._pdfDocument!==D||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#d(b.FOUND),this._highlightMatches=!1,this.#l())})}#w(){const{pageIdx:B,matchIdx:D}=this._selected;let g=0,w=this._matchesCountTotal;if(-1!==D){for(let j=0;j<B;j++)g+=this._pageMatches[j]?.length||0;g+=D+1}return(g<1||g>w)&&(g=w=0),{current:g,total:w}}#b(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#w()})}#d(B,D=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:B,previous:D,matchesCount:this.#w(),rawQuery:this._state?.query??null})}}},(F,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CharacterType=void 0,f.getCharacterType=function c(p){return function h(p){return p<11904}(p)?function v(p){return 0==(65408&p)}(p)?function y(p){return 32===p||9===p||13===p||10===p}(p)?C.SPACE:function x(p){return p>=97&&p<=122||p>=65&&p<=90}(p)||function b(p){return p>=48&&p<=57}(p)||95===p?C.ALPHA_LETTER:C.PUNCT:function A(p){return 3584==(65408&p)}(p)?C.THAI_LETTER:160===p?C.SPACE:C.ALPHA_LETTER:function m(p){return p>=13312&&p<=40959||p>=63744&&p<=64255}(p)?C.HAN_LETTER:function O(p){return p>=12448&&p<=12543}(p)?C.KATAKANA_LETTER:function I(p){return p>=12352&&p<=12447}(p)?C.HIRAGANA_LETTER:function T(p){return p>=65376&&p<=65439}(p)?C.HALFWIDTH_KATAKANA_LETTER:C.ALPHA_LETTER};const C={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};f.CharacterType=C},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFHistory=void 0,f.isDestArraysEqual=T,f.isDestHashesEqual=I;var h=C(7),v=C(19);function m(){return document.location.hash}function I(A,c){return"string"==typeof A&&"string"==typeof c&&(A===c||(0,h.parseQueryString)(A).get("nameddest")===c)}function T(A,c){function p(M,H){if(typeof M!=typeof H||Array.isArray(M)||Array.isArray(H))return!1;if(null!==M&&"object"==typeof M&&null!==H){if(Object.keys(M).length!==Object.keys(H).length)return!1;for(const G in M)if(!p(M[G],H[G]))return!1;return!0}return M===H||Number.isNaN(M)&&Number.isNaN(H)}if(!Array.isArray(A)||!Array.isArray(c)||A.length!==c.length)return!1;for(let M=0,H=A.length;M<H;M++)if(!p(A[M],c[M]))return!1;return!0}f.PDFHistory=class O{constructor({linkService:c,eventBus:p}){this.linkService=c,this.eventBus=p,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",M=>{this._isPagesLoaded=!!M.pagesCount},{once:!0})})}initialize({fingerprint:c,resetHistory:p=!1,updateUrl:M=!1}){if(!c||"string"!=typeof c)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const H=""!==this._fingerprint&&this._fingerprint!==c;this._fingerprint=c,this._updateUrl=!0===M,this._initialized=!0,this._bindEvents();const G=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=m(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(G,!0)||p){const{hash:W,page:le,rotation:ie}=this._parseCurrentHash(!0);return!W||H||p?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:W,page:le,rotation:ie},!0)}const Y=G.destination;this._updateInternalState(Y,G.uid,!0),void 0!==Y.rotation&&(this._initialRotation=Y.rotation),Y.dest?(this._initialBookmark=JSON.stringify(Y.dest),this._destination.page=null):Y.hash?this._initialBookmark=Y.hash:Y.page&&(this._initialBookmark=`page=${Y.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:c=null,explicitDest:p,pageNumber:M}){if(!this._initialized)return;if(c&&"string"!=typeof c)return void console.error(`PDFHistory.push: "${c}" is not a valid namedDest parameter.`);if(!Array.isArray(p))return void console.error(`PDFHistory.push: "${p}" is not a valid explicitDest parameter.`);if(!this._isValidPage(M)&&(null!==M||this._destination))return void console.error(`PDFHistory.push: "${M}" is not a valid pageNumber parameter.`);const H=c||JSON.stringify(p);if(!H)return;let G=!1;if(this._destination&&(I(this._destination.hash,H)||T(this._destination.dest,p))){if(this._destination.page)return;G=!0}this._popStateInProgress&&!G||(this._pushOrReplaceState({dest:p,hash:H,page:M,rotation:this.linkService.rotation},G),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(c){if(this._initialized){if(!this._isValidPage(c))return void console.error(`PDFHistory.pushPage: "${c}" is not a valid page number.`);this._destination?.page!==c&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${c}`,page:c,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const c=window.history.state;this._isValidState(c)&&c.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const c=window.history.state;this._isValidState(c)&&c.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(c,p=!1){const M=p||!this._destination,H={fingerprint:this._fingerprint,uid:M?this._uid:this._uid+1,destination:c};let G;if(this._updateInternalState(c,H.uid),this._updateUrl&&c?.hash){const Y=document.location.href.split("#")[0];Y.startsWith("file://")||(G=`${Y}#${c.hash}`)}M?window.history.replaceState(H,"",G):window.history.pushState(H,"",G)}_tryPushCurrentPosition(c=!1){if(!this._position)return;let p=this._position;if(c&&(p=Object.assign(Object.create(null),this._position),p.temporary=!0),!this._destination)return void this._pushOrReplaceState(p);if(this._destination.temporary)return void this._pushOrReplaceState(p,!0);if(this._destination.hash===p.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let M=!1;if(this._destination.page>=p.first&&this._destination.page<=p.page){if(void 0!==this._destination.dest||!this._destination.first)return;M=!0}this._pushOrReplaceState(p,M)}_isValidPage(c){return Number.isInteger(c)&&c>0&&c<=this.linkService.pagesCount}_isValidState(c,p=!1){if(!c)return!1;if(c.fingerprint!==this._fingerprint){if(!p)return!1;{if("string"!=typeof c.fingerprint||c.fingerprint.length!==this._fingerprint.length)return!1;const[M]=performance.getEntriesByType("navigation");if("reload"!==M?.type)return!1}}return!(!Number.isInteger(c.uid)||c.uid<0||null===c.destination||"object"!=typeof c.destination)}_updateInternalState(c,p,M=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),M&&c?.temporary&&delete c.temporary,this._destination=c,this._uid=p,this._maxUid=Math.max(this._maxUid,p),this._numPositionUpdates=0}_parseCurrentHash(c=!1){const p=unescape(m()).substring(1),M=(0,h.parseQueryString)(p),H=M.get("nameddest")||"";let G=0|M.get("page");return(!this._isValidPage(G)||c&&H.length>0)&&(G=null),{hash:p,page:G,rotation:this.linkService.rotation}}_updateViewarea({location:c}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:c.pdfOpenParams.substring(1),page:this.linkService.page,first:c.pageNumber,rotation:c.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:c}){const p=m(),M=this._currentHash!==p;if(this._currentHash=p,!c){this._uid++;const{hash:G,page:Y,rotation:W}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:G,page:Y,rotation:W},!0)}if(!this._isValidState(c))return;this._popStateInProgress=!0,M&&(this._blockHashChange++,(0,v.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const H=c.destination;this._updateInternalState(H,c.uid,!0),(0,h.isValidRotation)(H.rotation)&&(this.linkService.rotation=H.rotation),H.dest?this.linkService.goToDestination(H.dest):H.hash?this.linkService.setHash(H.hash):H.page&&(this.linkService.page=H.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFScriptingManager=void 0;var h=C(7),v=C(3);f.PDFScriptingManager=class x{constructor({eventBus:y,sandboxBundleSrc:m=null,scriptingFactory:O=null,docPropertiesLookup:I=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=y,this._sandboxBundleSrc=m,this._scriptingFactory=O,this._docPropertiesLookup=I,this._scriptingFactory||window.addEventListener("updatefromsandbox",T=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:T.detail})})}setViewer(y){this._pdfViewer=y}setDocument(y){var m=this;return _(function*(){if(m._pdfDocument&&(yield m._destroyScripting()),m._pdfDocument=y,!y)return;const[O,I,T]=yield Promise.all([y.getFieldObjects(),y.getCalculationOrderIds(),y.getJSActions()]);if(O||T){if(y===m._pdfDocument){try{m._scripting=m._createScripting()}catch(A){return console.error(`PDFScriptingManager.setDocument: "${A?.message}".`),void(yield m._destroyScripting())}m._internalEvents.set("updatefromsandbox",A=>{A?.source===window&&m._updateFromSandbox(A.detail)}),m._internalEvents.set("dispatcheventinsandbox",A=>{m._scripting?.dispatchEventInSandbox(A.detail)}),m._internalEvents.set("pagechanging",({pageNumber:A,previous:c})=>{A!==c&&(m._dispatchPageClose(c),m._dispatchPageOpen(A))}),m._internalEvents.set("pagerendered",({pageNumber:A})=>{m._pageOpenPending.has(A)&&A===m._pdfViewer.currentPageNumber&&m._dispatchPageOpen(A)}),m._internalEvents.set("pagesdestroy",function(){var A=_(function*(c){yield m._dispatchPageClose(m._pdfViewer.currentPageNumber),yield m._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),m._closeCapability?.resolve()});return function(c){return A.apply(this,arguments)}}()),m._domEvents.set("mousedown",A=>{m._mouseState.isDown=!0}),m._domEvents.set("mouseup",A=>{m._mouseState.isDown=!1});for(const[A,c]of m._internalEvents)m._eventBus._on(A,c);for(const[A,c]of m._domEvents)window.addEventListener(A,c,!0);try{const A=yield m._getDocProperties();if(y!==m._pdfDocument)return;yield m._scripting.createSandbox({objects:O,calculationOrder:I,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...A,actions:T}}),m._eventBus.dispatch("sandboxcreated",{source:m})}catch(A){return console.error(`PDFScriptingManager.setDocument: "${A?.message}".`),void(yield m._destroyScripting())}yield m._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield m._dispatchPageOpen(m._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{y===m._pdfDocument&&(m._ready=!0)})}}else yield m._destroyScripting()})()}dispatchWillSave(y){var m=this;return _(function*(){return m._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(y){var m=this;return _(function*(){return m._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(y){var m=this;return _(function*(){return m._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(y){var m=this;return _(function*(){return m._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,v.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,v.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,v.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,v.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(y){var m=this;return _(function*(){const O=m._pdfViewer.isInPresentationMode||m._pdfViewer.isChangingPresentationMode,{id:I,siblings:T,command:A,value:c}=y;if(!I){switch(A){case"clear":console.clear();break;case"error":console.error(c);break;case"layout":if(O)return;const M=(0,h.apiPageLayoutToViewerModes)(c);m._pdfViewer.spreadMode=M.spreadMode;break;case"page-num":m._pdfViewer.currentPageNumber=c+1;break;case"print":yield m._pdfViewer.pagesPromise,m._eventBus.dispatch("print",{source:m});break;case"println":console.log(c);break;case"zoom":if(O)return;m._pdfViewer.currentScaleValue=c;break;case"SaveAs":m._eventBus.dispatch("download",{source:m});break;case"FirstPage":m._pdfViewer.currentPageNumber=1;break;case"LastPage":m._pdfViewer.currentPageNumber=m._pdfViewer.pagesCount;break;case"NextPage":m._pdfViewer.nextPage();break;case"PrevPage":m._pdfViewer.previousPage();break;case"ZoomViewIn":if(O)return;m._pdfViewer.increaseScale();break;case"ZoomViewOut":if(O)return;m._pdfViewer.decreaseScale()}return}if(O&&y.focus)return;delete y.id,delete y.siblings;const p=T?[I,...T]:[I];for(const M of p){const H=document.querySelector(`[data-element-id="${M}"]`);H?H.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:y})):m._pdfDocument?.annotationStorage.setValue(M,y)}})()}_dispatchPageOpen(y,m=!1){var O=this;return _(function*(){const I=O._pdfDocument,T=O._visitedPages;if(m&&(O._closeCapability=(0,v.createPromiseCapability)()),!O._closeCapability)return;const A=O._pdfViewer.getPageView(y-1);if(A?.renderingState!==h.RenderingStates.FINISHED)return void O._pageOpenPending.add(y);O._pageOpenPending.delete(y);const c=_(function*(){const p=yield T.has(y)?null:A.pdfPage?.getJSActions();I===O._pdfDocument&&(yield O._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:y,actions:p}))})();T.set(y,c)})()}_dispatchPageClose(y){var m=this;return _(function*(){const O=m._pdfDocument,I=m._visitedPages;if(!m._closeCapability||m._pageOpenPending.has(y))return;const T=I.get(y);T&&(I.set(y,null),yield T,O===m._pdfDocument&&(yield m._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:y})))})()}_getDocProperties(){var y=this;return _(function*(){if(y._docPropertiesLookup)return y._docPropertiesLookup(y._pdfDocument);const{docPropertiesLookup:m}=C(26);return m(y._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,v.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:y}=C(26);return new y(this._sandboxBundleSrc)}_destroyScripting(){var y=this;return _(function*(){if(!y._scripting)return y._pdfDocument=null,void y._destroyCapability?.resolve();y._closeCapability&&(yield Promise.race([y._closeCapability.promise,new Promise(m=>{setTimeout(m,1e3)})]).catch(m=>{}),y._closeCapability=null),y._pdfDocument=null;try{yield y._scripting.destroySandbox()}catch{}for(const[m,O]of y._internalEvents)y._eventBus._off(m,O);y._internalEvents.clear();for(const[m,O]of y._domEvents)window.removeEventListener(m,O,!0);y._domEvents.clear(),y._pageOpenPending.clear(),y._visitedPages.clear(),y._scripting=null,delete y._mouseState.isDown,y._ready=!1,y._destroyCapability?.resolve()})()}}},(F,f,C)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GenericScripting=void 0,f.docPropertiesLookup=function v(y){return x.apply(this,arguments)};var h=C(3);function x(){return(x=_(function*(y){const O="".split("#")[0];let{info:I,metadata:T,contentDispositionFilename:A,contentLength:c}=yield y.getMetadata();if(!c){const{length:p}=yield y.getDownloadInfo();c=p}return{...I,baseURL:O,filesize:c,filename:A||(0,h.getPdfFilenameFromUrl)(""),metadata:T?.getRaw(),authors:T?.get("dc:creator"),numPages:y.numPages,URL:""}})).apply(this,arguments)}f.GenericScripting=class b{constructor(m){this._ready=(0,h.loadScript)(m,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(m){var O=this;return _(function*(){(yield O._ready).create(m)})()}dispatchEventInSandbox(m){var O=this;return _(function*(){const I=yield O._ready;setTimeout(()=>I.dispatchEvent(m),0)})()}destroySandbox(){var m=this;return _(function*(){(yield m._ready).nukeSandbox()})()}}}],te={};function Q(F){var f=te[F];if(void 0!==f)return f.exports;var C=te[F]={exports:{}};return L[F](C,C.exports,Q),C.exports}var ne={};return(()=>{var F=ne;Object.defineProperty(F,"__esModule",{value:!0}),Object.defineProperty(F,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return x.AnnotationLayerBuilder}}),Object.defineProperty(F,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return f.DefaultAnnotationLayerFactory}}),Object.defineProperty(F,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return f.DefaultStructTreeLayerFactory}}),Object.defineProperty(F,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return f.DefaultTextLayerFactory}}),Object.defineProperty(F,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return f.DefaultXfaLayerFactory}}),Object.defineProperty(F,"DownloadManager",{enumerable:!0,get:function(){return b.DownloadManager}}),Object.defineProperty(F,"EventBus",{enumerable:!0,get:function(){return y.EventBus}}),Object.defineProperty(F,"GenericL10n",{enumerable:!0,get:function(){return m.GenericL10n}}),Object.defineProperty(F,"LinkTarget",{enumerable:!0,get:function(){return C.LinkTarget}}),Object.defineProperty(F,"NullL10n",{enumerable:!0,get:function(){return O.NullL10n}}),Object.defineProperty(F,"PDFFindController",{enumerable:!0,get:function(){return I.PDFFindController}}),Object.defineProperty(F,"PDFHistory",{enumerable:!0,get:function(){return T.PDFHistory}}),Object.defineProperty(F,"PDFLinkService",{enumerable:!0,get:function(){return C.PDFLinkService}}),Object.defineProperty(F,"PDFPageView",{enumerable:!0,get:function(){return A.PDFPageView}}),Object.defineProperty(F,"PDFScriptingManager",{enumerable:!0,get:function(){return c.PDFScriptingManager}}),Object.defineProperty(F,"PDFSinglePageViewer",{enumerable:!0,get:function(){return v.PDFSinglePageViewer}}),Object.defineProperty(F,"PDFViewer",{enumerable:!0,get:function(){return v.PDFViewer}}),Object.defineProperty(F,"ProgressBar",{enumerable:!0,get:function(){return h.ProgressBar}}),Object.defineProperty(F,"RenderingStates",{enumerable:!0,get:function(){return h.RenderingStates}}),Object.defineProperty(F,"ScrollMode",{enumerable:!0,get:function(){return h.ScrollMode}}),Object.defineProperty(F,"SimpleLinkService",{enumerable:!0,get:function(){return C.SimpleLinkService}}),Object.defineProperty(F,"SpreadMode",{enumerable:!0,get:function(){return h.SpreadMode}}),Object.defineProperty(F,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return p.StructTreeLayerBuilder}}),Object.defineProperty(F,"TextLayerBuilder",{enumerable:!0,get:function(){return M.TextLayerBuilder}}),Object.defineProperty(F,"XfaLayerBuilder",{enumerable:!0,get:function(){return H.XfaLayerBuilder}}),Object.defineProperty(F,"parseQueryString",{enumerable:!0,get:function(){return h.parseQueryString}});var f=Q(1),C=Q(6),h=Q(7),v=Q(11),x=Q(5),b=Q(18),y=Q(19),m=Q(20),O=Q(4),I=Q(22),T=Q(24),A=Q(13),c=Q(25),p=Q(8),M=Q(9),H=Q(10)})(),ne})()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:pe=>{function E(_,L,te,Q,ne,F,f){try{var C=_[F](f),h=C.value}catch(v){return void te(v)}C.done?L(h):Promise.resolve(h).then(Q,ne)}pe.exports=function K(_){return function(){var L=this,te=arguments;return new Promise(function(Q,ne){var F=_.apply(L,te);function f(h){E(F,Q,ne,f,C,"next",h)}function C(h){E(F,Q,ne,f,C,"throw",h)}f(void 0)})}},pe.exports.__esModule=!0,pe.exports.default=pe.exports}},pe=>{pe(pe.s=519)}]);